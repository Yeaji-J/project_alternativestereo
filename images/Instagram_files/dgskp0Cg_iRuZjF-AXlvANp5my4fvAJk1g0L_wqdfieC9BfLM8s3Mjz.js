;/*FB_PKG_DELIM*/

__d("oz-player/shims/ozReportUnexpectedError",["oz-player/shims/www/ozReportUnexpectedErrorWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozReportUnexpectedErrorWWW")}),98);
__d("oz-player/loggings/OzLoggingUtils",["oz-player/shims/ozReportUnexpectedError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.getOperationLogger(t).start();try{return n(r)}catch(e){throw r.setError(e),e}finally{r.log()}}function s(e,t,n,o,a){o===void 0&&(o=function(){}),a===void 0&&(a=function(){});var i=t.getOperationLogger(n).start();o(i),e.then(function(e){a(i),i.log()},function(e){a(i),i.setError(e),i.log()}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,n+" logger")})}l.executeOperationAndLog=e,l.monitorPromiseAndLogOperation=s}),98);
__d("oz-player/loggings/OzOperationLoggerBase",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$52=new Map,this.$1=e}var t=e.prototype;return t.start=function(){var e=Date.now();return this.setClientTimeBegin(e),this.setClientTimeEnd(null),this.setClientTimeDuration(null),this},t.log=function(){var e=Date.now(),t=this.getClientTimeBegin(),n=this.getClientTimeEnd();(t==null||t===0)&&(t=e,this.setClientTimeBegin(t)),(n==null||n===0)&&(n=e,this.setClientTimeEnd(n)),this.setClientTimeDuration(n-t)},t.setError=function(t){return this.$2=t,this},t.setPerSessionSampleRate=function(t){return this.$3=t,this},t.setAppendTarget=function(t){return this.$47=t,this},t.setOneObserved=function(t){return this.$44=t,this},t.setOneReqWave=function(t){return this.$45=t,this},t.setOneResWave=function(t){return this.$46=t,this},t.setIsP2pPlayback=function(t){return this.$43=t,this},t.setResult=function(t){return this.$4=t,this},t.setType=function(t){return this.$5=t,this},t.setClientTimeBegin=function(t){return this.$6=t,this},t.setClientTimeDuration=function(t){return this.$7=t,this},t.setClientTimeEnd=function(t){return this.$8=t,this},t.setSegmentCount=function(t){return this.$15=t,this},t.setTimeToFirstByte=function(t){return this.$9=t,this},t.setTimeToLastByte=function(t){return this.$10=t,this},t.setTimeToRequestStart=function(t){return this.$11=t,this},t.setTimeToRequestSent=function(t){return this.$12=t,this},t.setReason=function(t){return this.$13=t,this},t.setResource=function(t){return this.$14=t,this},t.setSegmentStartTime=function(t){return this.$16=t,this},t.setSegmentEndTime=function(t){return this.$17=t,this},t.setLength=function(t){return this.$18=t,this},t.setLiveheadPosition=function(t){return this.$19=t,this},t.setLiveheadSeqNumHeader=function(t){return this.$20=t,this},t.setLiveheadSeqNumMpd=function(t){return this.$21=t,this},t.setManifestType=function(t){return this.$22=t,this},t.setMediaSourceNewDuration=function(t){return this.$23=t,this},t.setMediaSourcePreviousDuration=function(t){return this.$24=t,this},t.setPriorityFloat=function(t){return this.$25=t,this},t.setAppendedBufferMs=function(t){return this.$26=t,this},t.setInitiator=function(t){return this.$27=t,this},t.setPreloadTime=function(t){return this.$28=t,this},t.setConcluder=function(t){return this.$29=t,this},t.setPreviousRepresentationID=function(t){return this.$30=t,this},t.setRepresentationID=function(t){return this.$31=t,this},t.setStreamSwitchReason=function(t){return this.$32=t,this},t.setState=function(t){return this.$33=t,this},t.setContentLengthHeader=function(t){return this.$34=t,this},t.setOriginHitHeader=function(t){return this.$36=t,this},t.setEdgeHitHeader=function(t){return this.$37=t,this},t.setFNAHitHeader=function(t){return this.$38=t,this},t.setCode=function(t){return this.$35=t,this},t.setResponseTimeMsHeader=function(t){return this.$39=t,this},t.setIsTemplatedManifest=function(t){return this.$40=t,this},t.setIsLatencyCachupEnabled=function(t){return this.$41=t,this},t.setPlayerFormat=function(t){return this.$42=t,this},t.setIsRingBufferSample=function(t){return this.$48=t,this},t.setIsOnline=function(t){return this.$49=t,this},t.setProxyStatusHeader=function(t){return this.$50=t,this},t.setPlaybackFbmsParam=function(t){return this},t.setPreferredEdgeLatency=function(t){return this.$51=t,this},t.setUserInfo=function(t){return this},t.setDynamicStatusHeader=function(t){return this},t.setIsMixedCodecManifest=function(t){return this.$53=t,this},t.getPerSessionSampleRate=function(){return this.$3},t.setMediaSourceSourceBuffer=function(t,n){return this.$52.set(t,n),this},t.unsetMediaSourceSourceBuffers=function(){return this.$52.clear(),this},t.getError=function(){return this.$2},t.getResult=function(){return this.$4},t.getType=function(){return this.$5},t.getClientTimeBegin=function(){return this.$6},t.getClientTimeEnd=function(){return this.$7!=null?this.$6!=null?this.$6+this.$7:null:this.$8},t.getTimeToRequestStart=function(){return this.$11},t.getTimeToRequestSent=function(){return this.$12},t.getReason=function(){return this.$13},t.getResource=function(){return this.$14},t.getOperationName=function(){return this.$1},t.getSegmentStartTime=function(){return this.$16},t.getSegmentEndTime=function(){return this.$17},t.getLength=function(){return this.$18},t.getLiveheadPosition=function(){return this.$19},t.getManifestType=function(){return this.$22},t.getIsMixedCodecManifest=function(){return this.$53},t.getPriorityFloat=function(){return this.$25},t.getAppendedBufferMs=function(){return this.$26},t.getInitiator=function(){return this.$27},t.getPreloadTime=function(){return this.$28},t.getConcluder=function(){return this.$29},t.getContentLengthHeader=function(){return this.$34},t.getOriginHitHeader=function(){return this.$36},t.getEdgeHitHeader=function(){return this.$37},t.getFNAHitHeader=function(){return this.$38},t.getCode=function(){return this.$35},t.getResponseTimeMsHeader=function(){return this.$39},t.getIsTemplatedManifest=function(){return this.$40},t.getOneObserved=function(){return this.$44},t.getOneReqWave=function(){return this.$45},t.getOneResWave=function(){return this.$46},t.getAppendTarget=function(){return this.$47},t.getIsRingBufferSample=function(){return this.$48},t.getIsOnline=function(){return this.$49},t.getProxyStatusHeader=function(){return this.$50},t.getMediaSourceSourceBuffers=function(){return this.$52},e})();i.default=e}),66);
__d("oz-player/shims/www/OzMaybeNativePromiseWWW",["cr:3014"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:3014")}),98);
__d("oz-player/shims/OzMaybeNativePromise",["oz-player/shims/www/OzMaybeNativePromiseWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzMaybeNativePromiseWWW")}),98);
__d("oz-player/utils/OzErrorEmitter",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return t===void 0&&(t=!1),n=e.call(this)||this,n.$OzErrorEmitter$p_1=!1,n.$OzErrorEmitter$p_2=!1,n.$OzErrorEmitter$p_3=[],n.emitError=function(e){n.$OzErrorEmitter$p_1?n.emit("error",e):n.$OzErrorEmitter$p_2?n.$OzErrorEmitter$p_3.push(e):n.$OzErrorEmitter$p_1||r("oz-player/shims/ozvariant")(0,14038)},n.$OzErrorEmitter$p_2=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.onError=function(t){this.$OzErrorEmitter$p_1=!0;var e=this.addListener("error",t);return this.$OzErrorEmitter$p_2&&this.$OzErrorEmitter$p_3.length>0&&this.$OzErrorEmitter$p_3.forEach(this.emitError),e},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/drm/OzDrmManager",["oz-player/drm/OzDrmUtils","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzOperationLoggerBase","oz-player/shims/OzDOMEventListener","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var a=this;n===void 0&&(n=null),this.$1=null,this.$2=new Map,this.$4=!1,this.$6=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$7=new(r("oz-player/utils/OzErrorEmitter")),this.$8=!1,this.$9=null,this.$10=0,this.$11=[],this.$12=[],this.$22=function(e,t){e instanceof r("oz-player/loggings/OzOperationLoggerBase")&&e.getError()&&e.setResult("failed"),t!=null&&e.setReason(t)},this.$19=function(e){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to mediaKeySystemAccess.createMediaKeys()."}));var t=a.$5.mediaKeys!=null?r("oz-player/shims/OzMaybeNativePromise").resolve(a.$5.mediaKeys):e.createMediaKeys(),n=t.then(function(t){return{mediaKeySystemAccess:e,mediaKeys:t}});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(n,a.$3,"drm_create_media_keys",function(){},a.$22),n},this.$20=function(e){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed before call to setMediaKeys()"}));var t=e.mediaKeySystemAccess,n=e.mediaKeys;if(!n)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No mediaKeys for mediaKeySystemAccess"});var i=a.$5.setMediaKeys(n).then(function(){if(a.$4)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"OzDrmManager destroyed after setMediaKeys() called."}));var e=Array.from(a.$2.values()).find(function(e){return e.getKeySystem()===t.keySystem});if(!e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Can't find OzDrmProvider for keySystem "+t.keySystem});var i=e.getServerCertificate();return i?n.setServerCertificate(i).then(function(){return{mediaKeys:n,provider:e}}):{mediaKeys:n,provider:e}});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,a.$3,"drm_set_media_keys",function(){},a.$22),i},this.$21=function(e){var t=e.mediaKeys,n=e.provider,i=n.getInitDatas();if(i.length===0)return a.$6.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$5,"encrypted",function(e){a.$23(t,n,e).catch(function(e){a.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(e,{type:"OZ_DRM_MANAGER",description:"DRM encrypted rejection"}))})})),r("oz-player/shims/OzMaybeNativePromise").resolve([]);var l=i.map(function(e){return a.$23(t,n,{initData:e.data,initDataType:e.type})}),s=r("oz-player/shims/OzMaybeNativePromise").all(l);return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(s,a.$3,"drm_request_license",function(){},a.$22),s},this.$5=t,this.$1=n,this.$3=e.cloneContext().setType("drm_manager")}var t=e.prototype;return t.hasContentProtections=function(){return this.$9},t.onError=function(t){return this.$7.onError(t)},t.$13=function(t){this.$7.emitError(t)},t.$14=function(t){var e,n,r=(e=(n=this.$1)==null?void 0:n.maxStartEMEAttempts)!=null?e:-1;this.$10<r?this.$15():this.$13(t)},t.addProvider=function(t){this.$2.set(t.getSchemeId(),t)},t.getProviderForSchemeId=function(t){return this.$2.get(t)},t.$16=function(t){if(!t)return null;for(var e=[],n=0;n<t.length;n++){var r=t[n],a=r.$.schemeIdUri,i=this.getProviderForSchemeId(a);if(i){var l=i.getInitDatas();if(l.length==0&&r["cenc:pssh"]&&r["cenc:pssh"].length===1){var s,u=(s=r["cenc:pssh"][0]._)!=null?s:"",c=o("oz-player/drm/OzDrmUtils").base64ToUint8Array(u.replace(/-/g,"+").replace(/_/g,"/"));l=[{data:c,type:"cenc"}],i.setInitDatas(l)}e.push({provider:i,initDatas:l})}}return e},t.$15=function(){try{this.$8=!1,this.startEME(this.$11,this.$12)}catch(t){var e=t;this.$13(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"Restart EME failed with: "+String(e),extra:{}}))}},t.startEME=function(t,n){var e=this;if(!this.$8){this.$8=!0,this.$10+=1,this.$11=t,this.$12=n;var r=new Map;this.$17(n,r,"audio"),this.$17(t,r,"video");var a;if(r.forEach(function(t,n){a?a=a.catch(function(){return e.$18(n,t)}):a=e.$18(n,t)}),!a){this.$9=!1;return}var i=a;this.$9=!0;var l=this.$3.getOperationLogger("drm_setup").start();i.then(this.$19).then(this.$20).then(this.$21).then(function(){return l.log()},function(t){var n=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM definedKeyPromiseChain rejection"});e.$13(n),l.setResult("failed").setError(n).log()})}},t.$17=function(t,n,r){var e=this;t.forEach(function(t){var o=e.$16(t.getContentProtectionXml()),a=t.getMimeCodecs();o!=null&&o.forEach(function(e){var t=e.provider,o=t.getKeySystem(),i=n.get(o);i||(i={audioCapabilities:new Map,videoCapabilities:new Map,distinctiveIdentifier:t.getRequireDistinctiveIdentifier(),persistentState:t.getRequirePersistentState(),sessionTypes:t.getDrmSessionTypes(),initDataTypes:t.getInitDataTypes()},n.set(o,i)),r==="audio"&&!i.audioCapabilities.has(a)&&i.audioCapabilities.set(a,{contentType:a,robustness:t.getAudioRobustness()}),r==="video"&&!i.videoCapabilities.has(a)&&i.videoCapabilities.set(a,{contentType:a,robustness:t.getVideoRobustness()})})})},t.destroy=function(){this.$6.release(),this.$4=!0},t.$18=function(t,n){var e=this,a={audioCapabilities:Array.from(n.audioCapabilities.values()),videoCapabilities:Array.from(n.videoCapabilities.values()),distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes,initDataTypes:n.initDataTypes},i=window.navigator.requestMediaKeySystemAccess(t,[a]);return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$3,"drm_request_media_key_system_access",function(){},function(n){var o=null;return n instanceof r("oz-player/loggings/OzOperationLoggerBase")&&n.getError()&&(o="keySystem: "+t+";domConfig: "+JSON.stringify(a)),e.$22(n,o)}),i},t.$23=function(t,n,a){var e=this,i=t.createSession();return this.$6.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(i,"message",function(t){e.$24(i,n,t).catch(function(t){e.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM message rejection"}))})}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(i,"keystatuseschange",function(t){e.$25(i).catch(function(t){e.$14(o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{type:"OZ_DRM_MANAGER",description:"DRM keystatuseschange rejection"}))})})),i.generateRequest(a.initDataType,a.initData)},t.$24=function(t,n,r){var e=this,a=n.getLicenseRequestInfo(r.message.slice(0)),i=this.$3.getOperationLogger("drm_fetch_license").setResource(a.url).start();return window.fetch(a.url,a).then(function(r){return r.ok?i.setResult("success").setCode(r.status).log():i.setResult("failed").setCode(r.status).setError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"DRM license fetch HTTP status not OK ("+r.status+")",extra:{code:r.status.toString()}})).log(),r.arrayBuffer().then(function(a){var i=new Uint8Array(a),l=n.parseLicenseResponse(i);if(l==null||l.byteLength===0){var s,u,c=l==null?"License is null or undefined.":"License is 0 bytes.";r.ok?a.byteLength===0&&(c+=" HTTP status OK ("+r.status+"), but response body is 0 bytes"):c+=" HTTP status not OK ("+r.status+")";var d=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DRM_MANAGER",description:"No license for "+n.getKeySystem()+" - "+c,extra:{code:r.status.toString(),headers:r.headers,url:r.url}}),m=(s=(u=e.$1)==null?void 0:u.throwNoLicenseError)!=null?s:!1;if(m)throw d;e.$13(d)}else t.update(l)})})},t.$25=function(t){return t.expiration<Date.now()?t.close():r("oz-player/shims/OzMaybeNativePromise").resolve()},e})();l.OzDrmManager=e}),98);
__d("oz-player/loggings/OzPerfLoggerProviderBase",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.cloneContext=function(){var e=this.createLoggerProvider();return this.$11(e),e},t.setType=function(t){return this.$1=t,this},t.setInitiator=function(t){return this.$2=t,this},t.setResource=function(t){return this.$4=t,this},t.setRepresentationID=function(t){return this.$3=t,this},t.setSegmentStartTime=function(t){return this.$5=t,this},t.setSegmentEndTime=function(t){return this.$6=t,this},t.setStreamSwitchReason=function(t){return this.$7=t,this},t.setIsP2pPlayback=function(t){return this.$8=t,this},t.setIsRingBufferSample=function(t){return this.$9=t,this},t.setPerSessionSampleRate=function(t){return this.$10=t,this},t.getType=function(){return this.$1},t.getInitiator=function(){return this.$2},t.getRepresentationID=function(){return this.$3},t.getStreamSwitchReason=function(){return this.$7},t.getResource=function(){return this.$4},t.getSegmentStartTime=function(){return this.$5},t.getSegmentEndTime=function(){return this.$6},t.getIsP2pPlayback=function(){return this.$8},t.getIsRingBufferSample=function(){return this.$9},t.getOperationLogger=function(t){var e=this.createOperationLogger(t);return this.setOperationContext(e)},t.setOperationContext=function(t){return this.$11(t),t},t.createOperationLogger=function(t){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createOperationLogger"})},t.createLoggerProvider=function(){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: createLoggerProvider"})},t.$11=function(t){this.getType()&&t.setType(this.getType()),this.getInitiator()&&t.setInitiator(this.getInitiator()),this.getResource()&&t.setResource(this.getResource()),this.getRepresentationID()&&t.setRepresentationID(this.getRepresentationID()),this.getStreamSwitchReason()&&t.setStreamSwitchReason(this.getStreamSwitchReason()),typeof this.getSegmentStartTime()=="number"&&t.setSegmentStartTime(this.getSegmentStartTime()),typeof this.getSegmentEndTime()=="number"&&t.setSegmentEndTime(this.getSegmentEndTime()),typeof this.getIsP2pPlayback()=="boolean"&&t.setIsP2pPlayback(this.getIsP2pPlayback()),typeof this.getIsRingBufferSample()=="boolean"&&t.setIsRingBufferSample(this.getIsRingBufferSample())},e})();l.default=e}),98);
__d("oz-player/loggings/OzDevConsolePerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(t,n,r,o,a,i,l){"use strict";function e(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).debug.apply(e,["[oz]"].concat(n))}function s(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,["[oz]"].concat(n))}function u(e,t){return Math.floor(e).toString().padStart(t,"0")}function c(e,t){t===void 0&&(t=null);var n=function(t){return u(t.getHours(),2)+":"+u(t.getMinutes(),2)+":"+u(t.getSeconds(),2)+" "+u(t.getMilliseconds(),3)},r=t?t.getTime()-e.getTime():0;return"["+n(e)+(t?" - "+n(t):"")+" ("+r+" ms)]"}function d(t){return t==="failed"?s:e}function m(e){return e==null||e===0?null:e.toFixed(2)}var p=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.createOperationLogger=function(t){return new _(t)},n.createLoggerProvider=function(){return new t},t})(r("oz-player/loggings/OzPerfLoggerProviderBase")),_=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.log=function(){e.prototype.log.call(this);var t=this.getClientTimeBegin()||0,n=this.getClientTimeEnd(),r=n!=null&&n!==0?new Date(n):null,o=this.getResult()||"success",a=this.getType(),i=this.getInitiator(),l=this.getResource(),s=m(this.getSegmentStartTime()),u=m(this.getSegmentEndTime());d(o)("["+o+"]",this.getOperationName()+": "+c(new Date(t),r),a!=null&&a!==""?"["+a+"]":"",s!=null&&s!==""&&u!=null&&u!==""?"[segment time range: "+s+" - "+u+"]":"",i||"",l||"")},t})(r("oz-player/loggings/OzOperationLoggerBase"));l.OzDevConsolePerfLoggerProvider=p,l.OzDevConsoleOperationLogger=_}),98);
__d("oz-player/loggings/OzMultiDestinationPerfLogger",["oz-player/loggings/OzOperationLoggerBase","oz-player/loggings/OzPerfLoggerProviderBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OzMultiDestinationPerfLoggerProvider$p_1=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.createOperationLogger=function(t){return new s(t,this.$OzMultiDestinationPerfLoggerProvider$p_1.map(function(e){return e.getOperationLogger(t)}))},n.createLoggerProvider=function(){return new t(this.$OzMultiDestinationPerfLoggerProvider$p_1)},t})(r("oz-player/loggings/OzPerfLoggerProviderBase")),s=(function(e){function t(t,n){var r;return r=e.call(this,t)||this,r.$OzMultiDestinationOperationLogger$p_1=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.start=function(){return e.prototype.start.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.start()}),this},n.setPerSessionSampleRate=function(n){return e.prototype.setPerSessionSampleRate.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPerSessionSampleRate(n)}),this},n.setResult=function(n){return e.prototype.setResult.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResult(n)}),this},n.setError=function(n){return e.prototype.setError.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setError(n)}),this},n.setType=function(n){return e.prototype.setType.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setType(n)}),this},n.setMediaSourcePreviousDuration=function(n){return e.prototype.setMediaSourcePreviousDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourcePreviousDuration(n)}),this},n.setMediaSourceNewDuration=function(n){return e.prototype.setMediaSourceNewDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourceNewDuration(n)}),this},n.setClientTimeBegin=function(n){return e.prototype.setClientTimeBegin.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeBegin(n)}),this},n.setClientTimeDuration=function(n){return e.prototype.setClientTimeDuration.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeDuration(n)}),this},n.setClientTimeEnd=function(n){return e.prototype.setClientTimeEnd.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setClientTimeEnd(n)}),this},n.setSegmentCount=function(n){return e.prototype.setSegmentCount.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentCount(n)}),this},n.setTimeToFirstByte=function(n){return e.prototype.setTimeToFirstByte.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToFirstByte(n)}),this},n.setTimeToLastByte=function(n){return e.prototype.setTimeToLastByte.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToLastByte(n)}),this},n.setTimeToRequestStart=function(n){return e.prototype.setTimeToRequestStart.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToRequestStart(n)}),this},n.setTimeToRequestSent=function(n){return e.prototype.setTimeToRequestSent.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setTimeToRequestSent(n)}),this},n.setReason=function(n){return e.prototype.setReason.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setReason(n)}),this},n.setResource=function(n){return e.prototype.setResource.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResource(n)}),this},n.setSegmentStartTime=function(n){return e.prototype.setSegmentStartTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentStartTime(n)}),this},n.setSegmentEndTime=function(n){return e.prototype.setSegmentEndTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setSegmentEndTime(n)}),this},n.setAppendedBufferMs=function(n){return e.prototype.setAppendedBufferMs.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setAppendedBufferMs(n)}),this},n.setLength=function(n){return e.prototype.setLength.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLength(n)}),this},n.setLiveheadPosition=function(n){return e.prototype.setLiveheadPosition.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadPosition(n)}),this},n.setLiveheadSeqNumHeader=function(n){return e.prototype.setLiveheadSeqNumHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadSeqNumHeader(n)}),this},n.setLiveheadSeqNumMpd=function(n){return e.prototype.setLiveheadSeqNumMpd.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setLiveheadSeqNumMpd(n)}),this},n.setManifestType=function(n){return e.prototype.setManifestType.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setManifestType(n)}),this},n.setPriorityFloat=function(n){return e.prototype.setPriorityFloat.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPriorityFloat(n)}),this},n.setInitiator=function(n){return e.prototype.setInitiator.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setInitiator(n)}),this},n.setPreloadTime=function(n){return e.prototype.setPreloadTime.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreloadTime(n)}),this},n.setConcluder=function(n){return e.prototype.setConcluder.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setConcluder(n)}),this},n.setPreviousRepresentationID=function(n){return e.prototype.setPreviousRepresentationID.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreviousRepresentationID(n)}),this},n.setRepresentationID=function(n){return e.prototype.setRepresentationID.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setRepresentationID(n)}),this},n.setState=function(n){return e.prototype.setState.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setState(n)}),this},n.setContentLengthHeader=function(n){return e.prototype.setContentLengthHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setContentLengthHeader(n)}),this},n.setEdgeHitHeader=function(n){return e.prototype.setEdgeHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setEdgeHitHeader(n)}),this},n.setFNAHitHeader=function(n){return e.prototype.setFNAHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setFNAHitHeader(n)}),this},n.setOriginHitHeader=function(n){return e.prototype.setOriginHitHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOriginHitHeader(n)}),this},n.setCode=function(n){return e.prototype.setCode.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setCode(n)}),this},n.setResponseTimeMsHeader=function(n){return e.prototype.setResponseTimeMsHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setResponseTimeMsHeader(n)}),this},n.setIsTemplatedManifest=function(n){return e.prototype.setIsTemplatedManifest.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsTemplatedManifest(n)}),this},n.setIsLatencyCachupEnabled=function(n){return e.prototype.setIsLatencyCachupEnabled.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsLatencyCachupEnabled(n)}),this},n.setPlayerFormat=function(n){return e.prototype.setPlayerFormat.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPlayerFormat(n)}),this},n.setIsP2pPlayback=function(n){return e.prototype.setIsP2pPlayback.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsP2pPlayback(n)}),this},n.setOneObserved=function(n){return e.prototype.setOneObserved.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneObserved(n)}),this},n.setOneReqWave=function(n){return e.prototype.setOneReqWave.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneReqWave(n)}),this},n.setOneResWave=function(n){return e.prototype.setOneResWave.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setOneResWave(n)}),this},n.setAppendTarget=function(n){return e.prototype.setAppendTarget.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setAppendTarget(n)}),this},n.setIsRingBufferSample=function(n){return e.prototype.setIsRingBufferSample.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsRingBufferSample(n)}),this},n.setIsOnline=function(n){return e.prototype.setIsOnline.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsOnline(n)}),this},n.setIsMixedCodecManifest=function(n){return e.prototype.setIsMixedCodecManifest.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setIsMixedCodecManifest(n)}),this},n.setProxyStatusHeader=function(n){return e.prototype.setProxyStatusHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setProxyStatusHeader(n)}),this},n.setPlaybackFbmsParam=function(n){return e.prototype.setPlaybackFbmsParam.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPlaybackFbmsParam(n)}),this},n.setPreferredEdgeLatency=function(n){return e.prototype.setPreferredEdgeLatency.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setPreferredEdgeLatency(n)}),this},n.setUserInfo=function(n){return e.prototype.setUserInfo.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setUserInfo(n)}),this},n.setDynamicStatusHeader=function(n){return e.prototype.setDynamicStatusHeader.call(this,n),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setDynamicStatusHeader(n)}),this},n.setMediaSourceSourceBuffer=function(n,r){return e.prototype.setMediaSourceSourceBuffer.call(this,n,r),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.setMediaSourceSourceBuffer(n,r)}),this},n.unsetMediaSourceSourceBuffers=function(){return e.prototype.unsetMediaSourceSourceBuffers.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.unsetMediaSourceSourceBuffers()}),this},n.log=function(){e.prototype.log.call(this),this.$OzMultiDestinationOperationLogger$p_1.forEach(function(e){return e.log()})},t})(r("oz-player/loggings/OzOperationLoggerBase"));l.OzMultiDestinationPerfLoggerProvider=e}),98);
__d("oz-player/loggings/OzOperationLoggerObserver",["oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new(r("oz-player/shims/OzSubscriptionsHandler"))}var t=e.prototype;return t.observe=function(t,n){var e,r=t.map(function(e){var t=e.setOperationLoggedListener(function(e){var t=e.getClientTimeBegin()||0,r=e.getClientTimeEnd()||0;n.getOperationLogger(e.getOperationName()).setClientTimeBegin(t).setClientTimeDuration(r-t).setClientTimeEnd(r).setLength(e.getLength()).setResult(e.getResult()||"success").setInitiator(e.getInitiator()).setType(e.getType()).log()});return e.activate(),t});(e=this.$1).addSubscriptions.apply(e,r)},t.destroy=function(){this.$1.release()},e})();l.default=e}),98);
__d("oz-player/shims/www/OzNetworkDiagnosticsWWW",["VideoPlayerOzWWWGlobalConfig"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(!e)return null;var n=parseInt(e.get(t),10);return!isNaN(n)&&isFinite(n)?n:null}function s(e,t,n){var r;if(!e||t===""||n==="")return null;for(var o=(r=e.get(t))!=null?r:"",a=o.split(";"),i=0;i<a.length;i++){var l=a[i].split(":");if(l.length===2&&l[0]===n){var s=parseInt(l[1],10);return isFinite(s)?s:null}}return null}var u={getNextValidSegmentId:function(n){return e(n,"x-fb-next-valid-segment-id")},getResponseTimeMs:function(n){return e(n,"x-fb-response-time-ms")},getDvlSegmentPTS:function(n){return e(n,"x-fb-segment-pts-start")},getDvlStatus:function(t){return t==null?void 0:t.get("x-fb-dynamic-status")},getUsableResponseSizeForBandwidthEstimation:function(n){return e(n,"x-fb-dynamic-predictive-response-chunk-size")},getBandwidthMeanEstimate:function(t){var e=r("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_header_key",""),n=r("VideoPlayerOzWWWGlobalConfig").getString("bandwidth_estimate_key","");return s(t,e,n)},getBandwidthStandardDeviationEstimate:function(n){return e(n,"x-bwe-std-dev")},getTimeToFirstByteMsEstimate:function(n){return e(n,"x-mrtt-ms")}},c=u;l.default=c}),98);
__d("oz-player/shims/OzNetworkDiagnostics",["oz-player/shims/www/OzNetworkDiagnosticsWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzNetworkDiagnosticsWWW")}),98);
__d("oz-player/manifests/OzDynamicVideoLibrary",["oz-player/shims/OzNetworkDiagnostics"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$4=null,this.$5=null,this.$6=new RegExp(/(.*)\.(m4v|m4a)(\?|$)/),this.$7={m4a:{time:0},m4v:{time:0}},this.$8={audio:"m4a",video:"m4v"},this.$9={};var t=e.config;this.$3=t}var t=e.prototype;return t.getLastSegmentStartPTS=function(){return this.$1},t.getLast200RequestedTime=function(){return this.$5},t.getLast200RequestedUrlDecisionMinTime=function(){var e=[];for(var t in this.$7)e.push(this.$7[t].time);return Math.min.apply(Math,e)},t.getLast200RequestedUrlDecisionTimeByMimeType=function(t){var e;return(e=this.$7[this.$8[t]])==null?void 0:e.time},t.updateWithResponse=function(t,n,o,a){var e;!a.headers||a.status!=200||(this.$5=n,this.$1=(e=r("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(a.headers))!=null?e:this.$1,this.$2=r("oz-player/shims/OzNetworkDiagnostics").getDvlStatus(a.headers),this.$10(t,o),(this.$2!=null||this.$2==="200")&&(this.$4=n))},t.$10=function(t,n){var e=this.$6.exec(t);if(e!=null){var r=e[2];n!=null&&(this.$7[r]={time:n})}},t.shouldRequestDynamicInfo=function(t){if(t!=="video")return!1;this.$11(t);var e=this.$12(t);return e!=null&&e<=this.$3.getNumber("dvl_initial_segment_ignore_count")?!1:this.$3.getNumber("dvl_update_interval_ms")==0||this.$4==null||this.$4+this.$3.getNumber("dvl_update_interval_ms")<=Date.now()},t.$11=function(t){return this.$9[t]==null&&(this.$9[t]={segmentCount:0}),this.$9[t].segmentCount=this.$9[t].segmentCount!=null?this.$9[t].segmentCount+1:0},t.$12=function(t){return this.$9[t].segmentCount},e})();l.default=e}),98);
__d("oz-player/manifests/OzRepresentationBase",["oz-player/parsers/getMIMECodecs","oz-player/shims/ozvariant","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,o,a,i,l,s,u,c,d,m){this.$1=e,this.$2=t,this.$11=n,this.$6=i,this.$3=r,this.$4=o,this.$5=a,this.$7=l,this.$8=s,this.$9=u,this.$10=c,this.$12=d,this.$13=m}var t=e.prototype;return t.getContentProtectionXml=function(){return this.$2},t.getID=function(){return this.$11},t.getBandwidth=function(){return this.$10},t.getMimeCodecs=function(){return r("oz-player/parsers/getMIMECodecs")(this.$3,this.$4)},t.getMimeType=function(){return this.$3},t.getCodecs=function(){return this.$4},t.getVariantKey=function(){return this.$5},t.getLang=function(){return this.$6},t.getRole=function(){return this.$7},t.getDisplayLabel=function(){return this.$11},t.getInitSegment=function(){return this.$8},t.getCustomFieldFirstSegment=function(){return this.$12},t.getCustomField=function(t){if(this.$13==null||!this.$13[t])throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Custom field "+t+" is not specified by caller",extra:{code:"OZ_RP-8"}});var e=this.$13[t];try{return e(this.$1)}catch(e){return null}},t.updateWith=function(n){n instanceof e||r("oz-player/shims/ozvariant")(0,229),this.$9.updateWith(n.$9)},t.getSegmentByTime=function(t){return this.$9.getSegmentByTime(t)},t.getSegment=function(t){return this.$9.getSegment(t)},t.getPredictedSegmentAfter=function(t){return this.$9.getPredictedSegmentAfter(t)},t.canPredict=function(){return this.$9.canPredict()},t.canApproximateId=function(){return this.$9.canApproximateId()},t.getSegmentAfter=function(t){return this.$9.getSegmentAfter(t)},t.isEndingSegment=function(t){return this.$9.isEndingSegment(t)},t.addUpdateListener=function(t){return this.$9.addUpdateListener(t)},t.getTimeRanges=function(){return this.$9.getTimeRanges()},t.blockTimeRange=function(t){this.$9.blockTimeRange(t)},t.getEndingSegment=function(){return this.$9.getEndingSegment()},t.getMaxGopSec=function(){return this.$9.getMaxGopSec()},e})();l.default=e}),98);
__d("oz-player/manifests/OzVideoRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f){var g;if(g=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p)||this,g.$OzVideoRepresentation$p_5=null,g.$OzVideoRepresentation$p_6=null,g.$OzVideoRepresentation$p_7=null,g.$OzVideoRepresentation$p_1=_,g.$OzVideoRepresentation$p_2=f,g.$OzVideoRepresentation$p_4=p,g.$OzVideoRepresentation$p_3=t,p!=null){if(p.playbackResolutionMos!=null){var h=g.getCustomField("playbackResolutionMos");g.$OzVideoRepresentation$p_7=h!=null?String(h):null}if(p.playbackResolutionCsvqm!=null){var y=g.getCustomField("playbackResolutionCsvqm");g.$OzVideoRepresentation$p_6=y!=null?String(y):null}}return g}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getQualityScoreCurveString=function(t){return t==="csvqm"?this.$OzVideoRepresentation$p_6:this.$OzVideoRepresentation$p_7},n.getWidth=function(){return this.$OzVideoRepresentation$p_1},n.getHeight=function(){return this.$OzVideoRepresentation$p_2},n.getDisplayLabel=function(){if(this.$OzVideoRepresentation$p_5!=null)return this.$OzVideoRepresentation$p_5;var e=this.$OzVideoRepresentation$p_4?this.$OzVideoRepresentation$p_4.qualityLabel:null;return e&&(this.$OzVideoRepresentation$p_5=e(this.$OzVideoRepresentation$p_3)),(this.$OzVideoRepresentation$p_5==null||this.$OzVideoRepresentation$p_5=="")&&(this.$OzVideoRepresentation$p_5=this.getHeight().toString()+"p"),this.$OzVideoRepresentation$p_5||""},t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/utils/OzMimeUtil",[],(function(t,n,r,o,a,i){"use strict";function e(e){return(e.split("/")[0]||"").trim()}function l(e){var t=(e.split(";")[0]||"").trim(),n=(t.split("/")[1]||"").trim();return n}function s(e){var t=e.split('codecs="').pop();return t.split(".")[0].trim()}i.getMimeType=e,i.getContainerType=l,i.getParsedCodecFamily=s}),66);
__d("oz-player/media_source/OzMSESourceBufferImpl",["oz-player/shims/OzDOMEventListener","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r){this.$1=e,this.$2=n,this.$3=t,this.$4=r}var t=e.prototype;return t.registerOnUpdateStartListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updatestart",t)},t.registerOnUpdateEndListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"updateend",t)},t.registerOnUpdateListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"update",t)},t.registerOnErrorListener=function(t){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",t)},t.getIsUpdating=function(){return this.$1.updating},t.getBuffered=function(){return this.$1.buffered},t.setAppendWindowEnd=function(t){this.$1.appendWindowEnd=t},t.appendBuffer=function(t,n){var e,r=(e=o("oz-player/utils/OzMimeUtil")).getMimeType(n)!==e.getMimeType(this.$3),a=e.getContainerType(n)!==e.getContainerType(this.$3),i=e.getParsedCodecFamily(n)!==e.getParsedCodecFamily(this.$3);if(r||a||i)if(this.$4){try{this.$1.changeType(n)}catch(e){throw o("oz-player/utils/OzErrorUtils").createOzError({description:'SourceBufferChangeTypeError: Failed to changeType("'+n+'"): '+String(e)+" current MIME Codecs: "+this.$3,type:"OZ_SOURCE_BUFFER_CHANGE_TYPE"})}this.$3=n}else throw o("oz-player/utils/OzErrorUtils").createOzError({description:"SourceBufferChangeTypeError: attempted to call changeType() on a SourceBuffer that does not support it.",type:"OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE"});this.$1.appendBuffer(t)},t.abort=function(){this.$1.abort()},t.remove=function(t,n){this.$1.remove(t,n)},e})();l.default=e}),98);
__d("oz-player/media_source/OzMediaErrorProvider",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.hasError=function(){return this.$1.error!==null},t.getMediaErrorName=function(){var e=this.$1.error;return e&&e.message?this.$2(e.message):null},t.getErrorCode=function(){var e=this.$1.error;return e&&e.code?e.code:null},t.getVideoNode=function(){return this.$1},t.$2=function(t){return t.replace(/([0-9]{2,})/g,function(e){for(var t="";t.length<e.length;)t+="#";return t})},e})();i.default=e}),66);
__d("oz-player/utils/OzSourceBufferUtil",["oz-player/utils/OzNumericalRangeUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=0,n=0;n<e.getBuffered().length;n++)t+=e.getBuffered().end(n)-e.getBuffered().start(n);return t}function s(e){return e.reduce(function(e,t){return e+(t.endTime-t.startTime)},0)}function u(e){return e.getBuffered().length==0?0:e.getBuffered().start(0)}function c(e){var t=null;try{t=e.getBuffered()}catch(e){return 0}return t.length==0?0:t.end(t.length-1)}function d(e){for(var t=[],n=0;n<e.length;n++)t.push({startTime:e.start(n),endTime:e.end(n)});return t}function m(e,t,n){var r=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,t,e.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}})),a=r>=0?parseFloat((e[r].endTime-t).toFixed(3)):0,i=r>=0?e.length-1-r:-1;return{bufferAheadSec:a,bufferedOffset:i}}function p(e,t,n){var r=e.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),a=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,t,r),i=parseFloat(r.reduce(function(e,n){var r=n.rangeEnd;return r==null?e:e+(o("oz-player/utils/OzNumericalRangeUtil").isWithin(t,n)?r-t:o("oz-player/utils/OzNumericalRangeUtil").isLargerThan(n.rangeStart,t)?r-n.rangeStart:0)},0).toFixed(3)),l=a>=0?e.length-1-a:-1;return{bufferAheadSec:i,bufferedOffset:l}}l.getTotalBufferedTime=e,l.getTotalInBufferedRanges=s,l.getStartBufferedTime=u,l.getEndBufferedTime=c,l.convertToBufferedTimeRangeArray=d,l.getBufferAheadInBufferedRanges=m,l.getTotalBufferAheadOfPosition=p}),98);
__d("oz-player/media_source/SourceBufferManagerUtils",["oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=o("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(t);return function(){var e=o("oz-player/utils/OzSourceBufferUtil").getEndBufferedTime(t);return{startTime:r,endTime:e}}}l.startMeasuringAppendedBuffer=e}),98);
__d("oz-player/shims/www/OzDeferredWWW",["Deferred"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("Deferred")}),98);
__d("oz-player/shims/OzDeferred",["oz-player/shims/www/OzDeferredWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzDeferredWWW")}),98);
__d("oz-player/utils/OzFakeEventTarget",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.dispatchEvent=function(t){this.$1[t]!=null&&this.$1[t].forEach(function(e){return e()})},t.addEventListener=function(t,n){var e=this;return this.$1[t]===void 0&&(this.$1[t]=new Set),this.$1[t].add(n),{remove:function(){e.removeEventListener(t,n)}}},t.removeEventListener=function(t,n){this.$1[t]&&this.$1[t].delete(n)},t.destroy=function(){this.$1={}},e})();i.default=e}),66);
__d("oz-player/states/OzObservedSourceBufferState",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzFakeEventTarget"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzObservedSourceBufferState$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzObservedSourceBufferState$p_3=[],o.$OzObservedSourceBufferState$p_6=function(){var e;try{e=o.$OzObservedSourceBufferState$p_1.getBuffered()}catch(e){if(e.name==="InvalidStateError"){o.$OzObservedSourceBufferState$p_3=[];return}else throw e}for(var t=[],n=0;n<e.length;n++)t.push({startTime:e.start(n),endTime:e.end(n)});o.$OzObservedSourceBufferState$p_3=t},o.$OzObservedSourceBufferState$p_1=t,o.$OzObservedSourceBufferState$p_4=n,o.$OzObservedSourceBufferState$p_5(),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$OzObservedSourceBufferState$p_5=function(){var e=this;this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$OzObservedSourceBufferState$p_2.addSubscriptions(this.$OzObservedSourceBufferState$p_1.registerOnUpdateEndListener(function(){e.$OzObservedSourceBufferState$p_6(),e.dispatchEvent("buffer_updated")}),this.$OzObservedSourceBufferState$p_1.registerOnErrorListener(this.$OzObservedSourceBufferState$p_6))},n.setSourceBuffer=function(t){this.$OzObservedSourceBufferState$p_1=t,this.$OzObservedSourceBufferState$p_5(),this.$OzObservedSourceBufferState$p_6()},n.getBufferedRanges=function(){return this.$OzObservedSourceBufferState$p_3},n.destroy=function(){e.prototype.destroy.call(this),this.$OzObservedSourceBufferState$p_2.release(),this.$OzObservedSourceBufferState$p_2.engage()},t})(r("oz-player/utils/OzFakeEventTarget"));l.default=e}),98);
__d("oz-player/utils/OzCustomErrorCode",[],(function(t,n,r,o,a,i){"use strict";var e={APPEND_BUFFER_UNKNOWN_ERROR:"21539",APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:"21540",APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:"21541",APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:"21542",SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR:"21543",SOURCE_BUFFER_MANAGER_CREATE_ERROR:"21544",SETUP_STREAMS_PROMISE_REJECTION:"21545",APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:"21546",APPEND_BUFFER_INVALID_STATE_ERROR:"21547",SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR:"21548",NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR:"21549",STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR:"21550",SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED:"21551",WEBVTT_CAPTION_PARSE_ERROR:"21552"},l=e;i.default=l}),66);
__d("oz-player/media_source/SourceBufferManager",["Promise","oz-player/loggings/OzLoggingUtils","oz-player/media_source/SourceBufferManagerUtils","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzStreams","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzObservedSourceBufferState","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/ozConcatUint8Arrays"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,a,i,l){var s=this;l===void 0&&(l=null),this.$4=null,this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$7=!1,this.$8=[],this.$12=!1,this.$13=!1,this.$14=0,this.$26=function(){if(s.$10.hasError()){s.$13=!1,s.$12=!1;var e=s.$10.getMediaErrorName(),t=e!=null?e:"An unknown source buffer error occurred.",n=s.$10.getErrorCode(),a=n!=null?String(n):r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_UPDATEEND_UNKNOWN_ERROR,i=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:t,extra:{code:a}});s.$4&&s.$4.reject(i),s.$4=null,s.cancelOperationAndCleanQueue()}else if(!s.$13){s.$13=!0;var l=s.$10.getVideoNode(),u=s.$26,c=r("oz-player/shims/OzDOMEventListener").listenDOMEvent(l,"error",u);s.$5.addSubscriptions(c)}},this.$17=function(){var e=s.$2;if(e!=null){var t;e.getOperationLogger("source_buffer_updateend").setError((t=s.$10.getMediaErrorName())!=null?t:void 0).setCode(s.$10.getErrorCode()).setResult(s.$12?"failed":"success").log()}var n=s.$4;n&&(s.$12?s.$26():(n.resolve(),s.$4&&(s.$4=null)))},this.$18=function(){var e=s.$2;if(e!=null){var t;e.getOperationLogger("source_buffer_error").setError((t=s.$10.getMediaErrorName())!=null?t:void 0).setCode(s.$10.getErrorCode()).setResult("failed").log()}s.$12=!0},this.$1=e,this.$2=l,this.$3=t,this.$11=n,this.$16(),this.$9=new(r("oz-player/states/OzObservedSourceBufferState"))(this.$3,this.$11),this.$10=a,this.$15=i}var a=t.prototype;return a.$16=function(){this.$5.release(),this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$5.addSubscriptions(this.$3.registerOnUpdateEndListener(this.$17),this.$3.registerOnErrorListener(this.$18))},a.setSourceBuffer=function(t){t!=null&&(this.cancelOperationAndCleanQueue(),this.$3=t,this.$16(),this.$9.setSourceBuffer(t))},a.queueData=function(t,n,o,a,i){a===void 0&&(a=null),i===void 0&&(i=0);var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));this.$8.push({data:t,deferred:e,loggerProvider:a,appendTarget:i,mimeCodecs:n,clearSourceBufferRange:o});var l=e.getPromise();return this.$7||this.$19().catch(function(e){}),l},a.cancelOperationAndCleanQueue=function(t){t===void 0&&(t=null),t&&t.cloneContext().getOperationLogger("source_buffer_cancel_and_clean").log();var e=o("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM cancel and clean");this.$8.forEach(function(t){var n=t.deferred;n.reject(e)}),this.$8=[];try{this.$11.getBool("enable_alternative_audio_tracks")?this.$15()==="open"&&(this.$10.hasError()||this.$3.abort()):this.$15()!=="closed"&&(this.$10.hasError()||this.$3.abort())}catch(e){var n=e;t&&t.cloneContext().getOperationLogger("cancel_operation_abort_failed").setError(n).setReason(this.$15?this.$15():null).log()}var r=this.$4;r&&r.reject(e),this.$6&&(this.$6.reject(e),this.$6=null)},a.getSourceBufferState=function(){return this.$9},a.$20=function(t,n){var e=Math.max(t,0);n>0&&n>e&&this.$3.remove(e,n)},a.$21=function(t,n){var e=Math.max(t,0);if(n>0&&n>e){var o=this.$22();return this.$20(e,n),o}return r("oz-player/shims/OzMaybeNativePromise").resolve()},a.clearRangeWithWait=function(r){var t=this;return this.cancelOperationAndCleanQueue(),r.reduce(function(e,n){var r=n.fromTime,o=n.toTime;return e.then(function(){return t.$21(r,o)})},(e||(e=n("Promise"))).resolve())},a.$22=function(t){var e=this.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=e.getPromise();return t&&o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(n,t,"wait_for_source_buffer"),n},a.$23=function(t,n,a,i){var e=this,l=function(){var l=e.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),s=!1,u=!0;try{u=!!e.$3.getBuffered()}catch(e){u=!1}try{if(s=e.$3.getIsUpdating(),u)e.$3.appendBuffer(t,n);else return l.resolve(),l.getPromise()}catch(t){var c=t,d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_UNKNOWN_ERROR,m=c.name,p=c.message;m==="QuotaExceededError"?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_QUOTA_EXCEEDED_ERROR:e.$10.hasError()?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_MEDIA_ERROR_ATTRIBUTE_NOT_NULL:s?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_SOURCE_BUFFER_UPDATING_ATTRIBUTE_IS_TRUE:m==="InvalidStateError"&&typeof p=="string"&&/SourceBuffer has been removed/.test(p)?d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR_SOURCE_BUFFER_HAS_BEEN_REMOVED:m==="InvalidStateError"&&(d=r("oz-player/utils/OzCustomErrorCode").APPEND_BUFFER_INVALID_STATE_ERROR);var _=o("oz-player/utils/OzErrorUtils").createOzError({type:o("oz-player/utils/OzErrorUtils").isOzError(c)?c.getType():m==="QuotaExceededError"?"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":m==="OZ_SOURCE_BUFFER_CHANGE_TYPE"?"OZ_SOURCE_BUFFER_CHANGE_TYPE":"OZ_SOURCE_BUFFER",description:"SBM#"+e.$1+" appendBuffer("+n+") failed: "+String(p),extra:o("oz-player/utils/OzErrorUtils").isOzError(c)?c.getExtra():{originalError:c,code:d}});e.$4=null,l.reject(_)}var f=l.getPromise();return a&&o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(f,a,"append",function(e){var n;e.setLength(t.byteLength);var r=(n=i==null?void 0:i.appendTarget)!=null?n:null;e.setAppendTarget(r)}),f};return this.$3.getIsUpdating()?this.$22(a).then(l).catch(function(e){throw e}):(this.$14+=t.byteLength,l())},a.$19=function(){var e=this;if(this.$7)return r("oz-player/shims/OzMaybeNativePromise").reject(this.$24("Another unit of queued data is being appended."));var t=this.$8.shift();if(!t)return this.$7=!1,r("oz-player/shims/OzMaybeNativePromise").resolve();var n=t.data,a=t.mimeCodecs,i=t.deferred,l=t.loggerProvider,s=t.appendTarget,u=t.clearSourceBufferRange;this.$7=!0;var c,d=function(){return n instanceof o("oz-player/shims/OzStreams").OzReadableStream?e.$25(n,a,l,s):e.$23(n,a,l,{appendTarget:s})};u?(c=this.$3.getIsUpdating()?this.$22(l):r("oz-player/shims/OzMaybeNativePromise").resolve(),c=c.then(function(){return e.clearRangeWithWait([{fromTime:u[0],toTime:u[1]}])}).then(d)):c=d();var m=o("oz-player/media_source/SourceBufferManagerUtils").startMeasuringAppendedBuffer(this.$11,this.$3,this.$9);return c.catch(function(e){i.reject(e)}).then(function(){var t=m(),n=t.startTime,r=t.endTime;i.resolve({startTime_UNSAFE:n,endTime_UNSAFE:r,appendedSec:r-n}),e.$7=!1,e.$19().catch(function(e){})})},a.$25=function(t,n,a,i){var e=this,l=[],s=0,u=t.getReader(),c=function(){var t=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return e.$6=t,u.read().then(function(n){t.resolve(n),e.$6=null}).catch(function(n){t.reject(n),e.$6=null}),t.getPromise().then(function(t){if(t.done){var o=r("oz-player/utils/ozConcatUint8Arrays")(l),u=o.buffer;return l.length=0,s=0,u.byteLength>0?e.$23(u,n,a,{appendTarget:i}):r("oz-player/shims/OzMaybeNativePromise").resolve()}var d=t.value,m=d;if(i>0){var p=d instanceof Uint8Array?d:new Uint8Array(d);if(l.push(p),s+=p.byteLength,s>=i){var _=r("oz-player/utils/ozConcatUint8Arrays")(l),f=_.buffer;l.length=0,s=0,m=f}}return m&&m.byteLength>=i?e.$23(m,n,a,{appendTarget:i}).then(function(){return c()}):c()},function(t){if(e.$11.getBool("enable_alternative_audio_tracks"))try{e.$15()==="open"&&(e.$10.hasError()||e.$3.abort())}catch(e){var a=e}else try{e.$3.abort()}catch(e){var i=e}if(typeof t=="object"&&o("oz-player/utils/OzErrorUtils").isOzError(t))return r("oz-player/shims/OzMaybeNativePromise").reject(t);if(typeof t=="object"&&t!=null&&typeof t.name=="string"&&t.name==="TypeError"&&typeof t.message=="string"&&t.message.includes("network error")){var l=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{description:"SBM#"+e.$1+" appendReadableStream("+n+") failed: Stream read is interrupted (previously TypeError network error)}",extra:{originalError:t},type:"OZ_NETWORK"});return r("oz-player/shims/OzMaybeNativePromise").reject(l)}var s=o("oz-player/utils/OzErrorUtils").convertPromiseRejectionReasonToOzError(t,{description:"SBM#"+e.$1+" appendReadableStream("+n+") failed: Unexpected error while reading from stream: "+String(t),extra:{originalError:t},type:"OZ_NETWORK"});return r("oz-player/shims/OzMaybeNativePromise").reject(s)})};return c()},a.$24=function(t){var e=this.$2;return e!=null&&e.getOperationLogger("source_buffer_invariant").setError(t).setResult("failed").log(),o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"SBM invariant: "+t})},a.destroy=function(){var e=this,t=this.$2;t&&t.cloneContext().getOperationLogger("source_buffer_destroy").log();var n=this.$4;n&&(this.$13?n.getPromise().catch(function(){e.$4=null,e.$5.release(),e.$5=new(r("oz-player/shims/OzSubscriptionsHandler"))}):(n.reject(o("oz-player/utils/OzErrorUtils").createOzCancelledError("SBM destroyed")),this.$4=null,this.$5.release(),this.$5=new(r("oz-player/shims/OzSubscriptionsHandler")))),this.$9.destroy()},a.getDebug=function(){return{SourceBuffer:this.$3}},t})();l.default=s}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("OzVTTSourceBufferImpl").__setRef("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW");function s(){return e.load()}l.default=s}),98);
__d("oz-player/shims/www/getOzVTTSourceBufferImplWWW",["oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/getOzVTTSourceBufferImplLazyWWW")}),98);
__d("oz-player/shims/getOzVTTSourceBufferImpl",["oz-player/shims/www/getOzVTTSourceBufferImplWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/getOzVTTSourceBufferImplWWW")}),98);
__d("oz-player/shims/www/ozClearTimeoutWWW",["clearTimeout"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("clearTimeout")}),98);
__d("oz-player/shims/ozClearTimeout",["oz-player/shims/www/ozClearTimeoutWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozClearTimeoutWWW")}),98);
__d("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW",["setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("setTimeoutAcrossTransitions")}),98);
__d("oz-player/shims/ozSetTimeoutAcrossTransitions",["oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/ozSetTimeoutAcrossTransitionsWWW")}),98);
__d("oz-player/utils/ozGetErrorNameFromMediaErrorCode",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(e){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:}return"MEDIA_ERR_UNKNOWN"}i.default=e}),66);
__d("oz-player/media_source/MediaSourceManager",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/media_source/OzMSESourceBufferImpl","oz-player/media_source/OzMediaErrorProvider","oz-player/media_source/SourceBufferManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/getOzVTTSourceBufferImpl","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozThrottle","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/ozGetErrorNameFromMediaErrorCode"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this,n=e.videoNode,a=e.config,i=e.perfLoggerProvider,l=i===void 0?new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider([]):i,s=e.isChangeTypeSupported,u=e.useManagedMediaSource,c=e.handleVttCaptionsUpdated,d=e.onClearVideoNodeError,m=e.onRetryVideoElementError;this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$6=[],this.$7=new Map,this.$8=[],this.$10=!1,this.$12=!1,this.$13=!1,this.$14=!1,this.$15=!1,this.$18=null,this.$19=null,this.$20=new(r("oz-player/utils/OzErrorEmitter")),this.$22="undetected",this.$23=!1,this.$24=!1,this.$31=function(){if(t.$34()||(t.$10=!1),!!t.$35()){var e=t.$8.shift();e&&(e(t.$2),t.$10=!0)}},this.$5=l,this.$11=a,this.$1=n,this.$21=c,this.$16=d,this.$17=m,this.$23=s,this.$24=u,this.$9=new(r("oz-player/media_source/OzMediaErrorProvider"))(this.$1),this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"error",function(){var e;t.$5.getOperationLogger("media_element_error").setError((e=t.$9.getMediaErrorName())!=null?e:void 0).setCode(t.$9.getErrorCode()).setResult("failed").setUserInfo({av1HardwareSupport:t.$22}).log(),t.$8=[],t.$6=[],t.$4.release(),t.$4=new(r("oz-player/shims/OzSubscriptionsHandler")),t.$15=t.$15||t.$14||t.$13;var n=t.$1.error,a=(n==null?void 0:n.code)||0,i=!n&&t.$1.poster!=null&&t.$1.poster!=="",l=o("oz-player/utils/OzErrorUtils").createOzError({type:i?"OZ_POSSIBLE_POSTER_LOAD_FAILURE":r("oz-player/utils/ozGetErrorNameFromMediaErrorCode")(a),description:(n==null?void 0:n.message)!=null?n.message:"",extra:{originalError:n,code:String(a)}});if(t.$19!=null){t.$5.getOperationLogger("media_element_error").setError(n).setCode(a).setReason("mitigation_failed").setResult("failed").setUserInfo({av1HardwareSupport:t.$22}).log(),t.$20.emitError(l);return}t.$19=t.$1.currentTime,t.$18==null&&(t.$18=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){t.$18=null,t.$11.getBool("retry_video_element_error")&&(t.$17!=null&&t.$17(l),t.$25())},0))}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"play",function(){t.$14=!0}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",function(){t.$14=!1,t.$15=!1,t.$19=null,t.$13=!0}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",function(){t.$14=!1,t.$13=!1,t.$15=!!t.$1.error}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"ended",function(){t.$14=!1,t.$13=!1})),this.$2=this.$26(),this.$5.getOperationLogger("media_source_new").log(),this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){t.$5.getOperationLogger("media_source_open").log()}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){t.$5.getOperationLogger("media_source_ended").log()}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceclose",function(){t.$5.getOperationLogger("media_source_close").log()})),this.$27(this.$2)}var t=e.prototype;return t.$26=function(){return this.$24?new ManagedMediaSource:new MediaSource},t.$27=function(t){var e=this.$1,n=e.src;n!==""&&URL.revokeObjectURL(n),t?(this.$24&&(e.disableRemotePlayback=!0),e.src=URL.createObjectURL(t)):(e.removeAttribute("src"),e.removeAttribute("srcObject"))},t.$25=function(){var e=this;this.$7.forEach(function(e){e.cancelOperationAndCleanQueue()}),this.$2=this.$26(),this.$27(this.$2),this.$7.forEach(function(e,t){e.setSourceBuffer(null)});var t=this.$28().then(function(){var t=[];return e.$7.forEach(function(n,r){var o=e.$29(r).then(function(t){n.setSourceBuffer(t),e.$30(t,r)});t.push(o)}),r("oz-player/shims/OzMaybeNativePromise").all(t)});t.then(function(){if(e.$16&&e.$16(),e.$19!=null&&(e.$1.currentTime=e.$19),e.$15){var t=e.$1.play();return t==null?void 0:t.catch(function(){})}}).catch(function(t){e.$20.emitError(t)})},t.$28=function(){var e=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen")){if(this.$2.readyState==="open")return r("oz-player/shims/OzMaybeNativePromise").resolve();var t=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){n.remove(),t.resolve(),e.$31()});return this.$3.addSubscriptions(n),t.getPromise()}else{if(this.$2.readyState==="open")return r("oz-player/shims/OzMaybeNativePromise").resolve();var o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceopen",function(){o.resolve(),e.$31()})),o.getPromise()}},t.$29=function(t){var e=this;if(this.$11.getBool("msm_refactor_wait_for_sourceopen"))return r("oz-player/shims/OzMaybeNativePromise").resolve().then(function(){return e.$32(t)}).catch(function(e){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): '+String(e),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw n});try{return this.$32(t)}catch(e){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): '+(e.message||String(e)),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}});throw n}},t.$32=function(t){var e=this;{var n;return t.includes("vtt")?n=this.$33(t):n=this.$28().then(function(){return new(r("oz-player/media_source/OzMSESourceBufferImpl"))(e.$2.addSourceBuffer(t),t,e.$11,e.$23)}),n.then(function(n){return e.$6.push(n),n.registerOnUpdateListener(function(){e.$5.cloneContext().getOperationLogger("source_buffer_update_start").setType(o("oz-player/utils/OzMimeUtil").getMimeType(t)).setMediaSourceSourceBuffer(o("oz-player/utils/OzMimeUtil").getMimeType(t),n).setType(o("oz-player/utils/OzMimeUtil").getMimeType(t)).log()}),e.$5.getOperationLogger("add_source_buffer").setMediaSourceSourceBuffer(o("oz-player/utils/OzMimeUtil").getMimeType(t),n).log(),n})}},t.$30=function(t,n){var e=this;this.$4.addSubscriptions(t.registerOnUpdateEndListener(function(){e.$31()}))},t.$33=function(t){var e=this;return r("oz-player/shims/getOzVTTSourceBufferImpl")().then(function(n){if(e.$21!=null){var a=new n({onCaptionsChanged:e.$21,config:e.$11}),i=r("oz-player/shims/ozThrottle")(function(){a.setCurrentVideoTime(e.$1.currentTime)},200);return e.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(e.$1,"timeupdate",function(){i()}),{remove:function(){i=function(){}}}),a}else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:'Failed to addSourceBuffer("'+t+'"): No handleVttCaptionsUpdated callback provided',extra:{code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_ADD_SOURCE_BUFFER_ERROR.toString()}})})},t.createSourceBufferManager=function(t,n,a,i){var e=this;return(this.$11.getBool("msm_refactor_wait_for_sourceopen")?this.$29(n).then(function(e){return[void 0,e]}):r("oz-player/shims/OzMaybeNativePromise").all([this.$28(),this.$29(n)])).then(function(a){var i=a[0],l=a[1],s=new(r("oz-player/media_source/SourceBufferManager"))(t,l,e.$11,e.$9,function(){return e.$2.readyState},e.$5.cloneContext().setType(o("oz-player/utils/OzMimeUtil").getMimeType(n)));return e.$30(l,n),e.$7.set(n,s),s}).catch(function(n){var a=o("oz-player/utils/OzErrorUtils").isOzError(n)?n.getExtra():void 0,i=a==null?void 0:a.code,l=o("oz-player/utils/OzErrorUtils").isOzError(n)?""+n.getType()+(i!=null?"#"+i:"")+": "+n.getDescription():String(n),s=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"Failed to create SBM#"+t+": "+l+", support AAC-LC="+(e.$2.constructor.isTypeSupported("audio/mp4; codecs=mp4a.40.2")?"true":"false")+", readyState="+e.$2.readyState,extra:babelHelpers.extends({},a,{originalError:n,code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CREATE_ERROR.toString()})});throw s})},t.getReadyState=function(){return this.$2.readyState},t.getMediaSource=function(){return this.$2},t.notifyEndOfStream=function(t,n){var e=this,o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return this.$3.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$2,"sourceended",function(){o.resolve()})),this.$8.push(function(r){if(r.readyState==="open"){var o=e.$5.getOperationLogger("end_of_stream");o.setInitiator(t).setReason(n),o.log(),r.endOfStream()}}),this.$31(),o.getPromise()},t.updateDuration=function(t,n){var e=this,a=this.$2.duration;Number.isFinite(a)&&(!n||a>=t)||(this.$8.push(function(n){n.duration!==a&&!(isNaN(n.duration)&&isNaN(a))&&r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:"mediaSource duration discrepancy: "+n.duration+" != "+a}),"MediaSourceManager updateDuration","warn");var i=e.$11.getBool("msm_refactor_wait_for_sourceopen")?n.duration!==1/0&&t<n.duration:t<n.duration;if(i){e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(n.duration).setMediaSourceNewDuration(t).setResult("failed").log();return}e.$5.getOperationLogger("media_source_update_duration").setMediaSourcePreviousDuration(n.duration).setMediaSourceNewDuration(t).log(),n.duration=t}),this.$31())},t.detach=function(){this.$18&&(r("oz-player/shims/ozClearTimeout")(this.$18),this.$18=null),this.$5.getOperationLogger("source_buffer_detach").unsetMediaSourceSourceBuffers(),this.$27(null);for(var e=0;e<this.$2.sourceBuffers.length;e++){var t=this.$2.sourceBuffers[e];this.$2.removeSourceBuffer(t)}this.$3.release(),this.$3.engage(),this.$4.release(),this.$4.engage(),this.$8=[],this.$10=!1,this.$12=!0},t.$35=function(){return!this.$34()&&this.$2.readyState==="open"&&!this.$10&&!this.$12},t.$34=function(){return this.$6.some(function(e){return e.getIsUpdating()})},t.onError=function(t){return this.$20.onError(t)},e})();l.default=e}),98);
__d("oz-player/media_source/OzMediaSeekableRangeManager",["oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){var n=this;this.$5=function(e){e===void 0&&(e=!0);var t=n.$2;if(t){var r=t.getTimeRanges();if(r.length){var o=r[r.length-1];n.$1.updateDuration(o.endTime,e)}}},this.$1=e,this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=t}var t=e.prototype;return t.setTimeRangeProvider=function(t){this.$3.release(),this.$3.engage(),this.$3.addSubscriptions(t.addUpdateListener(this.$5)),this.$2=t},t.listenToMediaStreamInitAppended=function(t){var e=this;return t.addListener("initAppended",function(){e.$5(!1)})},t.destroy=function(){this.$3.release()},e})();l.default=e}),98);
__d("oz-player/networks/OzCreateErrorStream",["oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new(o("oz-player/shims/OzStreams")).OzReadableStream({pull:function(n){n.error(e)}})}l.default=e}),98);
__d("oz-player/shims/OzFetchAPI",[],(function(t,n,r,o,a,i){"use strict";var e=function(n,r){return t.fetch(n,r)},l=function(n,r){return new t.Response(n,r)};i.fetch=e,i.Response=l}),66);
__d("oz-player/networks/FetchWithTimeout",["oz-player/shims/OzFetchAPI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,n,a,i){if(!o("oz-player/shims/OzFetchAPI").fetch)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"fetch api is missing"});var l=null,s;if("AbortController"in t&&a!=null&&a!=0){var u=new AbortController;l=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return u.abort()},a),s=babelHelpers.extends({},n,{signal:u.signal})}else s=babelHelpers.extends({},n);return i!=null&&(s=babelHelpers.extends({},s,{referrer:i})),o("oz-player/shims/OzFetchAPI").fetch(e,s).then(function(e){return r("oz-player/shims/ozClearTimeout")(l),e})}l.default=e}),98);
__d("oz-player/networks/OzHTTPHeaders",["oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=new Map}var t=e.prototype;return t.append=function(t,n){var e=t.toLowerCase(),r=this.$1.get(e);r!=null?this.$1.set(e,r+", "+n):this.$1.set(e,n)},t.get=function(t){var e=t.toLowerCase(),n=this.$1.get(e);return n!=null?n:null},t.entries=function(){return this.$1.entries()},t.has=function(t){return this.get(t)!==null},e})(),s=t.Headers,u=s&&s.prototype,c=s&&u&&typeof u.append=="function"&&typeof u.entries=="function"&&typeof u.get=="function"&&typeof u.has=="function"?s:e;function d(e){if(e==null)return null;if(typeof e=="object"&&typeof e.append=="function"&&typeof e.get=="function"&&typeof e.has=="function"){if(typeof e.entries=="function")return e;if(typeof e.forEach=="function"){var t=new c;return e.forEach(function(e,n){t.append(n,e)}),t}}return r("oz-player/shims/ozvariant")(!1,"Malformed Headers object: %s %s",typeof e,String(e)),null}l.OzHTTPHeaders=c,l.maybeConvertHeadersToOzHTTPHeaders=d}),98);
__d("oz-player/utils/arrayBuffer2OzReadableStream",["oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return new(o("oz-player/shims/OzStreams")).OzReadableStream({start:function(n){var t=new Uint8Array(e);n.enqueue(t),n.close()}})}l.default=e}),98);
__d("oz-player/utils/maybeConvertReadableStreamToOzReadableStream",["asyncToGeneratorRuntime","oz-player/shims/OzStreams"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(!o("oz-player/shims/OzStreams").OzReadableStreamIsPolyfilled)return e;var t=e.getReader();return new(o("oz-player/shims/OzStreams")).OzReadableStream({start:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){for(;;){var n=yield t.read();if(n.done)break;e.enqueue(n.value)}e.close()});function r(t){return e.apply(this,arguments)}return r})()})}l.default=e}),98);
__d("oz-player/utils/processFetchResponse",["oz-player/networks/OzHTTPHeaders","oz-player/shims/OzMaybeNativePromise","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/maybeConvertReadableStreamToOzReadableStream"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.body,n=e.ok,a=e.status,i=e.headers;return t!=null?r("oz-player/shims/OzMaybeNativePromise").resolve({ok:n,status:a,headers:o("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(i),body:r("oz-player/utils/maybeConvertReadableStreamToOzReadableStream")(t),arrayBuffer:function(){return e.arrayBuffer()}}):e.arrayBuffer().then(function(e){return{ok:n,status:a,headers:o("oz-player/networks/OzHTTPHeaders").maybeConvertHeadersToOzHTTPHeaders(i),body:r("oz-player/utils/arrayBuffer2OzReadableStream")(e),arrayBuffer:function(){return r("oz-player/shims/OzMaybeNativePromise").resolve(e)}}})}l.default=e}),98);
__d("oz-player/networks/OzFetchRequestImplementation",["oz-player/networks/FetchWithTimeout","oz-player/utils/processFetchResponse"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l,s){var u=n?n.networkTimeoutMs:null,c=r("oz-player/networks/FetchWithTimeout")(e,t,u);return c.then(function(e){var t=e.ok,n=e.status,a=e.headers;return o!=null&&!t&&typeof e.text=="function"?e.text().then(function(r){return{ok:t,status:n,headers:a,body:r,arrayBuffer:function(){return e.arrayBuffer()}}}):r("oz-player/utils/processFetchResponse")(e)})}var s=e,u=s;l.default=u}),98);
__d("oz-player/networks/withRetries",["Promise","asyncToGeneratorRuntime","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,o,a){return new(e||(e=n("Promise")))(function(e,i){function l(e){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){try{e(yield t())}catch(e){if(n>0){var s=typeof a=="function"?a(o-n):a;r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){l(n-1)},s)}else i(e)}}),s.apply(this,arguments)}l(o)})}l.default=s}),98);
__d("oz-player/networks/OzFetchWithCache",["oz-player/networks/OzFetchRequestImplementation","oz-player/networks/withRetries","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/arrayBuffer2OzReadableStream","oz-player/utils/processFetchResponse"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.config,n=e.url,a=e.http,i=e.overrideOzRequestImplementation,l=e.options,s=e.prefetchCache,u=e.mediaStreamType,c=e.onPerfEntryAvailable,d=e.dataAppendedCallback,m=e.dataAppendedErrorCallback,p=i!=null?function(){return i.apply(void 0,arguments)}:r("oz-player/networks/OzFetchRequestImplementation"),_=s?s.getCacheValue(n):null,f=_,g=!1,h;if(f)g=!0,h=f.then(function(e){if(e.initiator==="FETCH"){var t=e.response,n=t.ok,a=t.status,i=t.headers;return!n&&typeof e.response.text=="function"?e.response.text().then(function(t){return{ok:!1,status:a,headers:i,body:t,arrayBuffer:function(){return e.response.arrayBuffer()}}}):r("oz-player/utils/processFetchResponse")(e.response)}else if(e.initiator==="XHR_REQUEST"){var l=r("oz-player/utils/arrayBuffer2OzReadableStream")(e.response);return{body:l,status:200,headers:null,ok:!0,arrayBuffer:function(){return r("oz-player/shims/OzMaybeNativePromise").resolve(e.response)}}}else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_UNEXPECTED_CACHE_INITIATOR",description:"Unable to handle request initiator: "+e.initiator})}).catch(function(e){return p(n,a,null,null,u,c,d,m)});else{var y,C=(y=l==null?void 0:l.retryAttempts_SIDX_USE_ONLY)!=null?y:0;if(C>0){var b,v=(b=l==null?void 0:l.retryTimeoutMs_SIDX_USE_ONLY)!=null?b:100;h=r("oz-player/networks/withRetries")(function(){return p(n,a,l,t,u,c,d,m)},C,v)}else h=p(n,a,l,t,u,c,d,m)}return{promise:h,retrievedFromCache:g}}l.default=e}),98);
__d("oz-player/utils/OzVideoUrlUtils",[],(function(t,n,r,o,a,i){"use strict";var e=-2147483648,l=~e,s=e+1;function u(e){var t=e|0;return Math.max(s,Math.min(t,l))}function c(e){var t=Number.parseInt(e,16);return Number.isFinite(t)?new Date(u(t)*1e3):null}function d(){return u(Date.now()/1e3)}var m={OE:"oe",OE2:"oe2",ODM:"odm",USS:"uss"};function p(e){var t=e instanceof URL?e.searchParams:new URL(e).searchParams,n=t.get(m.OE),r=n==null?void 0:c(n);return{expirationDate:r}}function _(e){var t=e instanceof URL?e.searchParams:new URL(e).searchParams;return t.get(m.OE2)!==null||t.get(m.ODM)!==null||t.get(m.USS)!==null}function f(e){var t=p(e),n=t.expirationDate;return n!=null&&n<=new Date(d()*1e3)}i.DEFAULT_UNIXTIME=e,i.MAX_INT=l,i.parseCdnUrlParams=p,i.isShortenedExpiryTimestampCdnUrl=_,i.isCdnUrlExpired=f}),66);
__d("oz-player/networks/OzNetworkRequestStream",["Promise","oz-player/networks/OzCreateErrorStream","oz-player/networks/OzFetchWithCache","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorUtils","oz-player/utils/OzResourceTimingUtils","oz-player/utils/OzVideoUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){this.$8=!1,this.$10="auto";var t=e.debugName,n=e.config,r=e.baseUri,o=e.baseUriDecisionTime,a=e.options,i=e.requestParamCreator,l=e.networkRequestStreamHandlers,s=e.overrideOzRequestImplementation,u=e.prefetchCache,c=e.networkRequestFetchPriority,d=e.networkRequestStreamRetryHandler,m=e.networkRequestUrlRefreshHandler,p=e.dynamicVideoLibrary,_=e.mediaStreamType,f=e.dataAppendedCallback,g=e.dataAppendedErrorCallback;this.$1=t,this.$2=r,this.$3=a,this.$4=i,this.$11=l!=null?l:[],this.$10=c,this.$12=d,this.$13=m,this.$9=s,this.$14=u,this.$15=n,this.$16=p,this.$17=o,this.$18=_,this.$19=f,this.$20=g}var a=t.prototype;return a.$21=function(t){var e=this,n=this.$4.createRequestParam(this.$2,t,this.$10),o=n.uri,a=n.http,i=o.toString();this.$5=i;var l=r("oz-player/networks/OzFetchWithCache")({config:this.$15,url:i,http:a,overrideOzRequestImplementation:this.$9,options:this.$3,prefetchCache:this.$14,mediaStreamType:this.$18,onPerfEntryAvailable:function(n){e.$22(n)},dataAppendedCallback:this.$19,dataAppendedErrorCallback:this.$20}),s=l.promise,u=l.retrievedFromCache;return this.$8=u,{requestPromise:s,requestUrl:i}},a.startStream=function(t){var e=this;return this.$23().then(function(){if(e.$15.getBool("video_cdn_url_refresh")&&!o("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(e.$2.toString())&&o("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(e.$2.toString()))return r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") CDN URL expired.",responseStatus:0,responseHeaders:null,requestUrl:e.$2.toString()}));var n=e.$21(t),a=n.requestPromise,i=n.requestUrl,l=i,s=Date.now();return a.then(function(n){var a;return(a=e.$16)==null||a.updateWithResponse(i,s,e.$17,n),e.$7=n,e.$12!=null&&n.ok===!1?e.$12(n,function(){var n=e.$21(t),r=n.requestPromise,o=n.requestUrl;return l=o,r},l).catch(function(e){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR",description:String(e),extra:{originalError:e,code:r("oz-player/utils/OzCustomErrorCode").NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR,url:l}})}):n}).then(function(t){for(var n=[],a=0;a<e.$11.length;a++)try{var i=e.$11[a].onResponse(t,l);i&&n.push(i)}catch(e){var s=e;return r("oz-player/networks/OzCreateErrorStream")(s)}var u=t.body,c=t.headers,d=t.ok,m=t.status;if(!d)return r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") HTTP status not OK",responseStatus:m,responseHeaders:c,requestUrl:l,responseBody:typeof u=="string"?u:void 0}));typeof u!="string"&&typeof u.getReader=="function"||r("oz-player/shims/ozvariant")(0,3287);for(var p=u,_=0;_<n.length;_++)p=p.pipeThrough(n[_]);return p},function(t){for(var n=[],a=0;a<e.$11.length;a++)try{var i=e.$11[a].onError(t,l);i&&n.push(i)}catch(e){var s=e;return r("oz-player/networks/OzCreateErrorStream")(s)}if(t instanceof TypeError){for(var u=r("oz-player/networks/OzCreateErrorStream")(o("oz-player/utils/OzErrorUtils").createOzNetworkError({description:"OzNetworkRequestStream("+e.$1+") TypeError: "+t.message,responseStatus:0,responseHeaders:null,requestUrl:l})),c=0;c<n.length;c++)u=u.pipeThrough(n[c]);return u}throw t}).catch(function(e){if(o("oz-player/utils/OzErrorUtils").isOzError(e)&&e.getType()==="OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR")throw e;if(e.name==="AbortError"){var t=e.message;return r("oz-player/networks/OzCreateErrorStream")({type:e.name,status:e.code,url:l,message:t})}return r("oz-player/networks/OzCreateErrorStream")({type:"stream_processing",status:0,url:l,message:"Stream processing error. "+e})})})},a.$22=function(t){this.$6=t},a.getLastPerformanceEntry=function(){return this.$6!=null?this.$6:this.$5==null?null:o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(this.$5)},a.getLastRequestUrl=function(){return this.$5},a.getLastResponse=function(){return this.$7},a.retrievedFromCache=function(){return this.$8},a.$23=function(){var t=this;return this.$15.getBool("video_cdn_url_refresh")&&!o("oz-player/utils/OzVideoUrlUtils").isShortenedExpiryTimestampCdnUrl(this.$2.toString())&&o("oz-player/utils/OzVideoUrlUtils").isCdnUrlExpired(this.$2.toString())&&this.$13?this.$13(this.$2.toString()).then(function(e){e.refreshedUrl!=null&&e.reason==="OK"&&(t.$2=new(r("oz-player/shims/OzURI"))(e.refreshedUrl))}):(e||(e=n("Promise"))).resolve()},t})();l.default=s}),98);
__d("oz-player/manifests/OzByteRange",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.startByte===t.startByte}function l(e,t){return t.endByte===null?!1:e.startByte===t.endByte+1}function s(e,t){return e.startByte<t.startByte?!1:t.endByte==null||t.endByte>=e.startByte}function u(e,t){var n=e,r=t;if(r.startByte<n.startByte){var o=n;n=r,r=o}if(n.endByte==null)return{startByte:n.startByte,endByte:null};if(r.startByte>n.endByte+1)return null;var a=r.endByte==null||r.endByte>n.endByte?r.endByte:n.endByte;return{startByte:n.startByte,endByte:a}}function c(e,t){return t.endByte==null?null:e.startByte>t.endByte?{startByte:e.startByte,endByte:e.endByte}:e.endByte!=null&&e.endByte<=t.endByte?null:{startByte:t.endByte+1,endByte:e.endByte}}function d(e){return e.endByte==null?null:e.endByte-e.startByte+1}i.startsAtSame=e,i.startsImmediateAfter=l,i.startsDuring=s,i.union=u,i.disjoinAfter=c,i.getLength=d}),66);
__d("oz-player/networks/OzProducerInterruptedError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.default=e}),66);
__d("oz-player/networks/OzDeferredBuffer",["oz-player/networks/OzProducerInterruptedError","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){e===void 0&&(e={}),this.$2=[],this.$3=!1,this.$5=0;var t=e,n=t.disableArrayShift;this.$1=!!n}var t=e.prototype;return t.produce=function(t){this.$6(t)},t.signalProducerInterruption=function(){this.$6(new(r("oz-player/networks/OzProducerInterruptedError"))("producer interrupted"))},t.consume=function(t){var e=this;if(this.$3)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"A buffer can only be consumed by one client at a time"});this.$3=!0;var n=r("oz-player/shims/OzMaybeNativePromise").resolve();return this.isEmpty()&&(this.$4=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),n=this.$4.getPromise()),n.then(function(){if(e.$1){if(e.$2[e.$5]===void 0)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer has no value at position "+e.$5})}else if(e.$2.length===0)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_DEFERRED_BUFFER",description:"buffer length must not be 0"});e.$4=null,e.$3=!1;var n=e.$1?e.$7(t):e.$8(t);if(n instanceof Uint8Array)return n;throw n})},t.$6=function(t){this.$2.push(t),this.$4&&this.$4.resolve()},t.$7=function(t){var e=this.$2[this.$5];if(e===void 0)return new Uint8Array([]);var n=e;if(!(n instanceof Uint8Array))return this.$2[this.$5]=void 0,this.$5++,n;if(t!==void 0&&n.length>t){var r=n.slice(t);n=n.slice(0,t),this.$2[this.$5]=r}else this.$2[this.$5]=void 0,this.$5++;return n},t.$8=function(t){if(this.$2.length===0)return new Uint8Array([]);var e=this.$2[0];if(!(e instanceof Uint8Array))return this.$2.shift(),e;if(t!==void 0&&e.length>t){var n=e.slice(t);e=e.slice(0,t),this.$2[0]=n}else this.$2.shift();return e},t.isEmpty=function(){return this.$1?this.$2[this.$5]===void 0:this.$2.length===0},e})();l.default=e}),98);
__d("oz-player/utils/ozPipeErrorTo",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){try{e==null||e.error(t)}catch(e){}}i.default=e}),66);
__d("oz-player/networks/OzPausableRangeStream",["oz-player/manifests/OzByteRange","oz-player/networks/OzDeferredBuffer","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzErrorUtils","oz-player/utils/ozPipeErrorTo"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM",description:"Upstream has an inconsistent range"})}var s=(function(){function e(){this.$1=0}var t=e.prototype;return t.setBytesToSkip=function(t){this.$1=t},t.setBytesSkipped=function(t){this.$1-=t},t.getBytesToSkip=function(){return this.$1},t.hasMoreBytesToSkip=function(){return this.$1>0},e})(),u=(function(){function t(n,o,a,i,l){var u=this;this.$5=!1,this.$7=0,this.$8=0,this.$13=!1,this.$14=new s,this.$15=!1,this.$16=!1,this.$17=!1,this.startStream=function(){u.$13=!0;var e={startByte:u.$1.startByte,endByte:u.$1.endByte};u.$15?u.$8&&(u.$3.produce("skip_buffered_bytes"),u.$8=0):e.startByte+=u.$8;var n=u.$4;return u.$2.startStream(e).then(function(e){return e.pipeTo(u.$16?n:u.$4).then(function(){u.$12&&u.$12.resolve("stream_done")}).catch(function(e){u.$12&&!u.$12.isSettled()&&(u.$16&&e===t.STREAM_PAUSED?u.$12.resolve("stream_paused"):u.$12.reject(e))}),u.$12=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),{statusPromise:u.$12.getPromise()}})},this.$18=n,this.$19=o,this.$1=a,this.$2=i;var c=l||{},d=c.fixStreamingUndefinedEndByte,m=c.disableDeferredBufferArrayShift,p=c.enablePausableStreamResumeFromStartDangerously,_=c.fixPausePreReadableStream,f=c.throwErrorWhenAborted;this.$11=!!d,this.$15=!!p,this.$16=!!_,this.$17=!!f,this.$3=new(r("oz-player/networks/OzDeferredBuffer"))({disableArrayShift:!!m}),this.$6=new this.$18({start:function(t){u.$10=t},pull:function(n){if((u.$11&&u.$1.endByte===null&&u.$5||u.$7===u.$20())&&u.$3.isEmpty())return n.close(),r("oz-player/shims/OzMaybeNativePromise").resolve();var t=function(){var o=u.$14.hasMoreBytesToSkip()?u.$14.getBytesToSkip():void 0;return u.$3.consume(o).then(function(o){if(u.$14.hasMoreBytesToSkip())return u.$14.setBytesSkipped(o.length),t();u.$7+=o.length;var a=u.$20();a!==null&&u.$7>(a||0)&&r("oz-player/utils/ozPipeErrorTo")(u.$10,e()),n.enqueue(o)}).catch(function(e){if(e==="skip_buffered_bytes")return u.$14.setBytesToSkip(u.$7),t();throw e})};return t()},cancel:function(t){u.$12&&u.$12.resolve("stream_cancelled"),r("oz-player/utils/ozPipeErrorTo")(u.$9,t)}}),this.$4=this.$21()}var n=t.prototype;return n.$20=function(){var e=this.$1,t=e.startByte,n=e.endByte;return n!=null?n-t+1:null},n.$21=function(){var t=this;return new this.$19({start:function(n){t.$9=n},write:function(n){t.$3.produce(n),t.$8+=n.length},close:function(){t.$5=!0;var n=t.$1,o=n.endByte,a=n.startByte;t.$11&&o===null&&t.$3.produce(new Uint8Array([])),o!==null&&t.$8!==(o||0)-a+1&&r("oz-player/utils/ozPipeErrorTo")(t.$10,e())},abort:function(n){t.$12&&(t.$17?t.$12.reject(n):t.$12.resolve("stream_aborted")),r("oz-player/utils/ozPipeErrorTo")(t.$10,n)}})},n.getStream=function(){return this.$6},n.pauseStream=function(){r("oz-player/utils/ozPipeErrorTo")(this.$9,t.STREAM_PAUSED),this.$12&&this.$12.resolve("stream_paused"),this.$4=this.$21()},n.getByteRange=function(){return this.$1},n.getBytesStreamed=function(){return this.$7},n.tryConcatByteRange=function(t){return this.$13||!o("oz-player/manifests/OzByteRange").startsImmediateAfter(t,this.$1)?!1:(this.$1={startByte:this.$1.startByte,endByte:t.endByte},!0)},t})();u.STREAM_PAUSED="streamPaused",l.default=u}),98);
__d("oz-player/networks/RequestParamCreator",["oz-player/shims/OzURI"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){var e=this;this.createRequestParam=function(t,n,o){var a=new(r("oz-player/shims/OzURI"))(t.toString());if(n){var i=n.startByte,l=n.endByte;i===0&&l==null||(a.addQueryData({bytestart:n.startByte}),l!=null&&a.addQueryData({byteend:l}))}if(e.$2){var s=e.$2(a);s&&Object.keys(s).forEach(function(e){var t=s[e];a.addQueryData(e,t)})}var u=e.$1&&e.$1(a)?"include":"same-origin";return{uri:a,http:{credentials:u,priority:o}}},this.$1=t,this.$2=n};l.default=e}),98);
__d("oz-player/networks/getOzSegmentStreamableRange",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(!e.length)return null;var t=e[0].getURI().toString(),n=e[0].getByteRange();if(!n)return null;for(var r=n,o=1;o<e.length;o++){var a=e[o];if(a.getURI().toString()!==t)return null;var i=a.getByteRange();if(!r||!i||r.endByte===null||i.startByte!==r.endByte+1)return null;r=i}return{startByte:n.startByte,endByte:r.endByte}}i.default=e}),66);
__d("oz-player/utils/OzNetworkRequestLoggingUtils",["oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzResourceTimingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return t?parseInt(t.get("content-length"),10):null},s=function(t){return t?t.get("x-fb-fna-hit"):null},u=function(t){return t?t.get("x-fb-edge-hit"):null},c=function(t){return t?t.get("x-fb-origin-hit"):null},d=function(t){return t?parseInt(t.get("x-fb-dynamic-latest-segment-id"),10):null},m=function(t,n){var e=o("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(n);e&&t.setTimeToFirstByte(Math.round(e.responseStart-e.startTime)).setTimeToLastByte(Math.round(e.responseEnd-e.startTime)).setTimeToRequestStart(Math.round(e.requestStart-e.startTime))},p=function(n,o,a,i,l,p){a.length&&n.setSegmentCount(a.length),o!=null&&o!==""&&m(n,String(o)),n.setResource(o!=null&&o!==""?o:null).setInitiator("fetch").setTimeToRequestSent(Math.round(Math.floor(i))).setLiveheadSeqNumHeader(d(p==null?void 0:p.headers)).setContentLengthHeader(e(p==null?void 0:p.headers)).setEdgeHitHeader(u(p==null?void 0:p.headers)).setOriginHitHeader(c(p==null?void 0:p.headers)).setFNAHitHeader(s(p==null?void 0:p.headers)).setResponseTimeMsHeader(r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(p==null?void 0:p.headers)).setUserInfo({segmentPTSHeader:String(r("oz-player/shims/OzNetworkDiagnostics").getDvlSegmentPTS(p==null?void 0:p.headers))}).setCode(p==null?void 0:p.status).setLength(l)},_=function(n,o,a,i,l,s,p){o!=null&&o!==""&&m(n,String(o)),n.setResource(o!=null&&o!==""?o:null).setLiveheadSeqNumHeader(d(i==null?void 0:i.headers)).setContentLengthHeader(e(i==null?void 0:i.headers)).setEdgeHitHeader(u(i==null?void 0:i.headers)).setOriginHitHeader(c(i==null?void 0:i.headers)).setResponseTimeMsHeader(r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(i==null?void 0:i.headers)).setCode(i==null?void 0:i.status).setLength(a).setClientTimeBegin(l).setClientTimeDuration(s-l).setClientTimeEnd(s).setUserInfo(p!=null&&p>0?{chunkSize:String(p)}:null)};l.setPerformanceLoggingAttributes=m,l.setFetchStreamLoggingAttributes=p,l.setBandwidthSampledLoggingAttributes=_}),98);
__d("oz-player/networks/OzNetworkManager",["oz-player/loggings/OzLoggingUtils","oz-player/networks/OzNetworkRequestStream","oz-player/networks/OzPausableRangeStream","oz-player/networks/RequestParamCreator","oz-player/networks/getOzSegmentStreamableRange","oz-player/shims/OzStreams","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$10=null,this.$15="auto";var t=e.config,n=e.prefetchCache,o=e.networkRequestStreamHandlers,a=e.getOverrideOzRequestImplementation,i=e.getShouldIncludeCredentials,l=e.getCustomRequestParametersForURI,s=e.networkRequestFetchPriority,u=s===void 0?"auto":s,c=e.networkRequestStreamRetryHandler,d=e.networkRequestUrlRefreshHandler,m=e.setCustomFetchStreamLoggingAttributes,p=e.dynamicVideoLibrary,_=e.configureCustomRequestParametersForSegment,f=e.onResourceTimingBufferFull,g=e.bandwidthEstimator;this.$2=t,this.$8=i,this.$9=l,this.$1=new(r("oz-player/networks/RequestParamCreator"))(this.$8,this.$9),this.$3=n,this.$4=o,this.$5=c,this.$6=d,this.$7=a,this.$10=m,this.$11=p,this.$12=_,this.$13=f,this.$14=g,this.$15=u}var t=e.prototype;return t.destroy=function(){},t.request=function(t){var e=t.debugName,n=t.segments,o=t.pipeThroughRangeStreamProviders,a=t.loggerProvider,i=t.requestOptions,l=t.mediaStreamType,s=t.dataAppendedCallback,u=t.dataAppendedErrorCallback;n.length>0||r("oz-player/shims/ozvariant")(0,212);var c=r("oz-player/networks/getOzSegmentStreamableRange")(n)||{startByte:0,endByte:null},d=this.$7?this.$7():null,m=this.$16(n[0]),p=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:e,config:this.$2,baseUri:m,baseUriDecisionTime:null,options:i,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:d,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,mediaStreamType:l,dataAppendedCallback:s,dataAppendedErrorCallback:u});return this.$17(c,p,o,a,n)},t.createPausableStream=function(t){var e=t.debugName,n=t.segments,o=t.pipeThroughRangeStreamProviders,a=t.loggerProvider,i=t.mediaStreamType,l=t.dataAppendedCallback,s=t.dataAppendedErrorCallback;n.length>0||r("oz-player/shims/ozvariant")(0,212);var u=r("oz-player/networks/getOzSegmentStreamableRange")(n)||{startByte:0,endByte:null},c=null,d=this.$2.getNumber("network_seg_timeout_ms");d>0&&(c={networkTimeoutMs:d});var m=this.$7?this.$7():null,p=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:e,config:this.$2,baseUri:this.$16(n[0]),baseUriDecisionTime:n[0].getOptions().getSegmentNumDecisionTime(),options:c,requestParamCreator:this.$1,networkRequestFetchPriority:this.$15,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:m,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:i,dataAppendedCallback:l,dataAppendedErrorCallback:s});return{pausableStream:this.$18(u,p,o||null,a),loggingPayloads:{getRequestUrl:function(){return p.getLastRequestUrl()||null},segments:n,getResponse:function(){return p.getLastResponse()}}}},t.requestRawUrl=function(t){var e=t.debugName,n=t.url,o=t.options,a=t.loggerProvider,i=this.$7?this.$7():null,l=new(r("oz-player/networks/OzNetworkRequestStream"))({debugName:e,config:this.$2,baseUri:new(r("oz-player/shims/OzURI"))(n),baseUriDecisionTime:null,options:o,networkRequestFetchPriority:this.$15,requestParamCreator:this.$1,networkRequestStreamHandlers:this.$4,networkRequestUrlRefreshHandler:this.$6,overrideOzRequestImplementation:i,prefetchCache:this.$3,networkRequestStreamRetryHandler:this.$5,dynamicVideoLibrary:this.$11,mediaStreamType:null,dataAppendedCallback:null,dataAppendedErrorCallback:null}),s={startByte:0,endByte:null};return this.$17(s,l,[],a)},t.$18=function(t,n,a,i){var e=n;if(a!=null)for(var l=0;l<a.length;l++){var s=a[l];e=s(this.$2,e,i,this.$13)}return new(r("oz-player/networks/OzPausableRangeStream"))(o("oz-player/shims/OzStreams").OzReadableStream,o("oz-player/shims/OzStreams").OzWritableStream,t,e,{fixStreamingUndefinedEndByte:!0,enablePausableStreamResumeFromStartDangerously:!0,fixPausePreReadableStream:!0,throwErrorWhenAborted:!0})},t.$17=function(t,n,r,a,i){var e=this;i===void 0&&(i=[]);var l=this.$18(t,n,r,a),s=l.startStream(),u=this.$19(s);if(a){var c=function(r){o("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(r,n.getLastRequestUrl(),i,0,l.getBytesStreamed(),n.getLastResponse());var t=e.$10;t&&t(r,n.getLastRequestUrl(),n.getLastResponse())};o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(u,a,"fetch_stream",c,c)}return{getStream:function(){return l.getStream()},cancel:function(){return l.pauseStream()},getStatusChangePromise:function(){return u}}},t.$19=function(t){return t.then(function(e){var t=e.statusPromise;return t.then(function(e){return"done"})})},t.$16=function(t){var e=this.$12,n=new(r("oz-player/shims/OzURI"))(t.getURI().toString());if(e){var o=e(t);o&&Object.keys(o).forEach(function(e){var t=o[e];n.addQueryData(e,t)})}return n},t.getBandwidthEstimator=function(){return this.$14},e.getStreamableSegmentsRange=function(t){return t.length?r("oz-player/networks/getOzSegmentStreamableRange")(t)?t.slice(0):[t[0]]:[]},e})();l.default=e}),98);
__d("oz-player/manifests/Mpd",["oz-player/shims/OzEventEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s){var u;return u=e.call(this)||this,u.$Mpd$p_9=!1,u.$Mpd$p_1=t,u.$Mpd$p_5=i,u.$Mpd$p_2=n,u.$Mpd$p_3=r,u.$Mpd$p_4=o,u.$Mpd$p_6=a,u.$Mpd$p_7=l,u.$Mpd$p_8=s,u}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.markRefreshed=function(){this.$Mpd$p_10=Date.now()},n.getRefreshDate=function(){return this.$Mpd$p_10},n.updateLocation=function(t){this.$Mpd$p_6=t,this.$Mpd$p_9=!0,this.emit("locationUpdated")},n.getLocation=function(){return this.$Mpd$p_6},n.getMinimumUpdatePeriod=function(){return this.$Mpd$p_5},n.getVideoRepresentations=function(){return this.$Mpd$p_2},n.getVideoRepresentationsByVariant=function(t){return t.lang===null?this.$Mpd$p_2.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role}):this.$Mpd$p_2.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role})},n.getAudioRepresentationsByVariant=function(t){return t.lang===null?this.$Mpd$p_3.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role}):this.$Mpd$p_3.filter(function(e){return e.getLang()===t.lang&&e.getRole()===t.role})},n.getAudioRepresentations=function(){return this.$Mpd$p_3},n.getApplicationRepresentations=function(){return this.$Mpd$p_4},n.getCustomField=function(t){var e=this.$Mpd$p_7.get(t);if(!e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"Custom parser not specified for field "+t});try{return e(this.$Mpd$p_1)}catch(e){return null}},n.isStaticMpd=function(){return this.$Mpd$p_8},n.updateWith=function(t){this.$Mpd$p_9&&(this.$Mpd$p_9=!1,this.$Mpd$p_2.splice(0,this.$Mpd$p_2.length),this.$Mpd$p_3.splice(0,this.$Mpd$p_3.length),this.$Mpd$p_4.splice(0,this.$Mpd$p_4.length)),this.$Mpd$p_1=t.$Mpd$p_1,this.$Mpd$p_11(this.$Mpd$p_2,t.getVideoRepresentations()),this.$Mpd$p_11(this.$Mpd$p_3,t.getAudioRepresentations()),this.$Mpd$p_11(this.$Mpd$p_4,t.getApplicationRepresentations()),this.$Mpd$p_8=t.isStaticMpd(),this.$Mpd$p_5=t.getMinimumUpdatePeriod(),this.emit("updated")},n.blockTimeRange=function(t){this.$Mpd$p_2.forEach(function(e){return e.blockTimeRange(t)}),this.$Mpd$p_3.forEach(function(e){return e.blockTimeRange(t)}),this.$Mpd$p_4.forEach(function(e){return e.blockTimeRange(t)})},n.unblockTimeRange=function(){this.blockTimeRange({startTime:0,endTime:0})},n.$Mpd$p_11=function(t,n){for(var e=0;e<n.length;e++){for(var r=n[e],o=!1,a=0;a<t.length;a++){var i=t[a];if(r.getID()===i.getID()){i.updateWith(r),o=!0;break}}o||t.push(r)}},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/manifests/OzApplicationRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/parsers/OzSegmentTemplateParser",["oz-player/manifests/OzSegmentOptions","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$3=new(r("oz-player/manifests/OzSegmentOptions")),this.$2=e,this.$1=t}var t=e.prototype;return t.getData=function(){return this.$1},t.getTimeRange=function(){return{startTime:0,endTime:0}},t.getByteRange=function(){return null},t.getURI=function(){return this.$2},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$3},e})(),s=(function(){function t(e,t,n,o,a){this.$2=n,this.$1=t,this.$3=e,o?this.$4=o:this.$4=new(r("oz-player/parsers/OzDefaultSegmentTimelineParser")),this.$5=a}var n=t.prototype;return n.parseInitializationSegment=function(){var t=o("oz-player/utils/OzUrlHelper").joinUrlPaths(this.$2.baseUrl,this.$1.$.initialization);return new e(new(r("oz-player/shims/OzURI"))(t),this.$5)},n.parseSegmentsContainer=function(){return this.$4.parseSegmentsContainer(this.$3,this.$2,this.$1)},t})();l.default=s}),98);
__d("oz-player/manifests/OzZeroTimeRangeSegment",["oz-player/manifests/OzSegmentOptions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$4=new(r("oz-player/manifests/OzSegmentOptions")),this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.getData=function(){return null},t.getURI=function(){return this.$1},t.getTimeRange=function(){return{startTime:0,endTime:0}},t.getByteRange=function(){return{startByte:this.$2,endByte:this.$3}},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$4},e})();l.default=e}),98);
__d("oz-player/networks/OzNetworkRequestStreamBandwidthReporter",["oz-player/networks/OzTransformStream","oz-player/shims/OzNetworkDiagnostics","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var n=this;this.$8=Date.now(),this.$9=Date.now(),this.$10=0,this.$11=0,this.$12=function(){},this.$13=function(){},this.$14=function(){},this.$16=new(r("oz-player/networks/OzTransformStream")),this.$19=!1,this.$20=!1,this.$21=null,this.$22=function(e){n.$25(),e.length!=null&&(n.$11+=e.length),n.$26(),!n.$18&&n.$27()},this.$23=function(){if(!(n.$21!=null&&n.$21>0)){var e=Date.now()-n.$8,r=n.$1.getLastPerformanceEntry();r&&n.$13(r.responseStart-r.requestStart,r.responseEnd-r.requestStart,n.$11),!r&&t.__isresourcetimingbufferfull&&n.$15&&n.$15(),n.$3>0&&e>0&&n.$10===0&&n.$11>=n.$3&&n.$28(n.$11,e)}};var o=e.stream,a=e.loggerProvider,i=e.byteCountPerSample,l=e.minimumBytesToSampleOnClose,s=e.minimumSampleDuration,u=e.maximumSampleBandwidth,c=e.useResponseTimeMs,d=e.responseTimeHandicapMs,m=e.ignoreOnStreamWriteSamples,p=e.onResourceTimingBufferFull;this.$1=o,this.$17=a,this.$2=i,this.$3=l,this.$4=s,this.$5=u,this.$6=c,this.$7=d,this.$18=m,this.$16.addListener("writableWrite",this.$22),this.$16.addListener("writableClose",this.$23),this.$15=p}var n=e.prototype;return n.getTransformStream=function(){return this.$16},n.onBandwidthSample=function(t){this.$12=t},n.onNavigationTimingSample=function(t){this.$13=t},n.onEstimateFromHeaders=function(t){this.$14=t},n.$24=function(t,n,r){var e=n-r,a=this.$17?this.$17.getOperationLogger("bandwidth_sampled"):null;if(a){var i=Date.now(),l=i-e;o("oz-player/utils/OzNetworkRequestLoggingUtils").setBandwidthSampledLoggingAttributes(a,this.$1.getLastRequestUrl(),t,this.$1.getLastResponse(),l,i,this.$21),a.log()}this.$12(t,e)},n.$29=function(t,n,r){if(n-r<=0)return!0;var e=t*8/(n/1e3);return n<this.$4&&e>this.$5},n.$28=function(t,n){var e=this.$1.getLastResponse(),o=this.$6&&r("oz-player/shims/OzNetworkDiagnostics").getResponseTimeMs(e==null?void 0:e.headers)||0;this.$29(t,n,o)||this.$24(t,n,Math.max(o-this.$7,0))},n.$25=function(){var e,t=(e=this.$1.getLastResponse())==null?void 0:e.headers;if(!(this.$20||t==null)){this.$20=!0;var n=r("oz-player/shims/OzNetworkDiagnostics").getBandwidthMeanEstimate(t);n!=null&&this.$14(n)}},n.$26=function(){if(!this.$19){if(this.$21==null){var e=this.$1.getLastResponse();this.$21=r("oz-player/shims/OzNetworkDiagnostics").getUsableResponseSizeForBandwidthEstimation(e==null?void 0:e.headers)||0}this.$21!=null&&this.$21>0&&this.$11>=this.$21&&(this.$19=!0,this.$28(this.$11,Date.now()-this.$9))}},n.$27=function(){var e=Date.now(),t=e-this.$8;this.$2>0&&this.$11>=this.$10+this.$2&&!this.$29(this.$11,t,0)&&(this.$24(this.$11-this.$10,t,0),this.$8=e,this.$10=this.$11)},e})();l.default=e}),98);
__d("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator",["oz-player/networks/OzNetworkRequestStreamBandwidthReporter"],(function(t,n,r,o,a,i,l){"use strict";var e=2e5;function s(t,n,o,a,i){return{startStream:function(s){var l=new(r("oz-player/networks/OzNetworkRequestStreamBandwidthReporter"))({stream:n,loggerProvider:o,byteCountPerSample:t.getNumber("byte_count_per_sample",e),minimumBytesToSampleOnClose:t.getNumber("minimum_bytes_to_sample_on_close",25e3),minimumSampleDuration:t.getNumber("minimum_bandwidth_sample_duration",10),maximumSampleBandwidth:t.getNumber("maximum_bandwidth_sample_bandwidth",1e8),useResponseTimeMs:t.getBool("bandwidth_use_response_time_adjustment",!1),responseTimeHandicapMs:t.getNumber("bandwidth_response_time_handicap",0),ignoreOnStreamWriteSamples:t.getBool("bandwidth_ignore_on_stream_write_samples",!1),onResourceTimingBufferFull:i});return l.onBandwidthSample(function(e,t){a.addBandwidthSample(e,t)}),l.onNavigationTimingSample(function(e,n,r){var o=t.getNumber("time_to_first_byte_ignore_above_threshold_ms",0);(o===0||e<=o)&&a.addNavigationTimingSample(e,n,r)}),l.onEstimateFromHeaders(function(e){a.setBandwidthEstimateFromHeaders({meanEstimate:e})}),n.startStream(s).then(function(e){return n.retrievedFromCache()?e:e.pipeThrough(l.getTransformStream())})}}}l.pipeStreamThroughBandwidthEstimator=s}),98);
__d("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter",["oz-player/networks/OzNetworkRequestStream","oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return function(n,a,i,l){var s=e==="video";return a instanceof r("oz-player/networks/OzNetworkRequestStream")&&s?o("oz-player/networks/bandwidth/pipeStreamThroughBandwidthEstimator").pipeStreamThroughBandwidthEstimator(n.getLegacyConfig(),a,i,t,l):a}}l.default=e}),98);
__d("oz-player/manifests/OzDataSegment",["oz-player/manifests/OzSegmentOptions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a){this.$6=new(r("oz-player/manifests/OzSegmentOptions")),this.$1=e,this.$2=t,this.$3=n,this.$4=o,this.$5=a}var t=e.prototype;return t.getData=function(){return null},t.getURI=function(){return this.$1},t.getTimeRange=function(){return{startTime:this.$2,endTime:this.$3}},t.getByteRange=function(){return{startByte:this.$4,endByte:this.$5}},t.getSequenceNumber=function(){return null},t.getOptions=function(){return this.$6},e})();l.default=e}),98);
__d("oz-player/shims/www/OzDataViewReaderWWW",["DataViewReader"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("DataViewReader")}),98);
__d("oz-player/shims/OzDataViewReader",["oz-player/shims/www/OzDataViewReaderWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzDataViewReaderWWW")}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzMp4SidxParser",["oz-player/manifests/OzDataSegment","oz-player/manifests/OzSegmentOptions","oz-player/shims/OzDataViewReader","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=1936286840;function s(t,n,a,i){var l=new(r("oz-player/shims/OzDataViewReader"))(new DataView(i.buffer)),s=l.readUint32(),u=l.readUint32();if(u!==e)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:'Invalid box type, expected "sidx".'});s==1&&(s=l.readUint64());var c=l.readUint8();l.skip(3),l.skip(4);var d=l.readUint32();if(!d)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Invalid timescale."});var m,p;c==0?(m=l.readUint32(),p=l.readUint32()):(m=l.readUint64(),p=l.readUint64()),l.skip(2);for(var _=l.readUint16(),f=m,g=a+s+p,h=0,y=t.getBool("sidx_parser_memory_optimization"),C=[],b=function(){var e=l.readUint32(),t=(e&2147483648)>>>31,a=e&2147483647,i=l.readUint32();if(e=l.readUint32(),t==1)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SIDX_PARSER",description:"Heirarchical SIDXs are not supported."});var s=f/d,u=(f+i)/d;v===0&&(h=s);var c=g,m=c+a-1,p=new(r("oz-player/manifests/OzSegmentOptions"));C.push(y?new(r("oz-player/manifests/OzDataSegment"))(n,s-h,u-h,c,m):{getData:function(){return null},getURI:function(){return n},getTimeRange:function(){return{startTime:s-h,endTime:u-h}},getByteRange:function(){return{startByte:c,endByte:m}},getSequenceNumber:function(){return null},getOptions:function(){return p}}),f+=i,g+=a},v=0;v<_;v++)b();return C}l.parse=s}),98);
__d("oz-player/parsers/OzSidxSegmentsContainer",["oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.getSegmentByTime=function(t){for(var e=this.$1(),n=0;n<e.length;n++){var r=e[n],o=r.getTimeRange();if(o.startTime<=t&&o.endTime>t)return r}return null},t.getSegmentAfter=function(t){var e=this.$1(),n=e.findIndex(function(e){return e.getTimeRange().startTime===t.getTimeRange().startTime&&e.getTimeRange().endTime===t.getTimeRange().endTime});return n>=0&&n+1<e.length?e[n+1]:null},t.getPredictedSegmentAfter=function(t){return null},t.canPredict=function(){return!1},t.canApproximateId=function(){return!1},t.isEndingSegment=function(t){var e=this.$1();if(!e||!e.length)return!1;var n=e[e.length-1].getTimeRange(),r=t.getTimeRange();return n.startTime===r.startTime&&n.endTime===r.endTime},t.getSegment=function(t){return this.$1()[t]||null},t.updateWith=function(t){throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"Not implemented: updatedWith"})},t.addUpdateListener=function(t){return this.$2.addListener("segment_updated",t)},t.getTimeRanges=function(){var e=this.$1();if(e.length===0)return[];var t=e[0],n=e[e.length-1];return[{startTime:t.getTimeRange().startTime,endTime:n.getTimeRange().endTime}]},t.blockTimeRange=function(){},t.getEndingSegment=function(){var e=this.$1();return e.length>0?e[e.length-1]:null},t.getMaxGopSec=function(){return null},e})();l.default=e}),98);
/**
 * License: https://www.facebook.com/legal/license/k5cmJzUOK4Y/
 */
__d("oz-player/parsers/OzWebmSidxParser",["oz-player/manifests/OzDataSegment","oz-player/shims/OzDataViewReader","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=440786851,s=408125543,u=357149030,c=2807729,d=17545,m=475249515,p=187,_=179,f=183,g=241,h=[new Uint8Array([255]),new Uint8Array([127,255]),new Uint8Array([63,255,255]),new Uint8Array([31,255,255,255]),new Uint8Array([15,255,255,255,255]),new Uint8Array([7,255,255,255,255,255]),new Uint8Array([3,255,255,255,255,255,255]),new Uint8Array([1,255,255,255,255,255,255,255])];function y(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!=t[n])return!1;return!0}var C=(function(){function e(e,t){this.id=e,this.$1=t}var t=e.prototype;return t.getOffset=function(){return this.$1.byteOffset},t.createParser=function(){return new b(this.$1)},t.getUint=function(){if(this.$1.byteLength>8)throw new RangeError("EbmlElement: Unsigned integer has too many bytes.");if(this.$1.byteLength==8&&this.$1.getUint8(0)&224)throw new RangeError("EbmlParser: Unsigned integer must be at most 53 bits.");for(var e=0,t=0;t<this.$1.byteLength;t++){var n=this.$1.getUint8(t);e=256*e+n}return e},t.getFloat=function(){if(this.$1.byteLength==4)return this.$1.getFloat32(0);if(this.$1.byteLength==8)return this.$1.getFloat64(0);throw new RangeError("EbmlElement: floating point numbers must be 4 or 8 bytes.")},e})(),b=(function(){function e(e){this.$1=e,this.$2=new(r("oz-player/shims/OzDataViewReader"))(this.$1)}var t=e.prototype;return t.hasMoreData=function(){return this.$2.hasMoreData()},t.parseElement=function(){var t=this.$3(),n=this.$4(),r;e.$5(n)?r=this.$1.byteLength-this.$2.getCursor():r=e.$6(n);var o=this.$2.getCursor()+r<=this.$1.byteLength?r:this.$1.byteLength-this.$2.getCursor(),a=new DataView(this.$1.buffer,this.$1.byteOffset+this.$2.getCursor(),o);return this.$2.skip(o),new C(t,a)},t.$3=function(){var e=this.$4();if(e.length>7)throw new RangeError("EbmlParser: EBML ID must be at most 7 bytes.");for(var t=0,n=0;n<e.length;n++)t=256*t+e[n];return t},t.$4=function(){var e=this.$2.readUint8(),t;for(t=1;t<=8;t++){var n=1<<8-t;if(e&n)break}if(t>8)throw new RangeError("EbmlParser: Variable sized integer must fit within 8 bytes.");var r=new Uint8Array(t);r[0]=e;for(var o=1;o<t;o++)r[o]=this.$2.readUint8();return r},e.$6=function(t){if(t.length==8&&t[1]&224)throw new RangeError("EbmlParser: Variable sized integer value must be at most 53 bits.");for(var e=1<<8-t.length,n=t[0]&e-1,r=1;r<t.length;r++)n=256*n+t[r];return n},e.$5=function(t){for(var e=0;e<h.length;e++)if(y(t,h[e]))return!0;return!1},e})();function v(e){for(var t=e.createParser(),n=1e6,r=null;t.hasMoreData();){var o=t.parseElement();o.id==c?n=o.getUint():o.id==d&&(r=o.getFloat())}if(r==null)return null;var a=n/1e9,i=r*a;return{timecodeScale:a,duration:i}}function S(e,t,n,o,a,i){for(var l=[],s=t.createParser(),u=-1,c=-1;s.hasMoreData();){var d=s.parseElement();if(d.id==p){var m=R(d);if(m){var _=o*m.unscaledTime,f=n+m.relativeOffset;u>=0&&(c>=0||r("oz-player/shims/ozvariant")(0,4010),l.push(new(r("oz-player/manifests/OzDataSegment"))(i,u,_,c,f-1))),u=_,c=f}}}if(u>=0){c>=0||r("oz-player/shims/ozvariant")(0,4010);var g=a;l.push(new(r("oz-player/manifests/OzDataSegment"))(i,u,g,c,null))}return l}function R(e){var t=e.createParser(),n=t.parseElement();if(n.id!=_)return null;var r=n.getUint(),o=t.parseElement();if(o.id!=f)return null;for(var a=o.createParser(),i=0;a.hasMoreData();){var l=a.parseElement();if(l.id==g){i=l.getUint();break}}return{unscaledTime:r,relativeOffset:i}}function L(e){for(var t=e.createParser(),n=null;t.hasMoreData();){var r=t.parseElement();if(r.id==u){n=r;break}}return n?v(n):null}function E(t){var n=new b(t),r=n.parseElement();if(r.id!=e)return null;var o=n.parseElement();if(o.id!=s)return null;var a=o.getOffset(),i=L(o);return i?{segmentOffset:a,timecodeScale:i.timecodeScale,duration:i.duration}:null}function k(e,t,n,r){var o=new DataView(r.buffer),a=new DataView(n.buffer),i=E(o);if(!i)return[];var l=new b(a),s=l.parseElement();return s.id!=m?[]:S(e,s,i.segmentOffset,i.timecodeScale,i.duration,t)}l.parse=k}),98);
__d("oz-player/parsers/OzSidxSegmentsParser",["oz-player/loggings/OzLoggingUtils","oz-player/manifests/OzSegmentOptions","oz-player/manifests/OzZeroTimeRangeSegment","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/parsers/OzMp4SidxParser","oz-player/parsers/OzSidxSegmentsContainer","oz-player/parsers/OzWebmSidxParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzURI","oz-player/utils/OzErrorEmitter","oz-player/utils/OzReadableStreamUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.split("-");return{startByte:Number.parseInt(t[0],10),endByte:Number.parseInt(t[1],10)}}var s=(function(){function t(e,t,n,o,a,i,l){this.$6=new(r("oz-player/utils/OzErrorEmitter")),this.$7=[],this.$9=new(r("oz-player/shims/OzEventEmitter")),this.$1=t,this.$2=new(r("oz-player/shims/OzURI"))(n),this.$3=o,this.$5=a,this.$4=i,this.$8=l.cloneContext().setType(a==="video"||a==="audio"?a+";sidx":"sidx"),this.$10=e}var n=t.prototype;return n.onError=function(t){return this.$6.onError(t)},n.parseInitializationSegment=function(){var t=this,n=this.$1.Initialization[0].$.range,o=e(n),a=new(r("oz-player/manifests/OzSegmentOptions"));return this.$10.getBool("sidx_parser_memory_optimization")?new(r("oz-player/manifests/OzZeroTimeRangeSegment"))(this.$2,o.startByte,o.endByte):{getData:function(){return null},getURI:function(){return t.$2},getTimeRange:function(){return{startTime:0,endTime:0}},getByteRange:function(){return o},getSequenceNumber:function(){return null},getOptions:function(){return a}}},n.parseSegmentsContainer=function(){var e=this,t=this.$11();return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(t,this.$8,"process_sidx"),t.catch(function(t){e.$6.emitError(t)}),new(r("oz-player/parsers/OzSidxSegmentsContainer"))(function(){return e.$7},this.$9)},n.$12=function(t,n,a){var e=new(r("oz-player/manifests/OzZeroTimeRangeSegment"))(t,n.startByte,n.endByte),i=this.$5+";sidx",l=this.$4.request({debugName:"OzSidxSegmentsParser/sidx/"+this.$5,segments:[e],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(i,this.$4.getBandwidthEstimator())],loggerProvider:this.$8,requestOptions:{networkTimeoutMs:null,retryAttempts_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_attempts"),retryTimeoutMs_SIDX_USE_ONLY:this.$10.getNumber("sidx_segment_retry_interval_ms")},mediaStreamType:a}),s=l.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpAllData(s)},n.$11=function(){var t=this,n=this.$1.$.indexRange,a=e(n),i=[this.$12(this.$2,a,null)],l;if(this.$3==="webm"){var s=e(this.$1.Initialization[0].$.range);i.push(this.$12(this.$2,s,null)),l=r("oz-player/shims/OzMaybeNativePromise").all(i).then(function(e){var n=e[0],r=e[1];t.$7=o("oz-player/parsers/OzWebmSidxParser").parse(t.$10,t.$2,n,r)})}else l=i[0].then(function(e){t.$7=o("oz-player/parsers/OzMp4SidxParser").parse(t.$10,t.$2,a.startByte,e)});return l.then(function(){t.$9.emit("segment_updated")})},t})();l.default=s}),98);
__d("oz-player/parsers/OzVideoContainerType",[],(function(t,n,r,o,a,i){"use strict";function e(e){return(e.split("/")[1]||"").trim()}i.parse=e}),66);
__d("oz-player/parsers/OzRepresentationParserBase",["oz-player/manifests/OzRepresentationBase","oz-player/parsers/OzSegmentTemplateParser","oz-player/parsers/OzSidxSegmentsParser","oz-player/parsers/OzVideoContainerType","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a,i,l,s,u,c,d,m,p,_,f){this.$9=new(r("oz-player/utils/OzErrorEmitter")),this.$1=t,this.$2=n,this.$10=a,this.$11=i,this.$13=o,this.$14=e,this.$15=l,this.$3=s,this.$4=u,this.$5=c,this.$6=d!=null?d:null,this.$7=m!=null?m:null,this.$8=p!=null?p:null,this.$16=_,this.$17=f;try{this.$11=this.$11.cloneContext().setRepresentationID(this.parseID())}catch(e){}}var t=e.prototype;return t.$18=function(){var e=this,t=this.$12;if(t)return t;if(this.$1.SegmentBase){var n=this.$1.SegmentBase[0],a=this.$1.BaseURL[0]._;if(typeof a!="string")throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing representation BaseURL",extra:{code:"OZ_RP-9"}});t=new(r("oz-player/parsers/OzSidxSegmentsParser"))(this.$14,n,a,o("oz-player/parsers/OzVideoContainerType").parse(this.$1.$.mimeType),o("oz-player/utils/OzMimeUtil").getMimeType(this.$1.$.mimeType),this.$10,this.$11),t.onError(function(t){var n;if(!((n=e.$17)!=null&&n.handleError(e.parseID(),t)))return e.$9.emitError(t)})}else if(this.$1.SegmentTemplate)t=this.$19(this.$1.SegmentTemplate[0],{isShared:!1});else if(this.$3)t=this.$19(this.$3[0],{isShared:!0});else throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Unrecognized representation type",extra:{code:"OZ_RP-7"}});return this.$12=t,t},t.$19=function(t,n){var e,a=t;n.isShared&&(a=babelHelpers.extends({},a,{$:babelHelpers.extends({},a.$,{initialization:a.$.initialization.replace("$RepresentationID$",this.$1.$.id),media:a.$.media.replace("$RepresentationID$",this.$1.$.id)})}));var i=this.$13.mpdUrl,l=this.$1.BaseURL&&this.$1.BaseURL[0]?this.$1.BaseURL[0]._:null,s=l!=null?l:i;if(s==null)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_REPRESENTATION_PARSER",description:"Missing mpd url for template manifest",extra:{code:"OZ_RP-6"}});var u=this.$13.customSegmentTimelineParser,c=(e=this.$13.customRepresentationParsers)==null?void 0:e.initializationBinary,d=c?c(this.$1):null;return new(r("oz-player/parsers/OzSegmentTemplateParser"))(this.$14,a,{baseUrl:s,mpdUrl:i,isStaticMpd:this.$15.manifestType==="static",isTemplatedMpd:this.$15.manifestIsTemplated},u,d)},t.onError=function(t){return this.$9.onError(t)},t.parseInitSegment=function(){return this.$18().parseInitializationSegment()},t.parseBandwidth=function(){return Number(this.$1.$.bandwidth)},t.parseMimeType=function(){var e,t;return(e=(t=this.$1.$.mimeType)!=null?t:this.$4)!=null?e:""},t.parseCodecs=function(){var e,t;return(e=(t=this.$1.$.codecs)!=null?t:this.$5)!=null?e:""},t.parseVariantKey=function(){return this.$6},t.parseLang=function(){return this.$7},t.parseRole=function(){return this.$8},t.parseSegmentsContainer=function(){return this.$18().parseSegmentsContainer()},t.parseID=function(){return""+this.$1.$.id},t.parseCustomFieldFirstSegment=function(){var e=this.$13.customRepresentationParsers?this.$13.customRepresentationParsers.firstSegmentParser:null;return e?e(this.$1):null},t.parse=function(){return new(r("oz-player/manifests/OzRepresentationBase"))(this.$1,this.$2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),this.$13.customRepresentationParsers)},e})();l.default=e}),98);
__d("oz-player/parsers/OzApplicationRepresentationParser",["oz-player/manifests/OzApplicationRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_){var f;return f=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_)||this,f.$OzApplicationRepresentationParser$p_1=n,f.$OzApplicationRepresentationParser$p_3=o,f}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=this.$OzApplicationRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzApplicationRepresentation"))(this.$OzApplicationRepresentationParser$p_1,this.$OzApplicationRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/manifests/OzAudioRepresentation",["oz-player/manifests/OzRepresentationBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p){var _;return _=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p)||this,_.$OzAudioRepresentation$p_1=r,_.$OzAudioRepresentation$p_2=d,_.$OzAudioRepresentation$p_3={id:r,displayLabel:_.getDisplayLabel(),mimeCodecs:_.getMimeCodecs(),variantKey:i,lang:l,role:s},_}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getBitrateKbps=function(){var e=1024;return(this.$OzAudioRepresentation$p_2/e).toFixed(1)+"Kbps"},n.getDisplayLabel=function(){var t=e.prototype.getLang.call(this),n=e.prototype.getRole.call(this),r=t==null?"Default":t;return n==null?r:r+" - "+n},n.getAudioTrack=function(){return this.$OzAudioRepresentation$p_3},t})(r("oz-player/manifests/OzRepresentationBase"));l.default=e}),98);
__d("oz-player/parsers/OzAudioRepresentationParser",["oz-player/manifests/OzAudioRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_){var f;return f=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_)||this,f.$OzAudioRepresentationParser$p_1=n,f.$OzAudioRepresentationParser$p_3=o,f}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=this.$OzAudioRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzAudioRepresentation"))(this.$OzAudioRepresentationParser$p_1,this.$OzAudioRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/parsers/OzVideoRepresentationParser",["oz-player/manifests/OzVideoRepresentation","oz-player/parsers/OzRepresentationParserBase"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r,o,a,i,l,s,u,c,d,m,p,_,f){var g;return g=e.call(this,t,n,r,o,a,i,l,s,u,c,d,m,p,_,f)||this,g.$OzVideoRepresentationParser$p_1=n,g.$OzVideoRepresentationParser$p_2=r,g.$OzVideoRepresentationParser$p_3=o,g}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.parse=function(){var e=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.height,10),t=Number.parseInt(this.$OzVideoRepresentationParser$p_1.$.width,10),n=this.$OzVideoRepresentationParser$p_3.customRepresentationParsers;return new(r("oz-player/manifests/OzVideoRepresentation"))(this.$OzVideoRepresentationParser$p_1,this.$OzVideoRepresentationParser$p_2,this.parseID(),this.parseMimeType(),this.parseCodecs(),this.parseVariantKey(),this.parseLang(),this.parseRole(),this.parseInitSegment(),this.parseSegmentsContainer(),this.parseBandwidth(),this.parseCustomFieldFirstSegment(),n,t,e)},t})(r("oz-player/parsers/OzRepresentationParserBase"));l.default=e}),98);
__d("oz-player/utils/OzIbrUtils",["oz-player/networks/OzBandwidthEstimator"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n,o){var e=r("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(n.getLegacyConfig()),a=t.slice(0);a.sort(function(e,t){return e.getBandwidth()-t.getBandwidth()});for(var i=n.getNumber("live_audio_ibr_bandwidth_percentage"),l=e*i,s=a.length-1;s>=0;s--)if(a[s].getBandwidth()<=l)return o.getOperationLogger("audio_ibr_success").setRepresentationID(a[s].getID()).setReason(e.toString()).log(),a[s];return o.getOperationLogger("audio_ibr_no_op").setReason(e.toString()).log(),null};l.getInitialAudioRepresentation=e}),98);
__d("oz-player/parsers/OzMpdParser",["oz-player/manifests/Mpd","oz-player/parsers/OzApplicationRepresentationParser","oz-player/parsers/OzAudioRepresentationParser","oz-player/parsers/OzVideoRepresentationParser","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.blockedRepresentationsManager,n=e.config,o=e.drmManager,a=e.enableAlternativeAudioTracks,i=e.initialRepresentationIDs,l=e.networkManager,s=e.ozParserContext,u=e.perfLoggerProvider,c=e.useManagedMediaSource;this.$2=new(r("oz-player/utils/OzErrorEmitter")),this.$5=n,this.$1=l,this.$3=u,this.$4=s,this.$6=o,this.$7=i!=null?i:[],this.$8=t!=null?t:null,this.$9=a,this.$10=c!=null?c:!1,this.$11=!0}var t=e.prototype;return t.onError=function(t){return this.$2.onError(t)},t.parse=function(t){var e=this,n=[],a=t,i=this.$4.createXmlParser().parse(a),l=i.MPD&&i.MPD.length>0?i.MPD[0]:null;if(!l){var s=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing MPD node; truncated xml ("+Math.min(s,a.length)+"/"+a.length+"): "+a.substring(0,s)})}var u=l.Period&&l.Period.length>0?l.Period[0]:null;if(!u){var c=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_MPD_PARSER",description:"parsed manifest XML missing Period node; truncated xml ("+Math.min(c,a.length)+"/"+a.length+"): "+a.substring(0,c)})}var d=u.AdaptationSet||[],m=this.$12(l);this.$11=m==="static";var p=this.$13(l),_=this.$14(this.$15(d,"video"),{manifestType:m,manifestIsTemplated:p},n),f;this.$9?f=this.$16(this.$15(d,"audio"),{manifestType:m,manifestIsTemplated:p},n).sort(function(e,t){return e.getBandwidth()-t.getBandwidth()}):f=this.$17(this.$18(d,"audio"),r("oz-player/parsers/OzAudioRepresentationParser"),{manifestType:m,manifestIsTemplated:p},n).sort(function(e,t){return e.getBandwidth()-t.getBandwidth()});var g=[];if(this.$5.getBool("vtt_caption_representation")){var h=this.$15(d,"application");g=this.$17(h[0],r("oz-player/parsers/OzApplicationRepresentationParser"),{manifestType:m,manifestIsTemplated:p},n)}var y=this.$4.mpdUrl,C=new(r("oz-player/manifests/Mpd"))(l,_,f,g,y,this.$19(l),this.$4.customParsers||new Map,this.$11);if(this.$6){var b=this.$6;b.startEME(_,f)}return n.forEach(function(t){t.onError(e.$2.emitError)}),C},t.$19=function(t){var e=t.$.minimumUpdatePeriod||"",n=/\d+/g.exec(e);if(n&&n.length){var r=n[0];return r?Number.parseInt(r,10):null}return null},t.$12=function(t){return t.$.type||"static"},t.$13=function(t){var e,n=(e=this.$4.customParsers)==null?void 0:e.get("isLiveTemplated");if(!n)return!1;var r=n(t);return typeof r=="boolean"&&r},t.$18=function(t,n){return t.find(this.$20(n))},t.$15=function(t,n){return t.filter(this.$20(n))},t.$20=function(t){return function(e){if(e.$.mimeType!=null)return e.$.mimeType.indexOf(t)!==-1;var n=e.Representation;return n&&n.length>0&&n[0].$.mimeType.indexOf(t)!==-1}},t.$17=function(t,n,r,o){var e=this;if(!t)return[];var a=t.Role,i=a!=null?a:[],l=i[0],s=l?l.$.value:null,u=t.$.lang,c=u==="und"?null:u,d=t.$.FBVariantKey,m=d==="und"?null:d!=null?d:null;return t.Representation.map(function(a){var i,l=new n(e.$5,a,(i=a.ContentProtection)!=null?i:t.ContentProtection,e.$4,e.$1,e.$3,r,t.SegmentTemplate,t.$.mimeType,t.$.codecs,m,c,s,e.$7,e.$8),u=l.parse();return o.push(l),u})},t.$21=function(t){return this.$10?ManagedMediaSource.isTypeSupported(t):MediaSource.isTypeSupported(t)},t.$14=function(t,n,o){var e=this,a=[],i=new Set;return t.filter(Boolean).forEach(function(t,l,s){var u=l===s.length-1;for(var c of t.Representation){var d,m;if(!((d=c.$.FBAbrPolicyTags)!=null&&d.includes("avoid_on_abr")&&!u)){var p=t.Role,_=p!=null?p:[],f=_[0],g=f?f.$.value:null,h=t.$.lang,y=h==="und"?null:h,C=t.$.FBVariantKey,b=C==="und"?null:C!=null?C:null,v=new(r("oz-player/parsers/OzVideoRepresentationParser"))(e.$5,c,(m=c.ContentProtection)!=null?m:t.ContentProtection,e.$4,e.$1,e.$3,n,t.SegmentTemplate,t.$.mimeType,t.$.codecs,b,y,g,e.$7,e.$8),S=v.parse();if(o.push(v),!e.$21(S.getMimeCodecs())){i.add(S.getMimeCodecs());continue}a.push(S)}}}),a.filter(Boolean)},t.$16=function(t,n,a){var e=this,i=[],l=new Set,s=t.filter(Boolean).map(function(t){var o=t.Role,i=o!=null?o:[],s=i[0],u=s?s.$.value:null,c=t.$.lang,d=c==="und"?null:c,m=t.$.FBVariantKey,p=m==="und"?null:m!=null?m:null,_=[];for(var f of t.Representation){var g,h=new(r("oz-player/parsers/OzAudioRepresentationParser"))(e.$5,f,(g=f.ContentProtection)!=null?g:t.ContentProtection,e.$4,e.$1,e.$3,n,t.SegmentTemplate,t.$.mimeType,t.$.codecs,p,d,u,e.$7),y=h.parse();if(a.push(h),!e.$21(y.getMimeCodecs())){l.add(y.getMimeCodecs());continue}_.push(y)}return _});return s.forEach(function(t){if(t.length>1){var n=o("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(t,e.$5,e.$3);i.push(n!=null?n:t[0])}else i.push.apply(i,t)}),i.filter(Boolean)},e})();l.default=e}),98);
__d("oz-player/utils/OzMpdUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=null;return e.forEach(function(e){if(e){var n,r,o=e.endTime;o<((n=(r=t)==null?void 0:r.endTime)!=null?n:1/0)&&(t=e)}}),t}function l(t,n){var r=[];if(r.push.apply(r,t.getVideoRepresentations().concat(t.getAudioRepresentations())),r.length){var o=r.map(function(e){var t=e.getEndingSegment();return t?t.getTimeRange():null});return e(o)}return null}function s(e){var t=[];if(t.push.apply(t,e.getVideoRepresentations().concat(e.getAudioRepresentations())),t.length){var n=t[0].getEndingSegment();if(n)return n.getSequenceNumber()}return null}i.getLeastEndTimeTimeRange=e,i.getMpdLastTimeRange=l,i.getMpdLastSequenceNumber=s}),66);
__d("oz-player/utils/OzStreamInterruptChecker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzMpdUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.$OzStreamInterruptChecker$p_4=0,r.$OzStreamInterruptChecker$p_5=null,r.$OzStreamInterruptChecker$p_6=!1,r.$OzStreamInterruptChecker$p_2=t,r.$OzStreamInterruptChecker$p_3=n,r.$OzStreamInterruptChecker$p_1=r.$OzStreamInterruptChecker$p_3.getNumber("live_numerical_error_epsilon"),r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.notifyMpdUpdated=function(){var e=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(this.$OzStreamInterruptChecker$p_2,this.$OzStreamInterruptChecker$p_3),t=e?e.endTime:null,n=!1;t!==null&&(n=t===this.$OzStreamInterruptChecker$p_5),n?this.$OzStreamInterruptChecker$p_4++:(this.$OzStreamInterruptChecker$p_4=0,this.$OzStreamInterruptChecker$p_6&&this.$OzStreamInterruptChecker$p_5!==null&&this.$OzStreamInterruptChecker$p_5!==void 0&&e!==null&&e!==void 0&&this.emit("streamResumedAt",e.startTime),this.$OzStreamInterruptChecker$p_6=!1);var r=this.$OzStreamInterruptChecker$p_3.getNumber("stream_interrupt_check_mpd_stale_count_threshold");!this.$OzStreamInterruptChecker$p_6&&r>0&&this.$OzStreamInterruptChecker$p_4>=r&&t!==null&&t!==void 0&&(this.emit("streamInterruptAt",t),this.$OzStreamInterruptChecker$p_6=!0),this.$OzStreamInterruptChecker$p_5=t},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/parsers/OzMpdUpdater",["oz-player/parsers/OzMpdParser","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzURI","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMpdUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/OzStreamInterruptChecker"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,a,i,l,s,u,c,d){var m;m=e.call(this)||this,m.$OzMpdUpdater$p_8=new(r("oz-player/utils/OzErrorEmitter")),m.$OzMpdUpdater$p_10=new(r("oz-player/shims/OzSubscriptionsHandler")),m.$OzMpdUpdater$p_11=!1,m.$OzMpdUpdater$p_16=0,m.$OzMpdUpdater$p_18=0,m.$OzMpdUpdater$p_19=null,m.$OzMpdUpdater$p_21=!0,m.$OzMpdUpdater$p_22=0,m.$OzMpdUpdater$p_26=function(){var e,t,n=m.$OzMpdUpdater$p_2.getLocation();if(m.$OzMpdUpdater$p_21=!1,!(n==null||n==="")){var a=new(r("oz-player/shims/OzURI"))(n),i=String((e=(t=a.getQueryData().ms)!=null?t:a.getQueryData().msdev)!=null?e:a.getQueryData().mstest);if(!m.$OzMpdUpdater$p_12.isPlaying()){m.setupUpdateLoop();return}var l=m.$OzMpdUpdater$p_5.getOperationLogger("update_manifest").start();m.$OzMpdUpdater$p_28(n).then(function(e){var t,a,s,u,c,d,p,_;if(m.$OzMpdUpdater$p_18=0,m.$OzMpdUpdater$p_29(),m.$OzMpdUpdater$p_7=0,!m.$OzMpdUpdater$p_21){var f=babelHelpers.extends({},m.$OzMpdUpdater$p_13,{mpdUrl:n}),g=new(r("oz-player/parsers/OzMpdParser"))({config:m.$OzMpdUpdater$p_6,ozParserContext:f,networkManager:m.$OzMpdUpdater$p_1,perfLoggerProvider:m.$OzMpdUpdater$p_5,drmManager:m.$OzMpdUpdater$p_14,initialRepresentationIDs:[],blockedRepresentationsManager:null,enableAlternativeAudioTracks:!1,useManagedMediaSource:m.$OzMpdUpdater$p_23});g.onError(function(e){m.$OzMpdUpdater$p_8.emitError(e),l.setError(e).log()});var h=g.parse(e),y=m.$OzMpdUpdater$p_2.isStaticMpd();m.$OzMpdUpdater$p_2.updateWith(h),m.$OzMpdUpdater$p_2.markRefreshed(),h.isStaticMpd()&&!y&&m.emit("streamTransitionToStatic");var C=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6),b=C&&C.endTime!=0?C.endTime:null,v=String((t=(a=m.$OzMpdUpdater$p_2)==null?void 0:a.getCustomField("currentServerTimeMs"))!=null?t:""),S=String((s=(u=m.$OzMpdUpdater$p_2)==null?void 0:u.getCustomField("lastVideoFrameTs"))!=null?s:""),R={currentServerTimeMs:v,ingestLastVideoFrameTs:S,nowMs:String(Date.now())},L=new Set(((c=(d=m.$OzMpdUpdater$p_2)==null?void 0:d.getVideoRepresentations())!=null?c:[]).map(function(e){return e.getCodecs()})).size>1,E=new Set(((p=(_=m.$OzMpdUpdater$p_2)==null?void 0:_.getAudioRepresentations())!=null?p:[]).map(function(e){return e.getCodecs()})).size>1;l.setLiveheadPosition(b).setLiveheadSeqNumMpd(o("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(m.$OzMpdUpdater$p_2)).setManifestType(m.$OzMpdUpdater$p_2.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(L||E).setIsTemplatedManifest(!!m.$OzMpdUpdater$p_2.getCustomField("isLiveTemplated")).setPlaybackFbmsParam(i).setUserInfo(R).log(),m.$OzMpdUpdater$p_9.notifyMpdUpdated(),m.setupUpdateLoop()}}).catch(function(e){m.$OzMpdUpdater$p_29(),l.setError(e).log();var t=null;if(o("oz-player/utils/OzErrorUtils").isOzError(e))t=e;else{var r,a=null,i="Caught an unknown error when fetching the manifest.";if(e!=null)if(m.$OzMpdUpdater$p_6.getBool("normalize_mpd_fetch_errors")){var s=o("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(e),u=s[0],c=s[1];t=u}else r=e,a=r.code!=null?String(r.code):null,i=r.name+"; "+r.message+"; "+r.description+";";if(t==null){var d={originalError:r,url:n};a!==null&&(d.code=a),t=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NETWORK",description:i,extra:d})}}m.$OzMpdUpdater$p_27(t,n)})}};var p=n.getMinimumUpdatePeriod();return m.$OzMpdUpdater$p_7=0,m.$OzMpdUpdater$p_1=a,m.$OzMpdUpdater$p_2=n,m.$OzMpdUpdater$p_12=i,m.$OzMpdUpdater$p_3=p,m.$OzMpdUpdater$p_5=l.cloneContext().setType("manifest"),m.$OzMpdUpdater$p_6=t,m.$OzMpdUpdater$p_13=s,m.$OzMpdUpdater$p_14=u,m.$OzMpdUpdater$p_15=c,m.$OzMpdUpdater$p_23=d,m.$OzMpdUpdater$p_2.addListener("locationUpdated",function(){m.$OzMpdUpdater$p_24(),m.setupUpdateLoop()}),m.$OzMpdUpdater$p_9=new(r("oz-player/utils/OzStreamInterruptChecker"))(m.$OzMpdUpdater$p_2,m.$OzMpdUpdater$p_6),m.$OzMpdUpdater$p_10.addSubscriptions(m.$OzMpdUpdater$p_9.addListener("streamResumedAt",function(e){m.emit("streamResumedAt",e)}),m.$OzMpdUpdater$p_9.addListener("streamInterruptAt",function(e){m.emit("streamInterruptAt",e)})),m}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.$OzMpdUpdater$p_24=function(){r("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_4=null,this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_21=!0},n.setupUpdateLoop=function(){var e,t=!this.$OzMpdUpdater$p_11;t&&(t=!this.$OzMpdUpdater$p_2.isStaticMpd(),this.$OzMpdUpdater$p_3=this.$OzMpdUpdater$p_2.getMinimumUpdatePeriod());var n=this.$OzMpdUpdater$p_17==null&&this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms")>0?this.$OzMpdUpdater$p_6.getNumber("manifest_initial_update_delay_ms"):this.$OzMpdUpdater$p_6.getNumber("manifest_update_frequency_ms")||((e=this.$OzMpdUpdater$p_3)!=null?e:0)*1e3;t&&n&&this.$OzMpdUpdater$p_2.getLocation()&&(this.$OzMpdUpdater$p_4=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(this.$OzMpdUpdater$p_26,n))},n.onError=function(t){return this.$OzMpdUpdater$p_8.onError(t)},n.$OzMpdUpdater$p_27=function(t,n){var e=this,r=!0,o=this.$OzMpdUpdater$p_18-1,a=t.getExtra().code;this.$OzMpdUpdater$p_19!==a?(this.$OzMpdUpdater$p_19=a,this.$OzMpdUpdater$p_16=1):this.$OzMpdUpdater$p_16++;var i=function(){r=!1},l={endStream:function(){i(),e.$OzMpdUpdater$p_11=!0,e.emit("streamGone")},consecutiveFailuresForErrorCode:this.$OzMpdUpdater$p_16,error:t,isInitialRequest:!1,retry:function(r){e.emit("manifestFetchErrorRetry",t),i(),e.setupUpdateLoop()},retryAttemptCount:o};this.emit("manifestFetchError",l),r&&this.$OzMpdUpdater$p_8.emitError(t)},n.$OzMpdUpdater$p_30=function(t,n){var e=new(r("oz-player/shims/OzURI"))(t);return e.addQueryData("_nc_expid",n),e.toString()},n.$OzMpdUpdater$p_31=function(t){if(!this.$OzMpdUpdater$p_15)return t;var e=new(r("oz-player/shims/OzURI"))(t);return e.addQueryData("_nc_tsid","mpd-"+this.$OzMpdUpdater$p_22++),e.toString()},n.$OzMpdUpdater$p_28=function(t){this.$OzMpdUpdater$p_25(),this.$OzMpdUpdater$p_18++;var e=this.$OzMpdUpdater$p_6.getString("cdn_experiment_id"),n=e.length===0?t:this.$OzMpdUpdater$p_30(t,e);n=this.$OzMpdUpdater$p_31(n);var r=this.$OzMpdUpdater$p_1.requestRawUrl({debugName:"OzMpdUpdater/requestMpd/mpd",url:n,options:{networkTimeoutMs:this.$OzMpdUpdater$p_6.getNumber("mpd_updater_network_request_timeout_ms")},loggerProvider:this.$OzMpdUpdater$p_5});this.$OzMpdUpdater$p_17=Date.now(),this.$OzMpdUpdater$p_20=r;var a=r.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpString(a)},n.$OzMpdUpdater$p_25=function(){this.$OzMpdUpdater$p_20&&(this.$OzMpdUpdater$p_20.cancel(),this.$OzMpdUpdater$p_18=0),this.$OzMpdUpdater$p_29()},n.$OzMpdUpdater$p_29=function(){this.$OzMpdUpdater$p_20=null},n.destroy=function(){this.$OzMpdUpdater$p_4&&r("oz-player/shims/ozClearTimeout")(this.$OzMpdUpdater$p_4),this.$OzMpdUpdater$p_10.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy",["oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW"],(function(t,n,r,o,a,i,l){"use strict";l.createTrustedHTMLForDOMParser=o("oz-player/shims/www/OzXmlParserTrustedTypesHTMLPolicyWWW").createTrustedHTMLForDOMParser}),98);
__d("oz-player/parsers/OzXmlParserImplDOMParser",["oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){function e(){return{$:{}}}function s(t){for(var n=e(),r=t.attributes,o=0;o<r.length;++o){var a=r[o];n.$[a.name]=a.value}for(var i=t.childNodes,l=0;l<i.length;++l){var u=i[l];if(u instanceof Element){var c=u.nodeName;Object.prototype.hasOwnProperty.call(n,c)||(n[c]=[]),n[c].push(s(u))}else{var d=u.nodeValue.trim();d&&(n._=d)}}return n}var u=(function(){function t(){this.$1=new DOMParser}var n=t.prototype;return n.parse=function(n){try{var t=e(),r=o("oz-player/shims/OzXmlParserTrustedTypesHTMLPolicy").createTrustedHTMLForDOMParser(n),a=this.$1.parseFromString(r,"application/xml"),i=a.querySelector("parsererror");if(i){var l=i.querySelector("h3"),u=l?l.nextElementSibling:null,c=u?u.innerHTML:i.innerHTML,d=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"DOMParser parsererror: "+String(c).trim()+"; truncated xml ("+Math.min(d,n.length)+"/"+n.length+"): "+n.substring(0,d),extra:{}})}var m=a.documentElement;return m!=null&&(t[m.nodeName]=[s(m)]),t}catch(e){if(o("oz-player/utils/OzErrorUtils").isOzError(e))throw e;var p=2e3;throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_XML_PARSER",description:"XML parse exception: "+String(e)+"; truncated xml ("+Math.min(p,n.length)+"/"+n.length+"): "+n.substring(0,p),extra:{originalError:e}})}},t})();l.default=u}),98);
__d("oz-player/playback_controls/OzClearSourceBufferOnSeekManager",["oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o){o===void 0&&(o=null),this.$3=new(r("oz-player/utils/OzErrorEmitter")),this.$4=new Map,this.$5=!1,this.$6=!1,this.$7=!1,this.$8=null,this.$9=[],this.$10=null,this.$11=null,this.$1=e,this.$2=t,this.$4=n,this.$11=o}var t=e.prototype;return t.$12=function(t){var e;return this.$5=!0,(e=this.$8)!=null?e:t.call(this.$1)},t.$13=function(t,n){this.$6=!0,this.$9.push({t:n}),this.$8=n,this.$9.length===1&&this.$14(t)},t.$15=function(t){return this.$7=!0,this.$8!=null?!0:t.call(this.$1)},t.$16=function(t,n){var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),o=[];this.$4.forEach(function(e,r){var a=e.clearSourceBufferRange(t,n);o.push(a)});var a=r("oz-player/shims/OzMaybeNativePromise").all(o);return a.then(function(){e.resolve()}).catch(function(t){e.reject(t)}),e.getPromise()},t.$14=function(t){var e=this,n=this.$9.length>0?this.$9[0]:null,a=this.$2.getNumber("clear_buffer_on_seek_epsilon_s");if(n){for(var i=n.t,l=this.$1.buffered,s=l.length,u=l.length<=0,c=-1,d=!1,m=0;c<0&&m<s;++m)c=i-a>=l.start(m)&&i+a<l.end(m)?m:c,d=i<l.start(m)-a;var p=c>-1,_=this.$2.getNumber("clear_buffer_on_seek_nudge_s");if(p&&c>=0&&c<s&&_>0&&(i=Math.min(i,l.end(c)-_),i=Math.max(i,l.start(c)+_)),u||p||!d)this.$11&&this.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(i*1e3)).setInitiator("no_clear").log(),t.call(this.$1,i),this.$9.shift(),this.$14(t);else{var f=null;this.$11&&(f=this.$11.getOperationLogger("clear_buffer_before_seek").setLength(Math.round(i*1e3)).setUserInfo({bufferRangesLength:String(s),nudgeSec:String(_)}).start());var g=this.$16(Math.max(i-a,0),l.end(s-1)+a);g.then(function(){f&&f.log(),e.$11&&e.$11.getOperationLogger("seek_to_next_time").setLength(Math.round(i*1e3)).setInitiator("after_clear").log(),t.call(e.$1,i),e.$9.shift(),e.$14(t)}).catch(function(t){f&&f.setError(t).log(),e.$3.emitError(o("oz-player/utils/OzErrorUtils").isOzError(t)?t:o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SOURCE_BUFFER",description:t?t.name+": "+t.message:"Unknown error while clearing the buffer.",extra:{code:r("oz-player/utils/OzCustomErrorCode").SOURCE_BUFFER_MANAGER_CLEAR_RANGE_FAILED,originalError:t}}))})}}else this.$8=null},t.maybeOverwriteVideoCurrentTimeProperty=function(){var e=this,t=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"currentTime");t=t!=null?t:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"currentTime");var n=Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(this.$1,"seeking");n=n!=null?n:Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"seeking");var r=t&&typeof t.get=="function"?t.get:null,o=t&&typeof t.set=="function"?t.set:null,a=n&&typeof n.get=="function"?n.get:null;if(r&&o&&a&&Object.defineProperty){try{Object.defineProperty(this.$1,"currentTime",{get:function(){return e.$12(r)},set:function(n){e.$13(o,n)},configurable:!0,enumerable:!0}),Object.defineProperty(this.$1,"seeking",{get:function(){return e.$15(a)},configurable:!0,enumerable:!0});var i=this.$1.currentTime;this.$1.currentTime=i,this.$1.seeking}catch(e){}this.$17(function(){e.getCurrentTimePropertyOverwriteSuccess()&&Object.defineProperty(e.$1,"currentTime",{get:r,set:o,configurable:!0,enumerable:!0}),e.getSeekingPropertyOverwriteSuccess()&&Object.defineProperty(e.$1,"seeking",{get:a,configurable:!0,enumerable:!0})})}},t.getCurrentTimePropertyOverwriteSuccess=function(){return this.$5&&this.$6},t.getSeekingPropertyOverwriteSuccess=function(){return this.$7},t.$17=function(t){this.$10=t},t.onError=function(t){return this.$3.onError(t)},t.destroy=function(){try{this.$10&&this.$10()}catch(e){}},e})();l.default=e}),98);
__d("oz-player/playback_controls/OzSteadyStateManager",["oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw new TypeError('"'+e+'" is read-only')}var s=(function(){function e(e,t){this.$1=[],this.$2=e,this.$3=t}var t=e.prototype;return t.addSample=function(t){var e,n,r=Math.floor(Date.now()/(1e3*this.$3)),o=r%this.$2;((e=this.$1[o])==null?void 0:e.bucketNumber)!=r&&(this.$1[o]={bucketNumber:0,val:null}),this.$1[o]={bucketNumber:r,val:Math.min(t,(n=this.$1[o].val)!=null?n:t)}},t.min=function(){var e=this,t,n=Date.now(),o=this.$1.filter(function(t){return t!=null&&t.val!=null&&n-e.$2*1e3*e.$3<t.bucketNumber*1e3*e.$3});if(o.length<this.$2)return null;var a=o.reduce(function(e,t){if(e==null)return t;var n=t.val;n!=null||r("oz-player/shims/ozvariant")(0,56011);var o=e.val;return o!=null||r("oz-player/shims/ozvariant")(0,56011),n<o?t:e},null);return(t=a)==null?void 0:t.val},t.reset=function(){this.$1=[]},e})();l.default=s}),98);
__d("oz-player/playback_controls/OzLiveLatencyManager",["oz-player/playback_controls/OzSteadyStateManager","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$8=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$9=null,this.$10=!1,this.$11=null,this.$12=null,this.$13=null,this.$14=!0;var n=e.config,o=e.mpd,a=e.playbackState,i=e.bufferingDetector,l=e.video,s=e.loggerProvider,u=e.getUserSelectedPlaybackRate;if(this.$1=n,this.$2=o,this.$3=a,this.$15=u,n.getNumber("steadystate_minbuffer_buckets")>0&&(this.$7=new(r("oz-player/playback_controls/OzSteadyStateManager"))(this.$1.getNumber("steadystate_minbuffer_buckets"),this.$1.getNumber("steadystate_minbuffer_buckets_sec"))),i!=null&&(this.$8.addSubscriptions(i.addListener("enterBuffering",function(e){var n;if(e==="in_play"){var r;t.$9=0,(r=t.$7)==null||r.reset()}t.$10=!1,(n=t.$6)==null||n.log(),t.$6=null})),this.$8.addSubscriptions(i.addListener("leaveBuffering",function(){t.$9===0&&(t.$9=Date.now()),t.$10=!1}))),this.$4=l,this.$5=s,this.$16()){var c;this.$8.addSubscriptions((c=r("oz-player/shims/OzDOMEventListener")).listenDOMEvent(this.$4,"timeupdate",r("oz-player/shims/ozThrottle")(function(){t.$17(),t.$18()},this.$1.getNumber("playhead_manager_timeupdate_throttle_ms"))),c.listenDOMEvent(this.$4,"waiting",function(){t.$17()}),c.listenDOMEvent(this.$4,"durationchange",function(){t.$17()}),c.listenDOMEvent(this.$4,"seeking",function(){var e;t.$13=Date.now(),t.$11=null,(e=t.$7)==null||e.reset()}),c.listenDOMEvent(this.$4,"playing",function(){t.$13=Date.now(),t.$11=null}),c.listenDOMEvent(l,"pause",function(){var e;return(e=t.$7)==null?void 0:e.reset()}))}}var t=e.prototype;return t.enabled=function(){var e=this.$1.getNumber("catchup_timeout_after_buffering_sec");return e===0||this.$9==null||this.$9!==0&&this.$9+e*1e3<=Date.now()},t.isBehindPreferredLiveHeadLatencyWithTolerance=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()-this.getPreferredLiveHeadLatencyToleranceSec()},t.$19=function(){return this.$3.getCurrentTime()<this.getInitialPlayHeadPosition()},t.$20=function(){var e,t=(e=this.$7)==null?void 0:e.min();return!this.$21()&&t!=null&&t>this.$1.getNumber("steadystate_minbuffer_sec")},t.getInitialPlayHeadPosition=function(){return this.getLiveHeadTimeSec()-this.getPreferredLiveHeadLatencySec()},t.getLiveHeadTimeSec=function(){var e,t=this.$22();return(t==null||(e=t.getEndingSegment())==null?void 0:e.getTimeRange().endTime)||0},t.$21=function(){return this.$9!=null&&this.$1.getBool("latencymanager_stalled_edgelatency_sec_on")},t.getPreferredLiveHeadLatencySec=function(){var e=this.$21()?this.$1.getNumber("latencymanager_stalled_edgelatency_sec"):this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec"),t=this.$23(e);return this.$5.getOperationLogger("latency_manager").setPreferredEdgeLatency(t*1e3),t},t.getPreferredLiveHeadLatencyToleranceSec=function(){return this.$1.getNumber("pdash_download_cursor_catchup_tolerance_sec")},t.shouldEnableManifestTimeRangeCatchup=function(){return!this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")},t.shouldEnableCursorBasedCatchup=function(){var e=this.$2.getVideoRepresentations()[0],t=e&&e.canPredict();return t&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")>0},t.setEnableCatchup=function(t){var e=this.$14;!this.$14&&t===!0&&(this.$9=null),this.$14=t,this.$1.getBool("fix_live_rewind_user_selected_playback_speed")&&t!==e&&this.$18()},t.$24=function(t,n,r){var e=this.$1.getNumber("playback_speed_min_sharpness_factor"),o=t*2/(1+Math.pow(Math.E,-(r-n)*e));return 1-t+o},t.$16=function(){return!this.$1.getBool("playback_speed_latency_adjustment_disabled")&&(this.$1.getNumber("playback_speed_latency_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate")>0||this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate")>0)},t.$17=function(){var e,t=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1).bufferAheadSec;(e=this.$7)==null||e.addSample(t)},t.$18=function(){var e=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$4.buffered),this.$3.getCurrentTime(),this.$1),t=e.bufferAheadSec,n=e.bufferedOffset;this.$25(t,n)},t.$25=function(t,n){var e=this.$1.getNumber("playback_speed_enabled_delay_sec"),r=this.$1.getNumber("playback_speed_min_buffer_sec");t>r&&(this.$10=!0);var o=this.$1.getNumber("playback_speed_min_duration_sec"),a=this.$1.getNumber("playback_speed_restore_min_duration_sec"),i=this.$1.getNumber("playback_speed_latency_adjustment_rate"),l=this.$1.getNumber("playback_speed_latency_slowdown_adjustment_rate"),s=this.$1.getNumber("playback_speed_latency_speedup_adjustment_rate");if(this.$4.playbackRate===0){var u;(u=this.$6)==null||u.log(),this.$6=null}else if(this.$14&&this.$10&&t<r&&(i>0||l>0)&&n===0&&(e===0||this.$13!=null&&this.$13+e*1e3<Date.now())){var c=l>0?1-l:this.$24(i,r,t);this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("slow").setUserInfo({newPlaybackRate:String(c),oldPlaybackRate:String(this.$4.playbackRate)})),this.$26(c)}else if(this.$14&&this.$10&&(this.$19()||this.$20())&&s>0&&n===0&&(this.$12==null||this.$12+a*1e3<Date.now())&&(e===0||this.$13!=null&&this.$13+e*1e3<Date.now())){var d=1+s;this.$6==null&&(this.$6=this.$5.getOperationLogger("latency_manager").start().setInitiator("speed_adjustment").setReason("fast").setUserInfo({newPlaybackRate:String(d),oldPlaybackRate:String(this.$4.playbackRate)})),this.$26(d)}else if(this.$14===!1||this.$11==null||this.$11+o*1e3<Date.now()){var m,p=this.$4.playbackRate;this.$1.getBool("fix_live_rewind_user_selected_playback_speed")?this.$4.playbackRate=this.$14===!1?this.$15():1:this.$4.playbackRate=1,(m=this.$6)==null||m.log(),this.$6=null,p!==this.$4.playbackRate&&(this.$12=Date.now())}},t.$26=function(t){try{this.$4.playbackRate=t,this.$11=Date.now()}catch(t){var e;(e=this.$6)==null||e.setError(t).setResult("failed").log(),this.$6=null}},t.$22=function(){var e=this.$2.getVideoRepresentations().concat(this.$2.getAudioRepresentations());return e.length===0?null:e.reduce(function(e,t){var n,r;return(((n=e.getEndingSegment())==null?void 0:n.getTimeRange().endTime)||0)>(((r=t.getEndingSegment())==null?void 0:r.getTimeRange().endTime)||0)?e:t})},t.$23=function(t){var e,n;if(t<=0)return t;var r=this.$22(),o=r==null||(e=r.getEndingSegment())==null?void 0:e.getTimeRange();if(!o)return t;var a=r==null||(n=r.getSegmentByTime((o==null?void 0:o.endTime)-t))==null?void 0:n.getTimeRange();return a?(o==null?void 0:o.endTime)-(a==null?void 0:a.startTime):t},t.destroy=function(){this.$8.release()},e})();l.default=e}),98);
__d("oz-player/playback_controls/OzPlaybackTimeRangeManager",["oz-player/shims/OzSubscriptionsHandler","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=null,this.$5=0,this.$6=0,this.$7=!0,this.$8=0,this.$9=0,this.$10=!1,this.$12=0,this.$13=0,this.$15=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$17=function(){t.$10!=t.$14.isPlaying()&&(t.$14.isPlaying()&&(t.$11=Date.now()),t.$10=t.$14.isPlaying())};var n=e.video,o=e.config,a=e.mpd,i=e.liveheadFallBehindBlockThreshold,l=e.liveheadFallBehindBlockMargin,s=e.playbackState,u=e.perfLoggerProvider;this.$1=o,this.$2=n,this.$3=a,this.$8=i,this.$9=l,this.$14=s,this.$16=u,this.$1.getNumber("catchup_timeout_after_play_sec")!==0&&this.$15.addSubscriptions(this.$14.addEventListener("play",this.$17),this.$14.addEventListener("pause",this.$17))}var t=e.prototype;return t.setTimelineBlockingEnabled=function(t){this.$7=t,this.$7||this.$3.unblockTimeRange()},t.setTimeRangeProvider=function(t){var e=this;this.$4!=null&&this.$4.remove(),this.$4=t.addUpdateListener(function(){var n=t.getTimeRanges(),r=0;if(n.length!==0){var o=n[n.length-1];r=o.endTime}e.$18(r)})},t.$18=function(t){var e;if(this.$7&&this.$5!==t&&(this.$5=t,!(this.$2.currentTime<=this.$6))){var n=this.$1.getBool("catchup_use_timeline_range_end_time_as_end")?t:this.$2.duration,r=this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold")!==0?this.$1.getNumber("overwrite_livehead_fall_behind_block_threshold"):this.$8,a=this.$1.getNumber("overwrite_live_time_range_block_margin")!==0?this.$1.getNumber("overwrite_live_time_range_block_margin"):this.$9;this.$17(),this.$1.getBool("reset_catchup_timeout_after_play_sec_on_overwrite")&&(this.$13!=a||this.$12!=r)&&(this.$13=a,this.$12=r,this.$11=Date.now());var i=this.$1.getNumber("catchup_timeout_after_play_sec")===0||Date.now()-((e=this.$11)!=null?e:0)<this.$1.getNumber("catchup_timeout_after_play_sec")*1e3;if(i&&this.$1.getNumber("pdash_download_cursor_catchup_threshold_sec")===0&&a!==0&&r!==0&&n-this.$2.currentTime>r){for(var l=[],s=0;s<this.$2.buffered.length;s++)l.push({startTime:this.$2.buffered.start(s),endTime:this.$2.buffered.end(s)});var u=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(this.$2.currentTime,l);this.$6=this.$2.currentTime+Math.min(u,a);var c={startTime:this.$6,endTime:n-a};this.$16.getOperationLogger("latency_manager").setInitiator("time_range_manager").setReason("blocked_range").setLength(c.endTime-c.startTime).setUserInfo({blockedRangeStart:String(c.startTime),blockedRangeEnd:String(c.endTime)}).log(),this.$3.blockTimeRange(c)}}},t.destroy=function(){this.$4!=null&&(this.$4.remove(),this.$4=null),this.$15.release()},e})();l.default=e}),98);
__d("oz-player/strategies/LiveheadSeekaheadStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=.05;function l(t,n){var r=Math.max.apply(Math,n.map(function(e){return e.startTime}));return r-t>0?r-t+e:0}i.computeSeekAhead=l}),66);
__d("oz-player/utils/OzTimelineGapUtil",["oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=1.5;function s(e,t,n,r){var a=t.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}});return o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(n,e,a,r)===-1}function u(t,n,r,a,i){i===void 0&&(i=e);var l=n.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),s=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(r,t,l,a);if(s!==-1){var u=n[s];return o("oz-player/utils/OzNumericalHelper").lessThanOrEqual(t,u.endTime)&&u.endTime-t<i}return!1}l.isInGap=s,l.isNearGap=u}),98);
__d("oz-player/playback_controls/OzPlayheadManager",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/shims/ozvariant","oz-player/strategies/LiveheadSeekaheadStrategy","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzSourceBufferUtil","oz-player/utils/OzTimelineGapUtil"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.perfLoggerProvider,this.$2=e.video,this.$4=e.config}var t=e.prototype;return t.markState=function(t,n){var e=o("oz-player/utils/OzSourceBufferUtil").convertToBufferedTimeRangeArray(this.$2.buffered),r=this.$3;if(r==null){this.$3=e;return}var a=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(e,n.getCurrentTime(),this.$4),i=o("oz-player/utils/OzSourceBufferUtil").getBufferAheadInBufferedRanges(r,n.getCurrentTime(),this.$4);i.bufferedOffset!==-1&&a.bufferedOffset===-1&&this.$1.getOperationLogger("playhead_adjustment").setError("buffer_deleted").setResult("failed").setUserInfo({vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null}).setInitiator(t).log(),this.$3=e},e})(),s=(function(){function e(e){this.$5=!1,this.$6={},this.$1=e.perfLoggerProvider,this.$2=e.video}var t=e.prototype;return t.markState=function(t,n){var e=this;if(this.$2.paused){this.$3=null,this.$4=null,this.$5=!1,this.$6={};return}(this.$3==null||this.$2.currentTime>this.$3)&&(this.$4=Date.now(),this.$3=this.$2.currentTime,this.$5=!1,this.$6={}),this.$6[t]=this.$6[t]==null?1:this.$6[t]+1;var r=this.$4;if(!this.$5&&!this.$2.paused&&r!=null&&r+1e4<Date.now()){this.$5=!0;var o={};Object.keys(this.$6).forEach(function(t){o[t]=String(e.$6[t])}),this.$1.getOperationLogger("playhead_adjustment").setError("not_advancing").setResult("failed").setLength(Date.now()-r).setUserInfo(babelHelpers.extends({},o,n,{lastCurrentTime:String(this.$3),lastCurrentTimeChanged:String(r-Date.now()),vidSeeking:String(this.$2.seeking),vidErrCode:this.$2.error?String(this.$2.error.code):null})).setInitiator(t).log()}},e})(),u=(function(t){function n(n){var a;a=t.call(this)||this,a.$OzPlayheadManager$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzPlayheadManager$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzPlayheadManager$p_4=new Set,a.$OzPlayheadManager$p_10=new Set,a.$OzPlayheadManager$p_12=function(e){a.$OzPlayheadManager$p_1.currentTime=e},a.$OzPlayheadManager$p_14=!1,a.$OzPlayheadManager$p_15=!1,a.$OzPlayheadManager$p_16=!0,a.$OzPlayheadManager$p_17=!1,a.$OzPlayheadManager$p_23=function(e,t){if(t===void 0&&(t=null),!(a.$OzPlayheadManager$p_20!=null&&!a.$OzPlayheadManager$p_20.shouldEnableManifestTimeRangeCatchup())){var n=a.$OzPlayheadManager$p_9;if(n&&n.isEnabled(a.$OzPlayheadManager$p_1,a.$OzPlayheadManager$p_8)){var r=n.computeNewPlayheadPosition(a.$OzPlayheadManager$p_1,a.$OzPlayheadManager$p_8);if(typeof r=="number"){a.$OzPlayheadManager$p_27(r,"live_catch_up_strategy",e,t);return}}var i=a.$OzPlayheadManager$p_6.getNumber("auto_seek_playhead_slack");if(i!==0){var l=a.$OzPlayheadManager$p_5;if(l){var s=a.$OzPlayheadManager$p_7.getCurrentTime(),u=l.getTimeRanges().map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}),c=o("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(s,u);if((o("oz-player/utils/OzTimelineGapUtil").isNearGap(s,l.getTimeRanges(),a.$OzPlayheadManager$p_6)||o("oz-player/utils/OzTimelineGapUtil").isInGap(s,l.getTimeRanges(),a.$OzPlayheadManager$p_6))&&c!==-1){var d=u[c];a.$OzPlayheadManager$p_27(d.rangeStart+i,"jump_over_timeline_gap",e,t)}}}}};var i=n.video,l=n.mpd,u=n.playheadCatchup,c=n.playbackState,d=n.config,m=n.perfLoggerProvider,p=n.seekHandler,_=n.initialPlaybackPosition,f=n.canSupportSkipVideobufferGaps,g=n.liveLatencyManager,h=n.dynamicVideoLibrary;return a.$OzPlayheadManager$p_1=i,a.$OzPlayheadManager$p_6=d,a.$OzPlayheadManager$p_7=c,a.$OzPlayheadManager$p_8=l,a.$OzPlayheadManager$p_9=u,a.$OzPlayheadManager$p_11=m,p&&(a.$OzPlayheadManager$p_12=p),a.$OzPlayheadManager$p_17=f,a.$OzPlayheadManager$p_20=g,a.$OzPlayheadManager$p_13=_,a.$OzPlayheadManager$p_21=h,a.$OzPlayheadManager$p_18=new s({video:i,perfLoggerProvider:m}),a.$OzPlayheadManager$p_19=new e({video:i,perfLoggerProvider:m,config:d}),a.$OzPlayheadManager$p_2.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"durationchange",function(){a.setPlaybackPositionOnFirstDurationChange("durationchange",a.$OzPlayheadManager$p_1.duration),a.$OzPlayheadManager$p_23("durationchange"),a.$OzPlayheadManager$p_24("durationchange")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"pause",function(){a.$OzPlayheadManager$p_23("pause")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"play",function(){a.$OzPlayheadManager$p_23("play")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"playing",function(){a.$OzPlayheadManager$p_23("playing")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"waiting",function(){a.$OzPlayheadManager$p_23.bind(a,"waiting"),a.$OzPlayheadManager$p_24("waiting")}),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"timeupdate",r("oz-player/shims/ozThrottle")(function(){a.$OzPlayheadManager$p_23("timeupdate"),a.$OzPlayheadManager$p_6.getBool("playhead_manager_buffered_timerange_update_on_timeupdate")&&a.$OzPlayheadManager$p_24("timeupdate")},a.$OzPlayheadManager$p_6.getNumber("playhead_manager_timeupdate_throttle_ms"))),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(a.$OzPlayheadManager$p_1,"seeking",function(){a.$OzPlayheadManager$p_22=Date.now()})),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.$OzPlayheadManager$p_25=function(){return this.$OzPlayheadManager$p_1.playbackRate===0},a.observeSourceBufferState=function(t,n){var e=this;!this.$OzPlayheadManager$p_4.has(t)||r("oz-player/shims/ozvariant")(0,4179),this.$OzPlayheadManager$p_4.add(t),this.$OzPlayheadManager$p_2.addSubscriptions(t.addEventListener("buffer_updated",function(){e.$OzPlayheadManager$p_26(t,n),e.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps_on_buffer_updated")&&e.$OzPlayheadManager$p_17&&e.$OzPlayheadManager$p_24("buffer_updated")}))},a.$OzPlayheadManager$p_26=function(t,n){var e=[];this.$OzPlayheadManager$p_4.forEach(function(t){var n=t.getBufferedRanges();n.length&&e.push(n[0])}),e.length>0&&this.$OzPlayheadManager$p_10.add(t);var r=this.$OzPlayheadManager$p_1.currentTime,a=o("oz-player/strategies/LiveheadSeekaheadStrategy").computeSeekAhead(r,e),i=this.$OzPlayheadManager$p_6.getNumber("timeline_offset_threshold");a>0&&(i===0||a<i)&&this.$OzPlayheadManager$p_27(this.$OzPlayheadManager$p_1.currentTime+a,"first_available_buffer","source_buffer",n)},a.setTimeRangeProvider=function(t){var e=this;this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_3.engage(),this.$OzPlayheadManager$p_3.addSubscriptions(t.addUpdateListener(function(){e.$OzPlayheadManager$p_23("time_range_updated")})),this.$OzPlayheadManager$p_5=t,this.$OzPlayheadManager$p_23("time_range_set")},a.resetCurrentTime=function(){this.$OzPlayheadManager$p_15=!1,this.setPlaybackPositionOnFirstDurationChange("reset",this.$OzPlayheadManager$p_1.duration)},a.setPlaybackPositionOnFirstDurationChange=function(t,n){if(this.$OzPlayheadManager$p_13!==0&&!this.$OzPlayheadManager$p_15&&!isNaN(n)&&n!==1/0){var e=this.$OzPlayheadManager$p_13>0?this.$OzPlayheadManager$p_13:n+this.$OzPlayheadManager$p_13;if(this.$OzPlayheadManager$p_20!=null){var r;e=(r=this.$OzPlayheadManager$p_20)==null?void 0:r.getInitialPlayHeadPosition()}if(this.$OzPlayheadManager$p_15=!0,this.$OzPlayheadManager$p_6.getBool("playhead_manager_clamp_initial_playback_position")){var o,a=(o=this.$OzPlayheadManager$p_5)==null?void 0:o.getTimeRanges();a!=null&&a.length>0&&a[0].startTime>e&&(e=a[0].startTime)}this.$OzPlayheadManager$p_27(e,"initial_playback_position",t),this.emit("initialPlaybackPositionSet",e)}},a.$OzPlayheadManager$p_24=function(t){var e,n,r=this;if(this.$OzPlayheadManager$p_6.getBool("skip_videobuffer_gaps")&&this.$OzPlayheadManager$p_17){var a=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_auto_seek_playhead_slack");if(a!==0){for(var i=this.$OzPlayheadManager$p_7.getCurrentTime(),l=[],s=0;s<this.$OzPlayheadManager$p_1.buffered.length;s++)l.push({startTime:this.$OzPlayheadManager$p_1.buffered.start(s),endTime:this.$OzPlayheadManager$p_1.buffered.end(s)});var u=l.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}});this.$OzPlayheadManager$p_19&&this.$OzPlayheadManager$p_19.markState(t,this.$OzPlayheadManager$p_7);var c=o("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(i,u),d=o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,i,u),m=this.$OzPlayheadManager$p_16?0:this.$OzPlayheadManager$p_6.getNumber("skip_videobuffer_gaps_max_gap_size_sec"),p=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_is_near_gap_threshold"),_=this.$OzPlayheadManager$p_6.getNumber("playhead_manager_buffered_numerical_error"),f=(e=this.$OzPlayheadManager$p_21)==null?void 0:e.getLastSegmentStartPTS(),g=f!=null?f/1e3:null,h=(n=this.$OzPlayheadManager$p_21)==null?void 0:n.getLast200RequestedUrlDecisionMinTime(),y=g!=null?o("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$OzPlayheadManager$p_6,g,u):-1,C=y>=0?u[y]:null,b=function(n){var e=r.$OzPlayheadManager$p_22==null||h==null||r.$OzPlayheadManager$p_22<h;return!e&&n!=null&&r.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setError("ignore_before_seek_main_"+n).setResult("failed").setInitiator(t).setUserInfo({last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(r.$OzPlayheadManager$p_22)}).log(),e};if(g!=null&&this.$OzPlayheadManager$p_25()&&this.$OzPlayheadManager$p_16==!1&&b("buf")){if(g<i&&C!=null&&C.rangeStart<=g&&C.rangeEnd!=null&&C.rangeEnd>g){this.$OzPlayheadManager$p_27(g,"reverse_jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}if(C!=null&&y!=d){this.$OzPlayheadManager$p_27(C.rangeStart,"jump_over_buffer_gap_last_dl_range",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}}if((o("oz-player/utils/OzTimelineGapUtil").isNearGap(i,l,this.$OzPlayheadManager$p_6,_,p)||o("oz-player/utils/OzTimelineGapUtil").isInGap(i,l,this.$OzPlayheadManager$p_6,_))&&c!==-1&&(m===0||u[c].rangeStart-i<m)&&(this.$OzPlayheadManager$p_16==!0||b("main"))){var v=u[c];this.$OzPlayheadManager$p_6.getBool("enable_alternative_audio_tracks")&&this.$OzPlayheadManager$p_8.isStaticMpd()&&v.rangeStart!==0&&v.rangeEnd===this.$OzPlayheadManager$p_7.getDuration()?this.$OzPlayheadManager$p_27(0,"do_not_jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)}):this.$OzPlayheadManager$p_27(v.rangeStart+a,"jump_over_buffer_gap",t,null,{lastSegmentStartPTS:String(f),last200RequestedUrlDecisionMinTime:String(h),lastSeekTime:String(this.$OzPlayheadManager$p_22)});return}this.$OzPlayheadManager$p_18&&this.$OzPlayheadManager$p_18.markState(t,{nextBufferedRangeIndex:String(c),limitMaxGapSize:String(m),rangeStart:c!==-1?String(u[c].rangeStart):null,isNearGapThreshold:String(p),numericalError:String(_)})}}},a.setEnableLiveheadCatchup=function(t){this.$OzPlayheadManager$p_16=t},a.destroy=function(){this.$OzPlayheadManager$p_2.release(),this.$OzPlayheadManager$p_3.release(),this.$OzPlayheadManager$p_4.clear()},a.$OzPlayheadManager$p_27=function(t,n,r,o,a){var e=t-this.$OzPlayheadManager$p_1.currentTime,i=this.$OzPlayheadManager$p_6.getNumber("seek_ahead_epsilon");i>0&&Math.abs(e)<=i||(this.$OzPlayheadManager$p_11.getOperationLogger("playhead_adjustment").setLength(Math.round(t*1e3)).setReason(n).setInitiator(r).setType(o).setUserInfo(babelHelpers.extends({},a,{seekAdjustment:String(Math.round(e*1e3))})).log(),this.$OzPlayheadManager$p_12(t),n==="initial_playback_position"&&(this.$OzPlayheadManager$p_14=!0))},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/shims/www/OzUuidWWW",["uuidv4"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("uuidv4")}),98);
__d("oz-player/shims/OzUuid",["oz-player/shims/www/OzUuidWWW"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/shims/www/OzUuidWWW")}),98);
__d("oz-player/states/OzObservedPlaybackState",["oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/shims/OzDOMEventListener","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var a=this;n===void 0&&(n=new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider([])),this.$2=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=function(){a.$3.getOperationLogger("pause").setState("paused").log()},this.$5=function(){a.$3.getOperationLogger("playing").setState("playing").log()},this.$1=t,this.$3=n,this.$2.addSubscriptions(r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"pause",this.$4),r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,"playing",this.$5))}var t=e.prototype;return t.isPlaying=function(){return!this.$1.paused},t.getCurrentTime=function(){return this.$1.currentTime},t.getCurrentTimeUpdateTime=function(){return Date.now()},t.getDuration=function(){return this.$1.duration},t.addEventListener=function(t,n){return r("oz-player/shims/OzDOMEventListener").listenDOMEvent(this.$1,t,n)},t.destroy=function(){this.$2.release()},e})();l.default=e}),98);
__d("oz-player/utils/OzPositionToViewportUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=t.filter(function(e){var t=e.position;if(t==null)return!1;var r=t.y-window.scrollY;return r>=0||(t.height+r)/t.height>n}).sort(function(e,t){return e.position==null||t.position==null?0:e.position.y-t.position.y});return r.findIndex(function(t){return t.video===e})}function l(e){return e.isIntersecting!=null?e.isIntersecting:e.intersectionRatio>0||e.intersectionRect&&(e.intersectionRect.height>0||e.intersectionRect.width>0)}i.determinePositionIndexOfVideoFromViewportVertically=e,i.intersectionObserverEntryIsIntersecting=l}),66);
__d("oz-player/states/OzPositionToViewportTracker",["oz-player/shims/OzEventEmitter","oz-player/utils/OzPositionToViewportUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=.5,u=(function(t){function n(e){var n;return n=t.call(this)||this,n.$OzPositionToViewportTracker$p_1=[],n.$OzPositionToViewportTracker$p_5=function(e){e.forEach(function(e){var t=n.$OzPositionToViewportTracker$p_1.find(function(t){return e.target===t.video});t!=null&&(o("oz-player/utils/OzPositionToViewportUtils").intersectionObserverEntryIsIntersecting(e)?t.position=n.$OzPositionToViewportTracker$p_7(e):n.$OzPositionToViewportTracker$p_1.map(function(t){e.target===t.video&&(t.position=null)})),n.$OzPositionToViewportTracker$p_1.forEach(function(e){e.positionIndexToViewportVertically=n.$OzPositionToViewportTracker$p_6(e.video)})}),n.emit("state_changed")},n.$OzPositionToViewportTracker$p_2=e,n}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.$OzPositionToViewportTracker$p_4=function(){this.$OzPositionToViewportTracker$p_3==null&&(this.$OzPositionToViewportTracker$p_3=new IntersectionObserver(this.$OzPositionToViewportTracker$p_5,{rootMargin:this.$OzPositionToViewportTracker$p_2.getNumber("pixels_above_viewport_to_observe")+"px 0px "+this.$OzPositionToViewportTracker$p_2.getNumber("pixels_below_viewport_to_observe")+"px 0px",threshold:0}))},r.registerVideo=function(t){this.$OzPositionToViewportTracker$p_1.push({video:t,position:null,positionIndexToViewportVertically:-1}),this.$OzPositionToViewportTracker$p_4(),this.$OzPositionToViewportTracker$p_3!=null&&this.$OzPositionToViewportTracker$p_3.observe(t)},r.getPositionIndexOfVideoFromViewportVertically=function(t){var e=this.$OzPositionToViewportTracker$p_1.find(function(e){return e.video===t});return e!=null?e.positionIndexToViewportVertically:-1},r.$OzPositionToViewportTracker$p_6=function(t){return o("oz-player/utils/OzPositionToViewportUtils").determinePositionIndexOfVideoFromViewportVertically(t,this.$OzPositionToViewportTracker$p_1,s)},r.$OzPositionToViewportTracker$p_7=function(t){var e=t.boundingClientRect;return{x:e.x+window.scrollX,y:e.y+window.scrollY,width:e.width,height:e.height}},n.getInstance=function(r){return e==null&&(e=new n(r)),e},r.unregisterVideo=function(t){var e=this,n=[];this.$OzPositionToViewportTracker$p_1.forEach(function(r){r.video===t&&e.$OzPositionToViewportTracker$p_3!=null?e.$OzPositionToViewportTracker$p_3.unobserve(t):n.push(r)}),this.$OzPositionToViewportTracker$p_1=n,this.$OzPositionToViewportTracker$p_1.length===0&&this.$OzPositionToViewportTracker$p_3!=null&&(this.$OzPositionToViewportTracker$p_3.disconnect(),this.$OzPositionToViewportTracker$p_3=null)},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/states/OzPositionToViewport",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/states/OzPositionToViewportTracker"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzPositionToViewport$p_1=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPositionToViewport$p_3=t,o.$OzPositionToViewport$p_2=r("oz-player/states/OzPositionToViewportTracker").getInstance(n),o.$OzPositionToViewport$p_2.registerVideo(t),o.$OzPositionToViewport$p_1.addSubscriptions(o.$OzPositionToViewport$p_2.addListener("state_changed",function(){o.emit("state_changed")})),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getPositionIndexOfVideoFromViewportVertically=function(){return this.$OzPositionToViewport$p_3!=null?this.$OzPositionToViewport$p_2.getPositionIndexOfVideoFromViewportVertically(this.$OzPositionToViewport$p_3):-1},n.destroy=function(){this.$OzPositionToViewport$p_3!=null&&this.$OzPositionToViewport$p_2.unregisterVideo(this.$OzPositionToViewport$p_3),this.$OzPositionToViewport$p_3=null},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPlaybackConfidenceUtils",[],(function(t,n,r,o,a,i){"use strict";var e=.8;function l(t,n,r,o,a,i){var l=Math.min(1,r/o),s=1+(1-l)*a,u=t.getBandwidth()*s;return u>n?e*(n/u):1-(1-e)*u/n}i.getPlaybackConfidence=l}),66);
__d("oz-player/strategies/OzAbrManager",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzPlaybackConfidenceUtils","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,r,o,a,i,l,s){this.$2=0,this.$3=Date.now(),this.$4=!1,this.$10=null,this.$1=e,this.$5=t,this.$6=this.$15(t,n),this.$7=r,this.$8=o,this.$11=a,this.$12=i,this.$13=l,this.$14=s,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_initialized").setResult("success").setUserInfo({newRepresentationIds:n.map(function(e){return e.getID()}).join(","),newCodecs:n.map(function(e){return e.getCodecs()}).join("|"),newDisplayLabels:n.map(function(e){return e.getDisplayLabel()}).join(",")}).setRepresentationID(t.getID()).setType("video").setInitiator("OzAbrManager").log()}var t=e.prototype;return t.setSourceBuffer=function(t){this.$9=t},t.$15=function(t,n){var e=this.$1.getNumber("abr_restrict_from_index"),r=this.$1.getNumber("abr_restrict_to_index");if(r===0&&e===0)return n;var o=n.findIndex(function(e){return t.getID()===e.getID()});return o===-1?n:n.filter(function(t,n){return n-o>=e&&n-o<=r})},t.$16=function(t){var e=o("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(t,this.$12(),this.$11,{resolutionConstraintFactor:this.$1.getNumber("resolution_constraint_factor")});return e=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$7,this.$12(),e),e},t.getBestRepresentation=function(t){var e,n,a,i=(e=t==null?void 0:t.length)!=null?e:null,l=(n=(a=this.$9)==null?void 0:a.getSourceBufferState().getBufferedRanges())!=null?n:null,s=this.$8.getCurrentTime(),u=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(s,l),c=o("oz-player/utils/OzAbrUtils").getReasonToPreventEvaluation(this.$1,this.$4,u,r("oz-player/networks/OzBandwidthEstimator").getSampleCount(),this.$2,this.$3);if(c!=null)return this.$10=c,this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),this.$5;var d=Date.now();this.$2=d;var m=r("oz-player/networks/OzBandwidthEstimator").getAdjustedBandwidth(this.$1.getLegacyConfig()),p=this.$16(this.$6),_=this.$17(p,m,u,i),f=p[0];if(_=_||f,this.$18(u,_))return this.$10="high_buffer",this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("failed").setUserInfo({filteredRepresentationIds:p.map(function(e){return e.getID()}).join(",")}).setPreviousRepresentationID(this.$5.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),this.$5;var g=this.$5;return g!==_&&(this.$4=!0,this.$3=d,this.$5=_),this.$10="bandwidth",this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_best_representation_selected").setResult("success").setUserInfo({filteredRepresentationIds:p.map(function(e){return e.getID()}).join(",")}).setRepresentationID(_.getID()).setPreviousRepresentationID(g==null?void 0:g.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log(),_},t.$17=function(t,n,r,a){a===void 0&&(a=null);for(var e=null,i=0;i<t.length;i++){var l=o("oz-player/strategies/OzPlaybackConfidenceUtils").getPlaybackConfidence(t[i],n,r,this.$1.getNumber("low_buffer_bandwidth_target_threshold"),this.$1.getNumber("low_buffer_bandwidth_target_increase_factor"),a);l>this.$1.getNumber("abr_confidence_threshold")&&(!e||e.getBandwidth()<t[i].getBandwidth())&&(e=t[i])}return e},t.$18=function(t,n){var e=this.$1.getNumber("abr_prevent_down_switch_buffer_threshold");return e>0&&t>=e&&this.$5.getBandwidth()>n.getBandwidth()},t.getLastEvaluationReason=function(){return this.$10},t.updateRepresentations=function(t){var e=this,n=this.$6;this.$6=t;var r=this.$6.find(function(t){return t.getDisplayLabel()===e.$5.getDisplayLabel()}),o=this.$5;this.$5=r!=null?r:this.$6[0],this.$1.getBool("enable_abr_logging")&&this.$14.getOperationLogger("abr_representations_updated").setResult("success").setUserInfo({previousRepresentationIds:n.map(function(e){return e.getID()}).join(","),newRepresentationIds:t.map(function(e){return e.getID()}).join(","),newCodecs:t.map(function(e){return e.getCodecs()}).join("|"),newDisplayLabels:t.map(function(e){return e.getDisplayLabel()}).join(",")}).setRepresentationID(this.$5.getID()).setPreviousRepresentationID(o==null?void 0:o.getID()).setReason(this.$10).setType("video").setInitiator("OzAbrManager").log()},e})();l.default=e}),98);
__d("oz-player/strategies/getSegmentsCount",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){for(var o=0,a=e.getTimeRange().startTime,i=e,l=i.getTimeRange().startTime;i!==null&&l<n+a;){var s=l;if(o++,i=t.getSegmentAfter(i),i)l=i.getTimeRange().startTime;else break;if(l<=s)return r}return Math.max(o,1)}i.default=e}),66);
__d("oz-player/strategies/OzStaticStreamSegmentsStrategy",["oz-player/strategies/getSegmentsCount"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.isActive=function(){return!0},t.getSegmentsCount=function(t,n,o){var e=this.$1.getNumber("seconds_to_stream"),a=this.$1.getNumber("segments_to_stream");return e>0&&(a=r("oz-player/strategies/getSegmentsCount")(n,o,e,a)),a},e})();l.default=e}),98);
__d("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy",["oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/getSegmentsCount"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t,this.$3=new(r("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(e)}var t=e.prototype;return t.isActive=function(t){return!0},t.getSegmentsCount=function(t,n,o){var e=r("oz-player/networks/OzBandwidthEstimator").getBandwidth(this.$1.getLegacyConfig()),a=r("oz-player/networks/OzBandwidthEstimator").getStandardDeviationOfBandwidth(),i=this.$1.getNumber("bandwidth_boundary_standard_deviation_factor"),l=this.$2.some(function(t){var n=t.getBandwidth();return Math.abs(n-e)<a*i}),s=l?this.$4(t,n,o):this.$3.getSegmentsCount(t,n,o),u=this.$5(n,e);return Math.min(s,u)},t.$4=function(t,n,o){var e=this.$1.getNumber("seconds_to_stream_near_bandwidth_boundary"),a=this.$1.getNumber("segments_to_stream_near_bandwidth_boundary");return e>0&&(a=r("oz-player/strategies/getSegmentsCount")(n,o,e,a)),a},t.$5=function(t,n){var e=1/0,r=t.getByteRange();if(r){var o=r.endByte;if(o!=null){var a=this.$1.getNumber("per_stream_duration_target"),i=o-r.startByte;a>1e-5&&i!==0&&(e=Math.ceil(a*n/(i*8)))}}return e},e})();l.default=e}),98);
__d("oz-player/strategies/OzBlockedRepresentationsManager",["oz-player/shims/OzEventEmitter","oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$2=new Map,this.$3=new Set,this.$4=new Set,this.$5=new(r("oz-player/shims/OzEventEmitter")),this.$6=t===!0,this.$7(e),this.$8(e)}var t=e.prototype;return t.isBlocked=function(t){return this.$3.has(t)},t.handleError=function(t,n){if(this.$1!=null&&this.$3.size===this.$1-1)return!1;if(o("oz-player/utils/OzErrorUtils").isOzError(n)&&n.getType()==="OZ_NETWORK"){var e=Number(n.getExtra().code);if(!isNaN(e)&&this.$2.has(e))return this.$3.has(t)||this.$9(t,e),!0}return!1},t.$9=function(t,n){var e,o=this;this.$3.add(t),(e=this.$5)==null||e.emit("representation_blocked",t);var a=this.$2.get(n)||0;if(a>0){var i=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){o.$3.delete(t),o.$4.delete(i)},a);this.$4.add(i)}},t.applyRestriction=function(t){var e=this;return t.filter(function(t){return!e.$3.has(t.getID())})},t.onRepresentationBlocked=function(t){return this.$5?this.$5.addListener("representation_blocked",t):{remove:function(){}}},t.setAvailableRepresentationsCount=function(t){this.$1=t},t.destroy=function(){var e;(e=this.$5)==null||e.removeAllListeners(),this.$5=null;for(var t of this.$4)r("oz-player/shims/ozClearTimeout")(t);this.$4.clear()},t.$7=function(t){var e=this;try{var n=JSON.parse(t.getString("block_representation_status_codes_json"));if(Array.isArray(n)&&(n.forEach(function(t){var n=parseInt(t,10);isNaN(n)||e.$2.set(n,-1)}),this.$6))for(var r=500;r<=599;r++)this.$2.set(r,-1)}catch(e){}},t.$8=function(t){var e=this;try{var n=JSON.parse(t.getString("block_representation_status_codes_temporarily_json"));Object.entries(n).forEach(function(t){var n=t[0],r=t[1],o=parseInt(n,10),a=parseInt(r,10);!isNaN(o)&&!isNaN(a)&&e.$2.set(o,a)})}catch(e){}},e})();l.default=e}),98);
__d("oz-player/strategies/OzBufferAheadPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/utils/OzBufferingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=6,s=1e3,u=(function(t){function n(e,n){var o;return o=t.call(this)||this,o.$OzBufferAheadPriorityStrategy$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzBufferAheadPriorityStrategy$p_5=function(){o.emit("state_changed")},o.$OzBufferAheadPriorityStrategy$p_4=e,o.$OzBufferAheadPriorityStrategy$p_1=n,o.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(o.$OzBufferAheadPriorityStrategy$p_1.addEventListener("progress",r("oz-player/shims/ozThrottle")(o.$OzBufferAheadPriorityStrategy$p_5,s)),o.$OzBufferAheadPriorityStrategy$p_1.addEventListener("timeupdate",r("oz-player/shims/ozThrottle")(o.$OzBufferAheadPriorityStrategy$p_5,s))),o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.getName=function(){return"buffer_ahead"},a.setSourceBufferState=function(t){this.$OzBufferAheadPriorityStrategy$p_2||(this.$OzBufferAheadPriorityStrategy$p_2=t,this.$OzBufferAheadPriorityStrategy$p_3.addSubscriptions(t.addEventListener("buffer_updated",r("oz-player/shims/ozThrottle")(this.$OzBufferAheadPriorityStrategy$p_5,s))))},a.isActive=function(){return!0},a.getPriority=function(){var t=this.$OzBufferAheadPriorityStrategy$p_2;if(!t)return 1;var n=this.$OzBufferAheadPriorityStrategy$p_1.getCurrentTime(),r=t.getBufferedRanges(),a=o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(n,r);return a>=e?0:1},a.destroy=function(){this.$OzBufferAheadPriorityStrategy$p_3.release()},n})(r("oz-player/shims/OzEventEmitter"));l.default=u}),98);
__d("oz-player/strategies/OzBufferAheadTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.isActive=function(){return!0},t.getBufferTarget=function(){return this.$1.getNumber("buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferEndLimitStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(){return!0},t.getBufferTarget=function(){var e=this.$3();return this.$2>=e?this.$2-e:0},t.$3=function(){return this.$1.buffered.length===0?0:this.$1.buffered.end(0)},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(t){return!t.isPlaying()},t.getSegmentsCount=function(t,n,r){for(var e=t.getCurrentTime(),o=this.$1.computeBufferTarget(),a=1,i=n,l=n.getTimeRange().startTime;i!==null&&l<o+e&&(i=r.getSegmentAfter(i),!!i);)l=i.getTimeRange().startTime,a++;return a},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetCalculator",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=0,this.$2=e,this.$3=t}var t=e.prototype;return t.computeBufferTarget=function(){var e=this.$1;for(var t of this.$2)if(t.isActive()){e=t.getBufferTarget();break}for(var n of this.$3)e=n.adjustBufferTargetInSeconds(e);return this.$1=e,e},t.handleEvent=function(t){for(var e of this.$3)e.handleEvent(t)},e})();i.default=e}),66);
__d("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){var t=e.config,n=e.minimumBufferTargetSec;this.$2=1,this.$1=t,this.$3=n}var t=e.prototype;return t.adjustBufferTargetInSeconds=function(t){var e;return Math.max((e=this.$3)!=null?e:this.$1.getNumber("buffer_target_constraint_minimum_sec"),t*this.$2)},t.handleEvent=function(t){var e=this.$2;switch(t){case"append_succeeded":e=Math.max(0,Math.min(1,e+this.$1.getNumber("buffer_target_constraint_append_succeeded_reward")));break;case"append_quota_exceeded":e=Math.max(0,Math.min(1,e-this.$1.getNumber("buffer_target_constraint_quota_exceeded_penalty")));break;default:}this.$2=e},e})();i.default=e}),66);
__d("oz-player/strategies/OzPausedStreamSegmentsCountStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$2=t}var t=e.prototype;return t.isActive=function(){return!this.$1.isPlaying()},t.getSegmentsCount=function(t,n,r){return this.$2.getNumber("paused_stream_segments_count")},e})();i.default=e}),66);
__d("oz-player/strategies/OzPlayheadAtInterruptionDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=1,s=(function(t){function n(e,n){var o;o=t.call(this)||this,o.$OzPlayheadAtInterruptionDetector$p_2=null,o.$OzPlayheadAtInterruptionDetector$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPlayheadAtInterruptionDetector$p_4=null,o.$OzPlayheadAtInterruptionDetector$p_1=e;var a=n?n.addListener("enterBuffering",function(){o.$OzPlayheadAtInterruptionDetector$p_5()}):r("oz-player/shims/OzDOMEventListener").listenDOMEvent(o.$OzPlayheadAtInterruptionDetector$p_1,"waiting",function(){o.$OzPlayheadAtInterruptionDetector$p_5()});return o.$OzPlayheadAtInterruptionDetector$p_3.addSubscriptions(a),o.$OzPlayheadAtInterruptionDetector$p_4=n,o}babelHelpers.inheritsLoose(n,t);var o=n.prototype;return o.notifyStreamInterrupted=function(t){this.$OzPlayheadAtInterruptionDetector$p_2=t,this.$OzPlayheadAtInterruptionDetector$p_5()},o.notifyStreamResumed=function(){this.$OzPlayheadAtInterruptionDetector$p_2=null},o.$OzPlayheadAtInterruptionDetector$p_5=function(){if(this.$OzPlayheadAtInterruptionDetector$p_2!=null){var t=this.$OzPlayheadAtInterruptionDetector$p_2||0;Math.abs(this.$OzPlayheadAtInterruptionDetector$p_1.currentTime-t)<e&&this.emit("playheadAtInterruption",t)}},o.destroy=function(){this.$OzPlayheadAtInterruptionDetector$p_3.release(),this.$OzPlayheadAtInterruptionDetector$p_4=null},n})(r("oz-player/shims/OzEventEmitter"));l.default=s}),98);
__d("oz-player/strategies/OzPlayingStatePriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$OzPlayingStatePriorityStrategy$p_1=new(r("oz-player/shims/OzSubscriptionsHandler")),n.$OzPlayingStatePriorityStrategy$p_3=function(){n.emit("state_changed")},n.$OzPlayingStatePriorityStrategy$p_2=t,n.$OzPlayingStatePriorityStrategy$p_1.addSubscriptions(n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("playing",n.$OzPlayingStatePriorityStrategy$p_3),n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("play",n.$OzPlayingStatePriorityStrategy$p_3),n.$OzPlayingStatePriorityStrategy$p_2.addEventListener("pause",n.$OzPlayingStatePriorityStrategy$p_3)),n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.isActive=function(){return!0},n.getName=function(){return"playing_state"},n.setSourceBufferState=function(t){},n.getPriority=function(){return this.$OzPlayingStatePriorityStrategy$p_2.isPlaying()?1:0},n.destroy=function(){this.$OzPlayingStatePriorityStrategy$p_1.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPositionToViewportPriorityStrategy",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var o;return o=e.call(this)||this,o.$OzPositionToViewportPriorityStrategy$p_3=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPositionToViewportPriorityStrategy$p_4=function(){o.emit("state_changed")},o.$OzPositionToViewportPriorityStrategy$p_2=t,o.$OzPositionToViewportPriorityStrategy$p_1=n,o.$OzPositionToViewportPriorityStrategy$p_3.addSubscriptions(t.addListener("state_changed",o.$OzPositionToViewportPriorityStrategy$p_4)),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.isActive=function(){return!0},n.getName=function(){return"position_to_viewport"},n.setSourceBufferState=function(t){},n.getPriority=function(){var e=this.$OzPositionToViewportPriorityStrategy$p_1.getNumber("prioritize_by_viewport_static_penalty"),t=this.$OzPositionToViewportPriorityStrategy$p_2.getPositionIndexOfVideoFromViewportVertically();return e>0?t===-1?e*-1:0:t===-1?-1/0:-1*t},n.destroy=function(){this.$OzPositionToViewportPriorityStrategy$p_3.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzPriorityCalculator",["oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n,o;return o=e.call(this)||this,o.$OzPriorityCalculator$p_2=new(r("oz-player/shims/OzSubscriptionsHandler")),o.$OzPriorityCalculator$p_1=t,(n=o.$OzPriorityCalculator$p_2).addSubscriptions.apply(n,o.$OzPriorityCalculator$p_1.map(function(e){return e.addListener("state_changed",function(){o.emit("state_changed",o.compute(),e.getName())})})),o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.setSourceBufferState=function(t){this.$OzPriorityCalculator$p_1.forEach(function(e){return e.setSourceBufferState(t)}),this.emit("state_changed",this.compute(),"source_buffer")},n.compute=function(){var e=this.$OzPriorityCalculator$p_1.reduce(function(e,t){var n=t.isActive()?t.getPriority():0;return e+n},0);return Math.max(e,0)},n.destroy=function(){this.$OzPriorityCalculator$p_2.release()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/strategies/OzSingleCodecRestriction",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.applyRestriction=function(t){if(t.length<=0)return t.slice();var e=new Set(t.map(function(e){return l(e)})),n="av01",r=e.has(n)?n:e.values().next().value;return r==null?t.slice():t.filter(function(e){return l(e)===r})},e})();function l(e){return e.getMimeCodecs().replace(/\..*$/,"")}i.default=e}),66);
__d("oz-player/strategies/OzStaleManifestBufferTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=t,this.$2=e}var t=e.prototype;return t.isActive=function(){return this.$2.getRefreshDate()==null&&this.$1.getNumber("stale_mpd_buffer_ahead_target")>0},t.getBufferTarget=function(){return this.$1.getNumber("stale_mpd_buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzStartupBufferTargetStrategy",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.$1=e,this.$3=t}var t=e.prototype;return t.isActive=function(){var e=this.$1.isPlaying();return e&&(this.$2=!0),!this.$2},t.getBufferTarget=function(){return this.$3.getNumber("pre_start_buffer_ahead_target")},e})();i.default=e}),66);
__d("oz-player/strategies/OzStreamSegmentsCountCalculator",[],(function(t,n,r,o,a,i){"use strict";var e=1,l=(function(){function t(e){this.$1=e}var n=t.prototype;return n.computeMin=function(n,r,o){var t=Number.MAX_VALUE;for(var a of this.$1)a.isActive(n)&&(t=Math.min(t,a.getSegmentsCount(n,r,o)));return t===Number.MAX_VALUE?e:Math.max(t,e)},t})();i.default=l}),66);
__d("oz-player/strategies/OzSupportedMimeCodecsRestriction",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.applyRestriction=function(t){var e=this;return t.filter(function(t){var n=e.$1?ManagedMediaSource.isTypeSupported(t.getMimeCodecs()):MediaSource.isTypeSupported(t.getMimeCodecs());return!!n})},e})();i.default=e}),66);
__d("oz-player/streams/OzEndOfStreamWatcher",["oz-player/shims/OzEventEmitter","oz-player/shims/ozvariant"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;return r=e.call(this)||this,r.$OzEndOfStreamWatcher$p_1=new Map,r.$OzEndOfStreamWatcher$p_4=!1,r.$OzEndOfStreamWatcher$p_2=t,r.$OzEndOfStreamWatcher$p_3=n,r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.registerMediaStream=function(t){!this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5191),this.$OzEndOfStreamWatcher$p_1.set(t,!1)},n.notifyRepresentationSwitched=function(t){this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.get(t)===!0&&this.$OzEndOfStreamWatcher$p_1.set(t,!1),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","representation_switched")},n.notifyMediaStreamEnded=function(t,n){this.$OzEndOfStreamWatcher$p_1.has(t)||r("oz-player/shims/ozvariant")(0,5192),this.$OzEndOfStreamWatcher$p_1.set(t,!0),this.$OzEndOfStreamWatcher$p_5("end_of_stream_watcher","media_stream_ended:"+n)},n.$OzEndOfStreamWatcher$p_5=function(t,n){var e=this;if(this.$OzEndOfStreamWatcher$p_3.getBool("do_not_end_stream")){!this.$OzEndOfStreamWatcher$p_4&&this.$OzEndOfStreamWatcher$p_6()&&(this.$OzEndOfStreamWatcher$p_4=!0,this.emit("streamEnd"));return}var r=this.$OzEndOfStreamWatcher$p_2.getReadyState();r==="open"&&this.$OzEndOfStreamWatcher$p_6()&&this.$OzEndOfStreamWatcher$p_2.notifyEndOfStream(t,n).then(function(){e.emit("streamEnd")}).catch(function(){e.emit("streamEnd")})},n.$OzEndOfStreamWatcher$p_6=function(){if(this.$OzEndOfStreamWatcher$p_1.size===0)return!1;for(var e of this.$OzEndOfStreamWatcher$p_1.values())if(!e)return!1;return!0},n.destroy=function(){this.$OzEndOfStreamWatcher$p_1.clear()},t})(r("oz-player/shims/OzEventEmitter"));l.default=e}),98);
__d("oz-player/streams/OzHandleUserRepresentationSwitch",["oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozReportUnexpectedError","oz-player/utils/OzErrorEmitter"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n,o,a,i){var l=this;this.$2=new(r("oz-player/utils/OzErrorEmitter")),this.$5=null,this.$6=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$1=e,this.$3=t,this.$4=n,this.$7=o,this.$8=i,a.then(function(e){l.$5=e},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzHandleUserRepresentationSwitch SBM promise then - create")}),this.$6.addSubscriptions(o.addListener("switchRepresentation",function(e,t){l.$9(e,t)}))}var t=e.prototype;return t.destroy=function(){this.$6.release(),this.$6.engage()},t.onError=function(t){return this.$2.onError(t)},t.$9=function(t,n){if(t==="user"){var e=this.$5;if(e!=null){for(var o=this.$7.getRepresentationIDAtTime(this.$3.getCurrentTime()),a,i=0;i<this.$4.length;i++)this.$4[i].getID()===o&&(a=this.$4[i]);if(a&&n&&(this.$8||a.getBandwidth()<n.getBandwidth())){var l=a.getSegmentByTime(this.$3.getCurrentTime());l&&e.clearRangeWithWait([{fromTime:this.$3.getCurrentTime(),toTime:this.$3.getDuration()}]).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzHandleUserRepresentationSwitch clearRangeWithWait catch")})}}}},e})();l.default=e}),98);
__d("oz-player/manifests/IOzSegment",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return((e==null?void 0:e.getSequenceNumber())||0)===((t==null?void 0:t.getSequenceNumber())||0)}function l(e,t){return((e==null?void 0:e.getSequenceNumber())||0)>=((t==null?void 0:t.getSequenceNumber())||0)}i.isSequenceNumberEqual=e,i.isSequenceNumberGreaterOrEqual=l}),66);
__d("oz-player/networks/OzReadableStreamDataReader",["oz-player/networks/OzTransformStream","oz-player/utils/ozConcatUint8Arrays"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r;if(n===void 0&&(n=null),r=e.call(this)||this,r.$OzReadableStreamDataReader$p_1=[],r.$OzReadableStreamDataReader$p_3=1/0,r.$OzReadableStreamDataReader$p_4=0,r.$OzReadableStreamDataReader$p_2=t,n!=null){var o=n.getNumber("stream_reader_max_buffer_len");r.$OzReadableStreamDataReader$p_3=o>0?o:1/0}return r}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.onDataWritten=function(t){if(this.$OzReadableStreamDataReader$p_4+t.byteLength>=this.$OzReadableStreamDataReader$p_3){var e=r("oz-player/utils/ozConcatUint8Arrays")(this.$OzReadableStreamDataReader$p_1),n=e.buffer;this.$OzReadableStreamDataReader$p_2(n),this.$OzReadableStreamDataReader$p_1.length=0,this.$OzReadableStreamDataReader$p_4=0}this.$OzReadableStreamDataReader$p_1.push(t),this.$OzReadableStreamDataReader$p_4+=t.byteLength},n.onClose=function(){var e=this.$OzReadableStreamDataReader$p_1,t=r("oz-player/utils/ozConcatUint8Arrays")(e),n=t.buffer;e.length=0,this.$OzReadableStreamDataReader$p_4=0,this.$OzReadableStreamDataReader$p_2(n)},t})(r("oz-player/networks/OzTransformStream"));l.default=e}),98);
__d("oz-player/networks/OzStreamingTask",["oz-player/loggings/OzLoggingUtils","oz-player/shims/OzDeferred","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/utils/OzErrorUtils","oz-player/utils/OzNetworkRequestLoggingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$3=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),this.$5=!1,this.$9=null,this.$1=this.$2=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),this.$6=r("oz-player/shims/OzPerformance").now(),this.$7=t,this.$8=e,this.$9=n}var t=e.prototype;return t.run=function(){var e=this.$3.getPromise(),t=this.$7;if(t){var n=r("oz-player/shims/OzPerformance").now()-this.$6;o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(e,t,"streaming_task",function(){},function(e){e.setTimeToRequestSent(Math.floor(n))})}return this.$2.resolve(),e},t.getPromise=function(){return this.$3.getPromise()},t.cancel=function(){this.$3.getPromise().catch(function(){}),this.$3.reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAMING_TASK",description:"task cancelled",extra:{code:"OZ_ST-1"}})),this.$5=!0},t.finish=function(){this.$3.resolve()},t.isCancelled=function(){return this.$5},t.addStreamDeferred=function(t,n){var e=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),o=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));this.$10({createStreamResult:t,changeStatusDeferred:e,createStreamDeferred:o,loggerProviderWithStreamContext:n});var a=function(){return o.getPromise()};return{genStream:a,cancel:function(){if(t){var e=t.pausableStream;return e.pauseStream()}},getStatusChangePromise:function(){return e.getPromise()}}},t.$10=function(t){var e=this,n=t.createStreamResult,a=t.changeStatusDeferred,i=t.createStreamDeferred,l=t.loggerProviderWithStreamContext,s=t.loggingPayloads,u=this.$1.getPromise(),c=r("oz-player/shims/OzPerformance").now(),d=this.$1=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));d.getPromise().catch(function(){}),u.then(function(){if(n){var t=n.pausableStream;n.loggingPayloads&&(s=n.loggingPayloads),i.resolve(t.getStream()),e.$4=t;var a=r("oz-player/shims/OzPerformance").now(),u=e.$11(t.startStream());if(l){var d=function(r){var n=s;if(n){o("oz-player/utils/OzNetworkRequestLoggingUtils").setFetchStreamLoggingAttributes(r,n.getRequestUrl(),n.segments,a-c,t.getBytesStreamed(),n.getResponse());var i=e.$9;i&&i(r,n.getRequestUrl(),n.getResponse())}};o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(u,l,"fetch_stream",d,d)}return u}return null}).then(function(t){e.$4=null,d.resolve(),a.resolve(t||"cancelled")}).catch(function(t){e.$4=null,e.$3.reject(t),d.reject(t),a.reject(t)})},t.$11=function(t){return t.then(function(e){var t=e.statusPromise;return t.then(function(e){return e==="stream_done"?"done":"error"})})},e})();l.default=e}),98);
__d("oz-player/scheduling/OzRoundRobinPriorityTaskQueue",["oz-player/shims/ozReportUnexpectedError"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){t===void 0&&(t=-1),this.$3=function(){},this.$4=[],this.$5=new Map,this.$1=e,this.$2=t}var t=e.prototype;return t.getHighestPriority=function(){return Math.max.apply(Math,this.$4.map(function(e){return e.queue.length?e.priority:-1/0}))},t.enqueue=function(t,n){var e=this,o=n;o=this.$6(o);var a=this.$5.get(t);if(a!==o){this.$5.has(t)&&this.remove(t);var i=this.$7(o),l=this.$4[i];l&&l.priority===o||(l={priority:o,queue:[]},this.$4.splice(i,0,l)),this.$5.set(t,o),l.queue.push(t),t.getPromise().then(function(){e.remove(t)},function(){e.remove(t)}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzRoundRobinPriorityTaskQueue remove after task run")}),this.$3(t,o>=this.$1?"immediate":"normal")}},t.updatePriority=function(t,n){this.$5.has(t)&&this.enqueue(t,n)},t.dequeue=function(){for(var e=0;e<this.$4.length;e++){var t=this.$4[e];if(t.queue.length){var n=t.queue.shift();return this.$5.delete(n),n}}return null},t.remove=function(t){var e=this.$5.get(t);if(e!==void 0){var n=this.$7(e),r=this.$4[n];if(r&&r.queue){var o=r.queue.findIndex(function(e){return e===t});o>-1&&r.queue.splice(o,1)}this.$5.delete(t)}},t.setOnTaskUpdated=function(t){this.$3=t},t.clearOnTaskUpdated=function(){this.setOnTaskUpdated(function(){})},t.getLength=function(){return this.$5.size},t.test_isEmpty=function(){return this.$5.size===0&&this.$4.every(function(e){return e.queue.length===0})},t.$7=function(t){var e=t;e=this.$6(e);var n;for(n=0;n<this.$4.length;n++)if(e>=this.$4[n].priority)return n;return n},t.$6=function(t){var e=t;return this.$2>=0&&(e=Number.parseFloat(e.toFixed(this.$2))),e},e})();l.default=e}),98);
__d("oz-player/scheduling/OzSequentialTaskScheduler",["oz-player/shims/OzMaybeNativePromise","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$3=0,this.$1=e;var n=t||{},r=n.taskTimeout;this.$4=r||0}var t=e.prototype;return t.start=function(){this.$1.setOnTaskUpdated(this.$5.bind(this));var e=this.$1.dequeue();e&&this.$6(e,"immediate")},t.destroy=function(){this.$2&&this.$2.cancel(),this.$1.clearOnTaskUpdated()},t.$5=function(t,n){var e=this.$6(t,n);e&&this.$1.remove(t)},t.$6=function(t,n){var e=this;if(this.$2&&n!=="immediate")return!1;this.$2&&this.$2.cancel();var o=t.run().catch(function(e){});return this.$4>0&&(o=r("oz-player/shims/OzMaybeNativePromise").race([o,new(r("oz-player/shims/OzMaybeNativePromise"))(function(t,n){r("oz-player/shims/ozSetTimeoutAcrossTransitions")(t,e.$4)})])),this.$3++,this.$2=t,o=o.then(function(){if(e.$3--,e.$2===t&&(e.$2=null),e.$3===0){var n=e.$1.dequeue();n&&e.$6(n,"immediate")}}),o.catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzSequentialTaskScheduler task complete")}),!0},e})();l.default=e}),98);
__d("oz-player/networks/OzStreamingTaskQueueProvider",["oz-player/scheduling/OzRoundRobinPriorityTaskQueue","oz-player/scheduling/OzSequentialTaskScheduler"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=new Map,u=2,c=2,d=6e4;function m(t){var n=e.get(t);if(!n){n=new(r("oz-player/scheduling/OzRoundRobinPriorityTaskQueue"))(u,c);var o=new(r("oz-player/scheduling/OzSequentialTaskScheduler"))(n,{taskTimeout:d});e.set(t,n),s.set(t,o),o.start()}return n}l.OZ_QUEUE_MAX_PRIORITY=u,l.getQueue=m}),98);
__d("oz-player/networks/OzStreamingTaskStateManager",["Promise","oz-player/networks/OzStreamingTask","oz-player/networks/OzStreamingTaskQueueProvider","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzSubscriptionsHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=this;this.$3=new(r("oz-player/shims/OzSubscriptionsHandler")),this.$4=0,this.$9=!1,this.$10=null;var n=e.mimeType,a=e.priorityCalculator,i=e.loggerProvider,l=e.setCustomFetchStreamLoggingAttributes,s=e.config,u=e.bandwidthEstimator;this.$5=n,this.$1=a,this.$6=o("oz-player/networks/OzStreamingTaskQueueProvider").getQueue(this.$5),this.$7=i,this.$8=s,this.$11=u!=null?u:null,this.$10=l,this.$3.addSubscriptions(this.$1.addListener("state_changed",function(e,n){t.$12(e,n),t.$2&&t.$6.updatePriority(t.$2,t.$4)}))}var a=t.prototype;return a.$13=function(){var e=[];return e.push(r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$5,this.$11)),e},a.startStreamDeferred=function(t){var e=t.debugName,n=t.segments,r=t.networkManager,o=t.segmentsLoggerProvider,a=t.mediaStreamType,i=t.dataAppendedCallback,l=t.dataAppendedErrorCallback,s=this.$14(o),u=this.$13(),c;n.length>0?c=r.createPausableStream({debugName:e,segments:n,pipeThroughRangeStreamProviders:u,loggerProvider:o,mediaStreamType:a,dataAppendedCallback:i,dataAppendedErrorCallback:l}):c=null,this.$9=!0;var d=s.addStreamDeferred(c,o);return{genStream:d.genStream,cancel:d.cancel,getStatusChangePromise:this.$15(d.getStatusChangePromise)}},a.$14=function(t){var e=this.$2;return this.$12(this.$1.compute(),"start_stream"),!e||e.isCancelled()?(e=this.$2=new(r("oz-player/networks/OzStreamingTask"))(this.$8,t,this.$10),this.$6.enqueue(e,this.$4)):this.$6.updatePriority(e,this.$4),e},a.$15=function(r){var t=this;return function(){return r().then(function(e){return t.$16(),e}).catch(function(r){return t.$16(),(e||(e=n("Promise"))).reject(r)})}},a.finishTaskIfNoOngoingStream=function(){this.$9||this.$17()},a.destroy=function(){this.$3.release();var e=this.$2;this.$2=null,e&&this.$6.remove(e)},a.$16=function(){this.$9=!1,this.$12(this.$1.compute(),"end_stream"),this.$4<o("oz-player/networks/OzStreamingTaskQueueProvider").OZ_QUEUE_MAX_PRIORITY&&this.$17()},a.$17=function(){this.$2&&(this.$2.finish(),this.$2=null)},a.$12=function(t,n){t!==this.$4&&(this.$4=t,this.$7&&this.$7.getOperationLogger("priority_changed").setPriorityFloat(this.$4).setInitiator(n).log())},t})();l.default=s}),98);
__d("oz-player/strategies/OzStreamLengthStrategy",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r,o){var a=t,i=o,l=e.getNumber("segments_to_stream_under_playhead_threshold"),s=e.getNumber("low_segment_stream_playhead_threshold");l>0&&r.getCurrentTime()<s&&(a=l);var u=[];u.push(i);for(var c=1;c<a;c++){var d=n.getSegmentAfter(i);if(!d)break;i=d,u.push(i)}return u}i.getStreamingSegments=e}),66);
__d("oz-player/streams/OzMediaStreamLoopDriver",["oz-player/shims/ozClearTimeout","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/utils/OzErrorUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){var n=this;this.$2=null,this.$3=!1,this.$6=function(){var e;if(n.$7(),!n.$3){(e=n.$5)==null||e.start();var t=n.$1.execute(),o=n.$1.getLoopInterval();o&&(n.$2=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){n.$6()},o)),t&&t.then(n.$6).catch(function(e){n.$7();var t=n.$1.handleError(e);if(t)n.$2=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(n.$6,t);else{var o,a;(o=n.$5)==null||o.setError(e),(a=n.$5)==null||a.log(),n.$5=null,n.$3=!0}})}},this.$1=e,this.$4=t}var t=e.prototype;return t.start=function(){if(this.$3)throw o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NOT_IMPLEMENTED_ERROR",description:"restart is not implemented"});this.$5=this.$4.getOperationLogger("media_stream").start(),this.$6()},t.stop=function(){var e;this.$7(),this.$3=!0,(e=this.$5)==null||e.log(),this.$5=null},t.$7=function(){this.$2&&(r("oz-player/shims/ozClearTimeout")(this.$2),this.$2=null)},e})();l.default=e}),98);
__d("oz-player/utils/OzRangeUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.filter(function(t){return t.startTime<=e&&t.endTime>=e});return n!=null&&n.length>0?n[0]:null}i.getRangeForTime=e}),66);
__d("oz-player/streams/OzSegmentLocator",["oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzRangeUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.getEndingSegment();return t!=null&&t.getSequenceNumber()!=null?t.getSequenceNumber():0}var s=function(t,n){var e=t.getCurrentTime();return n?o("oz-player/utils/OzRangeUtils").getRangeForTime(e,n.getBufferedRanges()):null},u=function(t,n,r){var e=s(t,n),o=r?r.getTimeRange().endTime:0,a=t.getCurrentTime()||0;return o?a=o:e&&(a=e.endTime),a},c=function(t,n,r,a,i,l,s,c){var e=t.getPredictedSegmentAfter(l);if(e&&n.isPlaying())return e;var d=u(n,a,l),m=i.getTimeRanges(),p=o("oz-player/utils/OzNumericalRangeUtil").findDiffCoveredByRanges(n.getCurrentTime(),d,m.map(function(e){return{rangeStart:e.startTime,rangeEnd:e.endTime}}));if(p>r)return null;var _=t.getSegment(0);return _&&_.getTimeRange().startTime>d&&(d=_.getTimeRange().startTime),t.getSegmentByTime(d)};l.getEndingSequenceNumber=e,l.getTimeToQuery=u,l.getSegment=c}),98);
__d("oz-player/streams/OzSegmentUtils",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){var n,r;return((n=t==null?void 0:t.getSequenceNumber())!=null?n:0)>((r=e==null?void 0:e.getSequenceNumber())!=null?r:0)?t:e})}function s(e,t){var n=new(r("oz-player/manifests/OzSegmentOptions"));return e.getPredictedSegmentAfter({getData:function(){return null},getByteRange:function(){return null},getSequenceNumber:function(){return t-1},getTimeRange:function(){return{endTime:0,startTime:0}},getURI:function(){return new(r("oz-player/shims/OzURI"))("")},getOptions:function(){return n}})}function u(e){return e.getOptions().setSegmentNumDecisionTime(Date.now()),e}l.getMaxSegment=e,l.getSegmentForSequenceNumber=s,l.markSegmentCreateTime=u}),98);
__d("oz-player/utils/OzTaggedTimeRanges",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=[],this.$2=0,this.$3=0,this.$4=e||function(e,t){return e===t}}var t=e.prototype;return t.add=function(t,n,r){if(!(n<t)&&n!==t){if(this.$1.length===0){this.$1.push({startTime:t,endTime:n,tag:r});return}for(var e=0,o=0,a=0;a<this.$1.length;a++){if(t===this.$1[a].startTime&&n===this.$1[a].endTime){e=a,o=a+1;break}if(t>=this.$1[a].startTime&&(e=a+1),n<=this.$1[a].endTime&&(o=a),n<this.$1[a].startTime)break}this.$1.splice(e,o-e,{startTime:t,endTime:n,tag:r}),this.$5(e)}},t.$5=function(t){var e=t,n=this.$1[e],r=null;e!==0&&(r=this.$1[e-1]),r!==null&&(this.$4(r.tag,n.tag)?r.endTime>=n.startTime&&(this.$1.splice(e-1,2,{startTime:r.startTime,endTime:Math.max(n.endTime,r.endTime),tag:n.tag}),e--):(r.endTime>n.startTime&&r.startTime===n.startTime?(this.$1.splice(e-1,1),e--):r.endTime>n.startTime&&this.$1.splice(e-1,1,{startTime:r.startTime,endTime:n.startTime,tag:r.tag}),r.endTime>n.endTime&&this.$1.splice(e+1,0,{startTime:n.endTime,endTime:r.endTime,tag:r.tag})));var o=null;e!==this.$1.length-1&&(o=this.$1[e+1]),o&&(this.$4(o.tag,n.tag)?o.startTime<=n.endTime&&this.$1.splice(e,2,{startTime:n.startTime,endTime:Math.max(o.endTime,n.endTime),tag:n.tag}):o.startTime<=n.endTime&&(o.endTime<n.endTime?(this.$1.splice(e,1,{startTime:n.startTime,endTime:o.startTime,tag:n.tag}),this.$1.push({startTime:o.endTime,endTime:n.endTime,tag:n.tag})):this.$1.splice(e+1,1,{startTime:n.endTime,endTime:o.endTime,tag:o.tag})))},t.get=function(t){for(var e=t>=this.$3?this.$2:0,n=null,r=e;r<this.$1.length;r++)if(this.$1[r].startTime<=t&&t<this.$1[r].endTime){n=r;break}return this.$2=n===null?0:n,this.$3=t,n===null?null:this.$1[n].tag},t.getLength=function(){return this.$1.length},e})();i.default=e}),66);
__d("oz-player/streams/OzMediaStream",["oz-player/manifests/IOzSegment","oz-player/networks/OzNetworkManager","oz-player/networks/OzReadableStreamDataReader","oz-player/networks/OzStreamingTaskStateManager","oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter","oz-player/shims/OzDeferred","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzNetworkDiagnostics","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/strategies/OzStreamLengthStrategy","oz-player/streams/OzMediaStreamLoopDriver","oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzTaggedTimeRanges"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=.2,u={AUDIO:1,CAPTION:3,VIDEO:0},c=(function(t){function n(e){var n,a;a=t.call(this)||this,a.$OzMediaStream$p_2=0,a.$OzMediaStream$p_3=0,a.$OzMediaStream$p_4=null,a.$OzMediaStream$p_13=null,a.$OzMediaStream$p_15=!1,a.$OzMediaStream$p_16=null,a.$OzMediaStream$p_17=new(r("oz-player/shims/OzSubscriptionsHandler")),a.$OzMediaStream$p_19=[],a.$OzMediaStream$p_22=0,a.$OzMediaStream$p_29=!0,a.$OzMediaStream$p_31=!1,a.$OzMediaStream$p_32=null,a.$OzMediaStream$p_33=new(r("oz-player/utils/OzErrorEmitter")),a.$OzMediaStream$p_35=!0,a.$OzMediaStream$p_38=0,a.$OzMediaStream$p_39=null,a.$OzMediaStream$p_40=null;var i=e.config,l=e.sourceBufferManagerPromise,s=e.networkManager,u=e.playbackState,c=e.endOfStreamWatcher,d=e.bufferTargetCalculator,m=e.priorityCalculator,p=e.streamSegmentsCountCalculator,_=e.abrManager,f=e.representation,g=e.loggerProvider,h=e.segmentLocator,y=e.setCustomFetchStreamLoggingAttributes,C=e.blockedRepresentationsManager,b=e.dynamicVideoLibrary,v=e.shouldAppendOncePerStream,S=e.mediaStreamType,R=e.warningEmitter,L=e.mpd;return a.$OzMediaStream$p_1=i,a.$OzMediaStream$p_5=l,a.$OzMediaStream$p_5.then(function(e){a.$OzMediaStream$p_6=e,a.$OzMediaStream$p_16&&a.$OzMediaStream$p_16.setSourceBuffer(e),a.$OzMediaStream$p_27.setSourceBufferState(e.getSourceBufferState()),a.$OzMediaStream$p_47()},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzMediaStream SBM promise then - create")}),a.$OzMediaStream$p_12=s,a.$OzMediaStream$p_7=u,a.$OzMediaStream$p_14=c,(n=a.$OzMediaStream$p_14)==null||n.registerMediaStream(a),a.$OzMediaStream$p_26=d,a.$OzMediaStream$p_27=m,a.$OzMediaStream$p_28=p,a.$OzMediaStream$p_16=_,a.$OzMediaStream$p_18=g.cloneContext(),a.$OzMediaStream$p_36=h,a.$OzMediaStream$p_25=new(r("oz-player/utils/OzTaggedTimeRanges"))(function(e,t){return e.id===t.id}),a.$OzMediaStream$p_39=y,a.$OzMediaStream$p_40=C,a.$OzMediaStream$p_42=b,a.$OzMediaStream$p_43=v,a.$OzMediaStream$p_44=S,a.$OzMediaStream$p_45=R,a.$OzMediaStream$p_46=L,a.$OzMediaStream$p_17.addSubscriptions(a.$OzMediaStream$p_7.addEventListener("seeking",function(){var e,t=u.getCurrentTime(),n=null;a.$OzMediaStream$p_1.getBool("ignore_reset_after_seek_if_bufferahead")&&a.$OzMediaStream$p_8.canPredict()&&(a.$OzMediaStream$p_6&&o("oz-player/utils/OzBufferingUtils").getBufferAheadFromCurrentTime(t,a.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges())>0)?n="no_reset_anchor":(n="reset_anchor",a.$OzMediaStream$p_41=Date.now(),a.$OzMediaStream$p_9!=null&&(a.$OzMediaStream$p_48(),a.$OzMediaStream$p_31=!1,a.$OzMediaStream$p_24&&a.$OzMediaStream$p_24.resolve())),a.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_element_event").setInitiator("seeking").setLength(t*1e3).setReason(n).setUserInfo({streamAnchorSegmentNumber:String((e=a.$OzMediaStream$p_9)==null?void 0:e.getSequenceNumber())}).log()})),a.$OzMediaStream$p_40!=null&&a.$OzMediaStream$p_17.addSubscriptions(a.$OzMediaStream$p_40.onRepresentationBlocked(function(e){return a.$OzMediaStream$p_49(e)})),a.$OzMediaStream$p_21=o("oz-player/utils/OzMimeUtil").getMimeType(f.getMimeCodecs()),a.$OzMediaStream$p_30=new(r("oz-player/networks/OzStreamingTaskStateManager"))({mimeType:a.$OzMediaStream$p_21,priorityCalculator:a.$OzMediaStream$p_27,loggerProvider:a.$OzMediaStream$p_18,setCustomFetchStreamLoggingAttributes:a.$OzMediaStream$p_39,config:a.$OzMediaStream$p_1,bandwidthEstimator:a.$OzMediaStream$p_12.getBandwidthEstimator()}),a.$OzMediaStream$p_23=new(r("oz-player/streams/OzMediaStreamLoopDriver"))(a,a.$OzMediaStream$p_18),a.$OzMediaStream$p_50(f),a}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.start=function(){this.$OzMediaStream$p_23.start()},a.getCurrentRepresentation=function(){return this.$OzMediaStream$p_8},a.switchRepresentation=function(t,n){n===void 0&&(n=null),this.$OzMediaStream$p_50(t,"user",n)},a.onError=function(t){return this.$OzMediaStream$p_33.onError(t)},a.updateRunTimeConfigs=function(t){var e=t.streamDataHandler,n=t.resetStreamAnchor;e!==void 0&&(this.$OzMediaStream$p_34=e),n===!0&&this.$OzMediaStream$p_8.canApproximateId()&&(this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=null)},a.$OzMediaStream$p_50=function(t,n,a){var e,i=this;if(n===void 0&&(n="internal"),a===void 0&&(a=null),t==null){if(this.$OzMediaStream$p_1.getBool("no_rep_to_switch_fallback_progressive")){var l=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_NO_AVAILABLE_REP_TO_SWITCH",description:"No available representation to switch to because all are blocked"});this.$OzMediaStream$p_33.emitError(l)}return}n==="user"&&this.$OzMediaStream$p_48(),(e=this.$OzMediaStream$p_20)==null||e.remove(),this.$OzMediaStream$p_20=null;var s=this.$OzMediaStream$p_18.cloneContext().setType(this.$OzMediaStream$p_21+";init"),u=s.cloneContext().setRepresentationID(t.getID()),c=t.getInitSegment(),d=c.getData(),m=s.getOperationLogger("stream_switch").setPreviousRepresentationID(this.$OzMediaStream$p_8?this.$OzMediaStream$p_8.getID():null).setInitiator(n).setRepresentationID(t.getID()).setReason(n==="internal"?this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason():n).start();this.$OzMediaStream$p_8=t;var p=function(){var e;m.log(),i.$OzMediaStream$p_26.handleEvent("append_succeeded"),i.emit("initAppended"),(e=i.$OzMediaStream$p_14)==null||e.notifyRepresentationSwitched(i)},_=function(n){var e;if(m.setError(n).log(),i.$OzMediaStream$p_51(n),(e=i.$OzMediaStream$p_40)==null||e.handleError(t.getID(),n),t.getID()!==i.$OzMediaStream$p_8.getID()){var r;(r=i.$OzMediaStream$p_24)==null||r.resolve()}};if(d==null){var f=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/init/"+this.$OzMediaStream$p_44,segments:[c],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:u,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:_});d=f.getStream()}if(this.emit("switchRepresentation",n,t),this.$OzMediaStream$p_52({data:d,mimeCodecs:t.getMimeCodecs(),clearSourceBufferRange:a,dataAppendedCallback:p,dataAppendedErrorCallback:_,loggerProvider:u.cloneContext(),appendTarget:0}),a){var g=t.getSegmentByTime(a[0]);if(g){var h=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/startingSegment/"+this.$OzMediaStream$p_44,segments:[g],pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:u,requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:p,dataAppendedErrorCallback:_}),y=h.getStream();this.$OzMediaStream$p_52({data:y,mimeCodecs:t.getMimeCodecs(),clearSourceBufferRange:null,dataAppendedCallback:p,dataAppendedErrorCallback:_,loggerProvider:u.cloneContext(),appendTarget:1})}}},a.getLoopInterval=function(){return this.$OzMediaStream$p_22},a.execute=function(){var e=this.$OzMediaStream$p_53();if(e){var t=this.$OzMediaStream$p_24=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise"));return e.then(function(){return t.resolve()}).catch(function(e){return t.reject(e)}),t.getPromise()}return null},a.$OzMediaStream$p_54=function(t){if(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_29&&this.$OzMediaStream$p_15){var e=this.$OzMediaStream$p_16.getBestRepresentation(t);if(this.$OzMediaStream$p_8!==e)return e}return null},a.$OzMediaStream$p_55=function(t){var e=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null,n=this.$OzMediaStream$p_26.computeBufferTarget();if(n<=0)return null;var r=null;if(t&&(r=this.$OzMediaStream$p_8.getCustomFieldFirstSegment()),!r&&this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_36!=null){var a=this.$OzMediaStream$p_35&&this.$OzMediaStream$p_7.isPlaying();return this.$OzMediaStream$p_36.getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,n,e,this.$OzMediaStream$p_9,this.$OzMediaStream$p_10,this.$OzMediaStream$p_1,a,this.$OzMediaStream$p_21)}else if(r||(r=o("oz-player/streams/OzSegmentLocator").getSegment(this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,n,e,this.$OzMediaStream$p_8,this.$OzMediaStream$p_9,this.$OzMediaStream$p_1,this.$OzMediaStream$p_32)),this.$OzMediaStream$p_8.canPredict()){var i=this.$OzMediaStream$p_10&&this.$OzMediaStream$p_10.getSequenceNumber()||0,l=r&&r.getSequenceNumber()||0;if(r&&this.$OzMediaStream$p_10&&i>=l){var s=o("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(this.$OzMediaStream$p_8);return(s||0)>=i?this.$OzMediaStream$p_10:null}}if(!r&&!this.$OzMediaStream$p_56()){var u=this.$OzMediaStream$p_8.getEndingSegment();if(u&&this.$OzMediaStream$p_8.isEndingSegment(u)){var c=u.getTimeRange().endTime,d=o("oz-player/streams/OzSegmentLocator").getTimeToQuery(this.$OzMediaStream$p_7,e,this.$OzMediaStream$p_9);d>=c&&!this.$OzMediaStream$p_56()&&(r=u)}}return r},a.$OzMediaStream$p_57=function(){return!this.$OzMediaStream$p_15},a.$OzMediaStream$p_58=function(t,n){var e,a,i=(e=n.fetchSingleSegment)!=null?e:!1,l=(a=n.preventRepresentationSwitch)!=null?a:!1,s=[];if(i)s=[t];else{var u=this.$OzMediaStream$p_28.computeMin(this.$OzMediaStream$p_7,t,this.$OzMediaStream$p_8);if(s=o("oz-player/strategies/OzStreamLengthStrategy").getStreamingSegments(this.$OzMediaStream$p_1,u,this.$OzMediaStream$p_8,this.$OzMediaStream$p_7,t),s=r("oz-player/networks/OzNetworkManager").getStreamableSegmentsRange(s),!l){var c=this.$OzMediaStream$p_54(s);if(c){this.$OzMediaStream$p_50(c);var d=this.$OzMediaStream$p_55(!1);return d?this.$OzMediaStream$p_58(d,{fetchSingleSegment:!1,preventRepresentationSwitch:!0}):[]}}}return s},a.$OzMediaStream$p_59=function(){var e=this,t=function(n){n==null||n.remove(),e.$OzMediaStream$p_20===n&&(e.$OzMediaStream$p_20=null)};t(this.$OzMediaStream$p_20);var n=null;return new(r("oz-player/shims/OzMaybeNativePromise"))(function(r,o){n=e.getCurrentRepresentation().addUpdateListener(function(){t(n),r()}),e.$OzMediaStream$p_20=n}).catch(function(e){throw t(n),e})},a.$OzMediaStream$p_53=function(){var t=this,n=this.$OzMediaStream$p_6?this.$OzMediaStream$p_6.getSourceBufferState():null;if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_10&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_10)){this.endStream("pdash_ending_segment_had_error"),this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end1").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_9&&this.$OzMediaStream$p_8.isEndingSegment(this.$OzMediaStream$p_9)){this.endStream("pdash_anchor_segment_is_ending_segment"),this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("end2").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}var a=this.$OzMediaStream$p_57(),i=this.$OzMediaStream$p_55(a);if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_11!=null&&o("oz-player/manifests/IOzSegment").isSequenceNumberGreaterOrEqual(i,this.$OzMediaStream$p_11)){this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("segment_end").setRepresentationID(this.$OzMediaStream$p_8.getID()).log();return}if(o("oz-player/manifests/IOzSegment").isSequenceNumberEqual(i,this.$OzMediaStream$p_37)?this.$OzMediaStream$p_38++:this.$OzMediaStream$p_38=0,this.$OzMediaStream$p_37=i,this.$OzMediaStream$p_7.isPlaying()&&this.$OzMediaStream$p_38>0&&this.$OzMediaStream$p_18.cloneContext().getOperationLogger("get_segment_to_stream_same_segment").setReason((i==null?void 0:i.getSequenceNumber())!=null?String(i==null?void 0:i.getSequenceNumber()):null).setLength(this.$OzMediaStream$p_38).setRepresentationID(this.$OzMediaStream$p_8.getID()).setSegmentStartTime(i==null?void 0:i.getTimeRange().startTime).setSegmentEndTime(i==null?void 0:i.getTimeRange().endTime).log(),this.$OzMediaStream$p_31){var l,s;return this.$OzMediaStream$p_22=e,this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("ongoing_stream").setReason(((l=this.$OzMediaStream$p_9)==null?void 0:l.getSequenceNumber())!=null?String((s=this.$OzMediaStream$p_9)==null?void 0:s.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log(),null}if(!i||this.$OzMediaStream$p_31){if(this.$OzMediaStream$p_8.canPredict()&&this.$OzMediaStream$p_1.getBool("ms_promise_for_null")){var u=this.$OzMediaStream$p_1.getNumber("ms_promise_for_null_ms");return new(r("oz-player/shims/OzMaybeNativePromise"))(function(e,n){var o=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){r("oz-player/shims/ozClearTimeout")(o),e()},u||(t.$OzMediaStream$p_8.getMaxGopSec()||1)*1e3)})}return this.$OzMediaStream$p_22=e,this.$OzMediaStream$p_31||this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream(),this.$OzMediaStream$p_59()}this.$OzMediaStream$p_22=0;var c=this.$OzMediaStream$p_58(i,{fetchSingleSegment:a});if(c.length===0){var d,m;return this.$OzMediaStream$p_18.cloneContext().getOperationLogger("media_loop_end").setInitiator("no_stream_segments").setReason(((d=this.$OzMediaStream$p_9)==null?void 0:d.getSequenceNumber())!=null?String((m=this.$OzMediaStream$p_9)==null?void 0:m.getSequenceNumber()):null).setRepresentationID(this.$OzMediaStream$p_8.getID()).log(),this.$OzMediaStream$p_59()}this.$OzMediaStream$p_15=!0;var p=c[c.length-1]||null,_=this.$OzMediaStream$p_8,f=function(){return _.isEndingSegment(p)};c.length!==0||r("oz-player/shims/ozvariant")(0,23148);var g=c[0],h=g.getTimeRange().startTime,y=p.getTimeRange().endTime,C={startTime:h,endTime:y,tag:{id:this.$OzMediaStream$p_8.getID()}},b=function(n){k.setAppendedBufferMs(Math.round(n.appendedSec*1e3)),k.log(),t.$OzMediaStream$p_26.handleEvent("append_succeeded"),c.forEach(function(e){t.emit("SegmentAppended",t.$OzMediaStream$p_60(e,C))}),f()&&t.endStream("appended_ending_segment"),t.$OzMediaStream$p_61(C,n)},v=function(n){k.setError(n).log();var e=L||R;e&&e.cancel(),t.$OzMediaStream$p_51(n)},S=this.$OzMediaStream$p_18.cloneContext();S.setRepresentationID(this.$OzMediaStream$p_8.getID()),S.setSegmentStartTime(h).setSegmentEndTime(y);var R,L;a?(R=this.$OzMediaStream$p_12.request({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44+"/prefetch",segments:c,pipeThroughRangeStreamProviders:[r("oz-player/networks/getOzBandwidthEstimatorPipeThroughReporter")(this.$OzMediaStream$p_21,this.$OzMediaStream$p_12.getBandwidthEstimator())],loggerProvider:S.cloneContext(),requestOptions:null,mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:b,dataAppendedErrorCallback:v}),this.$OzMediaStream$p_13=R):(L=this.$OzMediaStream$p_30.startStreamDeferred({debugName:"OzMediaStream/streamableSegments/"+this.$OzMediaStream$p_44,segments:c,networkManager:this.$OzMediaStream$p_12,sourceBufferState:n,playbackState:this.$OzMediaStream$p_7,segmentsLoggerProvider:S.cloneContext(),mediaStreamType:this.$OzMediaStream$p_44,dataAppendedCallback:b,dataAppendedErrorCallback:v}),this.$OzMediaStream$p_13=R),this.$OzMediaStream$p_31=!0;var E=this.$OzMediaStream$p_62(g,p,c.length),k=S.getOperationLogger("queued_append");k.start().setReason(this.$OzMediaStream$p_16&&this.$OzMediaStream$p_16.getLastEvaluationReason());var I=function(n,r){t.$OzMediaStream$p_52({data:n,mimeCodecs:r,clearSourceBufferRange:null,dataAppendedCallback:b,dataAppendedErrorCallback:v,loggerProvider:S.cloneContext(),appendTarget:E})},T;L||R||r("oz-player/shims/ozvariant")(0,23147);var D=this.$OzMediaStream$p_8.getMimeCodecs();L?(L.genStream().then(function(e){return I(e,D)}).catch(function(e){return t.$OzMediaStream$p_33.emitError(e)}),T=L.getStatusChangePromise()):R&&(I(R.getStream(),D),T=R.getStatusChangePromise()),T||r("oz-player/shims/ozvariant")(0,51928);var x=T.then(function(e){return t.$OzMediaStream$p_63(e,p),t.$OzMediaStream$p_64()}).then(function(){t.$OzMediaStream$p_2=0});return x.catch(function(e){var n,r=t.$OzMediaStream$p_9;return t.$OzMediaStream$p_65(p),(n=t.$OzMediaStream$p_40)==null||n.handleError(_.getID(),e),t.$OzMediaStream$p_66(e,p,r)})},a.handleError=function(t){var e=this.$OzMediaStream$p_18.getOperationLogger("media_stream_loop_error");return e.setError(t).setResult("failed").log(),this.$OzMediaStream$p_1.getNumber("loop_body_handle_error_interval_ms")},a.$OzMediaStream$p_66=function(t,n,a){var e=this;this.$OzMediaStream$p_31=!1;var i=new(r("oz-player/shims/OzDeferred"))(r("oz-player/shims/OzMaybeNativePromise")),l=o("oz-player/utils/OzErrorUtils").getNormalizedErrorAndCode(t),s=l[0],u=l[1],c=o("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(s,this.$OzMediaStream$p_21),d=function(l){if(e.$OzMediaStream$p_2++,e.$OzMediaStream$p_18.getOperationLogger("media_stream").setInitiator("fetch_stream_"+(l.behavior!=null?l.behavior:"default")).setLength(l.timeoutMs).setReason(""+c.getDescription()).setError(c).setCode(u.length>0?Number.parseInt(u,10):null).setType(e.$OzMediaStream$p_21).log(),l.behavior==="retry_failed_request")e.$OzMediaStream$p_9=a;else if(l.behavior==="recover_failed_request"&&o("oz-player/utils/OzErrorUtils").isOzError(t)){var n,s=(n=t.getExtra())==null?void 0:n.headers,d=r("oz-player/shims/OzNetworkDiagnostics").getNextValidSegmentId(s);d!=null&&(e.$OzMediaStream$p_9=o("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(e.$OzMediaStream$p_8,d-1))}r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){return e.emit("streamErrorRetry",c),i.resolve()},l.timeoutMs)};this.$OzMediaStream$p_4!==u?(this.$OzMediaStream$p_4=u,this.$OzMediaStream$p_3=1):this.$OzMediaStream$p_3++;var m=!0,p=function(){m=!1},_={consecutiveFailuresForErrorCode:this.$OzMediaStream$p_3,endStream:function(){p(),e.$OzMediaStream$p_10=n,e.$OzMediaStream$p_11=n,e.endStream("streamError_event_object"),i.resolve()},error:c,isInitialRequest:!1,retry:function(t){var e;p(),d({timeoutMs:(e=t==null?void 0:t.waitMs)!=null?e:0,behavior:t==null?void 0:t.behavior})},retryAttemptCount:this.$OzMediaStream$p_2};return this.emit("streamError",_),m&&(this.$OzMediaStream$p_33.emitError(c),this.$OzMediaStream$p_2=0,i.resolve()),i.getPromise()},a.$OzMediaStream$p_65=function(t){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_10=t,this.$OzMediaStream$p_30.finishTaskIfNoOngoingStream();var e=this.$OzMediaStream$p_6;e&&e.cancelOperationAndCleanQueue(this.$OzMediaStream$p_18)},a.$OzMediaStream$p_63=function(t,n){t==="done"&&(this.$OzMediaStream$p_9=n)},a.$OzMediaStream$p_64=function(){this.$OzMediaStream$p_31=!1},a.$OzMediaStream$p_52=function(t){this.$OzMediaStream$p_19.push(t),this.$OzMediaStream$p_6&&this.$OzMediaStream$p_47()},a.$OzMediaStream$p_61=function(t,n){t!=null&&(this.$OzMediaStream$p_8.canPredict()&&n.startTime_UNSAFE&&n.endTime_UNSAFE?this.$OzMediaStream$p_25.add(n.startTime_UNSAFE,n.endTime_UNSAFE,t.tag):this.$OzMediaStream$p_25.add(t.startTime,t.endTime,t.tag))},a.$OzMediaStream$p_47=function(){var e=this;this.$OzMediaStream$p_19.forEach(function(t){var n=t.data,o=t.mimeCodecs,a=t.clearSourceBufferRange,i=t.dataAppendedCallback,l=t.dataAppendedErrorCallback,s=t.loggerProvider,u=t.appendTarget,c=n instanceof Uint8Array||e.$OzMediaStream$p_34==null?n:n.pipeThrough(new(r("oz-player/networks/OzReadableStreamDataReader"))(e.$OzMediaStream$p_34.bind(e,e.$OzMediaStream$p_8),e.$OzMediaStream$p_1));e.$OzMediaStream$p_6&&e.$OzMediaStream$p_6.queueData(c,o,a,s,u).then(function(e){e&&i(e)}).catch(function(e){l(e)})}),this.$OzMediaStream$p_19=[]},a.$OzMediaStream$p_67=function(){var e=this.$OzMediaStream$p_6;if(!e)return r("oz-player/shims/OzMaybeNativePromise").resolve();var t=this.$OzMediaStream$p_7.getCurrentTime(),n=[{fromTime:0,toTime:t}],o=this.$OzMediaStream$p_1.getNumber("clear_buffer_around_playhead_boundary_ms");if(o>0){var a=o/1e3,i=e.getSourceBufferState(),l=i.getBufferedRanges(),s=l.length>=1?l[l.length-1].endTime:t;n=[{fromTime:0,toTime:Math.max(0,t-a)}],t+a<s&&n.push({fromTime:t+a,toTime:s})}return e.clearRangeWithWait(n)},a.$OzMediaStream$p_68=function(t){return!1},a.$OzMediaStream$p_51=function(t){var e=this;if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_QUOTA_EXCEEDED"){this.emit("streamErrorRetry",o("oz-player/utils/OzErrorUtils").getOzErrorWithMIMEType(t,this.$OzMediaStream$p_21)),this.$OzMediaStream$p_26.handleEvent("append_quota_exceeded");var n=this.$OzMediaStream$p_67();n.then(function(){e.restartLoopBody()}).catch(function(t){var n=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR",description:"Stream append quota exceeded: "+String(t),extra:{originalError:t,code:r("oz-player/utils/OzCustomErrorCode").STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR}});e.$OzMediaStream$p_33.emitError(n)})}else{if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_CANCELLED")return;if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE")this.$OzMediaStream$p_33.emitError(t);else if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_SOURCE_BUFFER_CHANGE_TYPE_UNAVAILABLE")this.$OzMediaStream$p_33.emitError(t);else if(o("oz-player/utils/OzErrorUtils").isOzError(t)&&t.getType()==="OZ_WEBVTT_CAPTION_PARSE_ERROR"){var a;r("oz-player/shims/ozReportUnexpectedError")(t,"OzMediaStream append error callback: OZ_WEBVTT_CAPTION_PARSE_ERROR branch","warn"),(a=this.$OzMediaStream$p_45)==null||a.emitError(t)}else r("oz-player/shims/ozReportUnexpectedError")(t,"OzMediaStream append error callback","warn"),this.$OzMediaStream$p_68(t)&&this.$OzMediaStream$p_33.emitError(t)}},a.$OzMediaStream$p_62=function(t,n,r){var e=0;if(this.$OzMediaStream$p_43)return 1/0;var o=this.$OzMediaStream$p_1.getNumber("appends_per_segment");if(o>0){var a=t.getByteRange(),i=n.getByteRange();a&&i&&i.endByte!=null&&(e=Math.ceil((i.endByte-a.startByte+1)/(r*o)))}return e===0&&(e=this.$OzMediaStream$p_1.getNumber("append_byte_target_without_range")),e},a.getIsAdaptationEnabled=function(){return this.$OzMediaStream$p_29},a.enableAdaptation=function(){this.$OzMediaStream$p_29=!0},a.disableAdaptation=function(){this.$OzMediaStream$p_29=!1},a.destroy=function(){this.$OzMediaStream$p_23.stop(),this.$OzMediaStream$p_5.then(function(e){e.destroy()},function(){}).catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"OzMediaStream SBM promise then - destroy")}),this.$OzMediaStream$p_30.destroy(),this.$OzMediaStream$p_17.release(),this.$OzMediaStream$p_17.engage(),this.removeAllListeners(),this.$OzMediaStream$p_20&&(this.$OzMediaStream$p_20.remove(),this.$OzMediaStream$p_20=null)},a.getRepresentationIDAtTime=function(t){var e=this.$OzMediaStream$p_25.get(t);if(!e){var n=this.$OzMediaStream$p_8.getTimeRanges(),r=n[n.length-1],o=.001;r&&t>=r.endTime&&t<=this.$OzMediaStream$p_7.getDuration()+o&&(e=this.$OzMediaStream$p_25.get(r.endTime-o))}return e?e.id:null},a.endStream=function(t){var e;(e=this.$OzMediaStream$p_14)==null||e.notifyMediaStreamEnded(this,t),this.$OzMediaStream$p_69()},a.endStreamIfBufferedToEndTime=function(){var e=this.$OzMediaStream$p_8.getTimeRanges();if(e.length>0){var t=e[e.length-1].endTime;if(this.$OzMediaStream$p_6){var n=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();n.length>0&&Math.abs(n[n.length-1].endTime-t)<s&&this.endStream("buffered_to_end_time")}}},a.$OzMediaStream$p_60=function(t,n){var e,r;return{type:this.$OzMediaStream$p_21.indexOf("audio")===0?u.AUDIO:this.$OzMediaStream$p_21.indexOf("video")===0?u.VIDEO:u.CAPTION,segment:t,sourceBuffer:(e=(r=this.$OzMediaStream$p_6)==null||(r=r.getDebug())==null?void 0:r.SourceBuffer)!=null?e:null,timeRange:n}},a.$OzMediaStream$p_48=function(){this.$OzMediaStream$p_9=null},a.restartLoopBody=function(){this.$OzMediaStream$p_48(),this.$OzMediaStream$p_31=!1,this.$OzMediaStream$p_13&&this.$OzMediaStream$p_13.cancel(),this.$OzMediaStream$p_22!==0&&this.$OzMediaStream$p_24&&this.$OzMediaStream$p_24.resolve()},a.$OzMediaStream$p_69=function(){if(this.$OzMediaStream$p_6){var e=this.$OzMediaStream$p_6.getSourceBufferState().getBufferedRanges();e.length>0&&(this.$OzMediaStream$p_32=e[e.length-1].endTime)}},a.$OzMediaStream$p_56=function(){return this.$OzMediaStream$p_32!==null},a.$OzMediaStream$p_49=function(t){this.$OzMediaStream$p_8.getID()===t&&this.$OzMediaStream$p_16!=null&&this.$OzMediaStream$p_50(this.$OzMediaStream$p_16.getBestRepresentation())},a.setEnableLiveheadCatchup=function(t){this.$OzMediaStream$p_35=t},a.clearSourceBufferRange=function(t,n){var e=this.$OzMediaStream$p_6;return e?e.clearRangeWithWait([{fromTime:t,toTime:n}]):r("oz-player/shims/OzMaybeNativePromise").resolve()},a.getDebug=function(){return{SourceBufferManager:this.$OzMediaStream$p_6,MediaStreamAbrManager:this.$OzMediaStream$p_16}},n})(r("oz-player/shims/OzEventEmitter"));l.default=c}),98);
__d("oz-player/streams/OzPredictedSegmentLocator",["oz-player/streams/OzSegmentLocator","oz-player/streams/OzSegmentUtils","oz-player/utils/OzSourceBufferUtil"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=0;for(var r in e){var o;r!==t&&(n=Math.max(n,(o=e[r].lastSkippedToSegmentNumber)!=null?o:0))}return n}function s(e,t){var n=null;for(var r in e)r!==t&&e[r].inBufferAheadTimeSince!=null&&(n=n!=null?Math.min(n,e[r].inBufferAheadTimeSince):e[r].inBufferAheadTimeSince);return n}var u=(function(){function t(e){this.$5={};var t=e.videoNode,n=e.liveLatencyManager,r=e.loggerProvider,o=e.dynamicVideoLibrary;this.$1=t,this.$2=n,this.$3=r,this.$4=o}var n=t.prototype;return n.getSegment=function(t,n,r,o,a,i,l,s,u){var e,c;this.$5[u]==null&&(this.$5[u]={lastSkippedToSegmentNumber:null,inBufferAheadTimeSince:null}),(e=this.$2)==null||e.setEnableCatchup(s);var d=this.$6(t,n,r,o,a,i,l,s,u);(c=d.segment)==null||c.getOptions().setSegmentNumDecisionTime(Date.now()),d.segment===null&&this.$3.getOperationLogger("segment_locator").setInitiator(d.initiator).setReason(d.reason).setType(u).setUserInfo(d.userInfo).log();var m=this.$4;if(d.segment&&m!=null){var p=d.segment.getOptions();p.setIsDVLEnabled(m.shouldRequestDynamicInfo(u))}return d.segment},n.$6=function(n,r,a,i,l,u,c,d,m){var t,p,_,f,g,h=r.getCurrentTime(),y=this.$2==null?!1:this.$2.shouldEnableCursorBasedCatchup(),C=i!=null?o("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(i.getBufferedRanges(),r.getCurrentTime(),c):{bufferAheadSec:0,bufferedOffset:0},b=C.bufferAheadSec,v=C.bufferedOffset,S=null,R=null,L=this.$2?this.$2.enabled():!0,E=n.getPredictedSegmentAfter(l),k=o("oz-player/streams/OzSegmentUtils").getSegmentForSequenceNumber(n,c.getNumber("pdash_download_cursor_between_catchups_seg")>0?e(this.$5):e(this.$5,m)),I=!0,T=null;if(y&&d&&((t=E)==null?void 0:t.getSequenceNumber())!=null&&((p=(_=E)==null?void 0:_.getSequenceNumber())!=null?p:0)<=((f=k==null?void 0:k.getSequenceNumber())!=null?f:0)){var D,x,$;E=k,S="paired_catchup",this.$3.getOperationLogger("segment_locator").setInitiator(S).setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v)}).setLength(((D=k==null?void 0:k.getSequenceNumber())!=null?D:0)-((x=($=E)==null?void 0:$.getSequenceNumber())!=null?x:0)).setType(m).log(),I=!1,T=S}else if(y&&d&&L&&E!=null&&(g=this.$2)!=null&&g.isBehindPreferredLiveHeadLatencyWithTolerance()){var P,N;if(this.$2&&b>this.$2.getPreferredLiveHeadLatencySec()&&v==0)return{segment:null,initiator:"catchup_pause",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(v)}};var M=n.getEndingSegment(),w=o("oz-player/streams/OzSegmentUtils").getMaxSegment([M,E]),A=c.getNumber("pdash_download_cursor_between_catchups_seg")===0||((P=k==null?void 0:k.getSequenceNumber())!=null?P:0)+c.getNumber("pdash_download_cursor_between_catchups_seg")<((N=M==null?void 0:M.getSequenceNumber())!=null?N:0);if(A){var F,O,B;if(((F=w==null?void 0:w.getSequenceNumber())!=null?F:0)>((O=(B=E)==null?void 0:B.getSequenceNumber())!=null?O:0)){var W,q,U,V;this.$5[m].lastSkippedToSegmentNumber=(W=w==null?void 0:w.getSequenceNumber())!=null?W:0,this.$3.getOperationLogger("segment_locator").setInitiator("catchup").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v)}).setLength(((q=w==null?void 0:w.getSequenceNumber())!=null?q:0)-((U=(V=E)==null?void 0:V.getSequenceNumber())!=null?U:0)).setType(m).log()}E=w,S="catchup",I=!1,T=S}}else if(l==null){var H,G;E=n.getSegmentByTime(h),S="1st_run";var z=n.getTimeRanges();R={approx:String(n.canApproximateId()),ranges:String(z.length),mpdStartTime:z.length>0?String(z[z.length-1].startTime):null,mpdEndTime:z.length>0?String(z[z.length-1].endTime):null},this.$5[m].lastSkippedToSegmentNumber=(H=(G=E)==null?void 0:G.getSequenceNumber())!=null?H:0}if(I&&(I=L,T="stream_state"),I&&b>a)return this.$5[m].inBufferAheadTimeSince==null&&(this.$5[m].inBufferAheadTimeSince=Date.now()),{segment:null,initiator:"buffer_ahead_rule",userInfo:{bufferAheadSec:String(b),bufferedOffset:String(v),lastMaxSegNum:String(e(this.$5,m)),segment:E?String(E.getSequenceNumber()):null,computedBufferAheadTarget:String(a)}};!I&&b>a&&this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v),computedBufferAheadTarget:String(a)}).setReason("disabled_buffer_ahead_rule:"+(T||"")).setType(m).log();var j=u&&u.getSequenceNumber()||0,K=E&&E.getSequenceNumber()||0;if(E&&u&&j>=K){var Q=o("oz-player/streams/OzSegmentLocator").getEndingSequenceNumber(n);return(Q||0)>=j?{segment:u}:{segment:null,initiator:"mpd_refresh",userInfo:{leSegNum:String(j)}}}var X=i?o("oz-player/utils/OzSourceBufferUtil").getTotalInBufferedRanges(i.getBufferedRanges()):0,Y=i?o("oz-player/utils/OzSourceBufferUtil").getTotalBufferAheadOfPosition(i.getBufferedRanges(),r.getCurrentTime(),c).bufferAheadSec:0,J=s(this.$5,m),Z=Date.now();if(c.getNumber("download_cursor_total_buffer_max_sec")!=0&&c.getNumber("download_cursor_total_buffer_max_sec")<Y||c.getNumber("download_cursor_buffer_ahead_time_max_sec")!=0&&J!=null&&c.getNumber("download_cursor_buffer_ahead_time_max_sec")<(Z-J)/1e3){var ee,te;this.$5[m].lastSkippedToSegmentNumber=(ee=(te=E)==null?void 0:te.getSequenceNumber())!=null?ee:0,this.$3.getOperationLogger("segment_locator").setUserInfo({bufferAheadSec:String(b),bufferedOffset:String(v),totalBufferedSec:String(X),computedBufferAheadTarget:String(a),inBufferAheadElapsedTime:String((Z-(J!=null?J:0))/1e3)}).setReason("force_paired_catchup").setType(m).log()}return this.$5[m].inBufferAheadTimeSince=null,{segment:E,initiator:S||void 0,userInfo:R||void 0}},t})();l.OzPredictedSegmentLocator=u}),98);
__d("oz-player/utils/getRepresentationInCache",["oz-player/networks/RequestParamCreator"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("oz-player/networks/RequestParamCreator"));function s(t,n){return n===void 0&&(n=null),t.find(function(t){var r=t.getInitSegment(),o=r&&r.getByteRange();return r&&o&&n?n.hasCacheValue(e.createRequestParam(r.getURI(),o,"auto").uri.toString()):!1})||null}l.default=s}),98);
__d("oz-player/Player",["Promise","oz-player/configs/OzPlayerConfig","oz-player/drm/OzDrmManager","oz-player/loggings/OzDevConsolePerfLogger","oz-player/loggings/OzLoggingUtils","oz-player/loggings/OzMultiDestinationPerfLogger","oz-player/loggings/OzOperationLoggerObserver","oz-player/manifests/OzDynamicVideoLibrary","oz-player/manifests/OzVideoRepresentation","oz-player/media_source/MediaSourceManager","oz-player/media_source/OzMediaSeekableRangeManager","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClientClock","oz-player/networks/OzNetworkManager","oz-player/parsers/OzMpdParser","oz-player/parsers/OzMpdUpdater","oz-player/parsers/OzXmlParserImplDOMParser","oz-player/playback_controls/OzClearSourceBufferOnSeekManager","oz-player/playback_controls/OzLiveLatencyManager","oz-player/playback_controls/OzPlaybackTimeRangeManager","oz-player/playback_controls/OzPlayheadManager","oz-player/shims/OzEventEmitter","oz-player/shims/OzMaybeNativePromise","oz-player/shims/OzPerformance","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/OzUuid","oz-player/shims/ozClearTimeout","oz-player/shims/ozReportUnexpectedError","oz-player/shims/ozSetTimeoutAcrossTransitions","oz-player/shims/ozvariant","oz-player/states/OzObservedPlaybackState","oz-player/states/OzPositionToViewport","oz-player/strategies/OzAbrManager","oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy","oz-player/strategies/OzBlockedRepresentationsManager","oz-player/strategies/OzBufferAheadPriorityStrategy","oz-player/strategies/OzBufferAheadTargetStrategy","oz-player/strategies/OzBufferEndLimitStrategy","oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy","oz-player/strategies/OzBufferTargetCalculator","oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint","oz-player/strategies/OzBufferingDetector","oz-player/strategies/OzPausedStreamSegmentsCountStrategy","oz-player/strategies/OzPlayheadAtInterruptionDetector","oz-player/strategies/OzPlayingStatePriorityStrategy","oz-player/strategies/OzPositionToViewportPriorityStrategy","oz-player/strategies/OzPriorityCalculator","oz-player/strategies/OzSingleCodecRestriction","oz-player/strategies/OzStaleManifestBufferTargetStrategy","oz-player/strategies/OzStartupBufferTargetStrategy","oz-player/strategies/OzStaticStreamSegmentsStrategy","oz-player/strategies/OzStreamSegmentsCountCalculator","oz-player/strategies/OzSupportedMimeCodecsRestriction","oz-player/streams/OzEndOfStreamWatcher","oz-player/streams/OzHandleUserRepresentationSwitch","oz-player/streams/OzMediaStream","oz-player/streams/OzPredictedSegmentLocator","oz-player/utils/OzCustomErrorCode","oz-player/utils/OzErrorEmitter","oz-player/utils/OzErrorUtils","oz-player/utils/OzIbrUtils","oz-player/utils/OzMimeUtil","oz-player/utils/OzMpdUtils","oz-player/utils/OzPlaybackRestrictionsUtils","oz-player/utils/OzReadableStreamUtils","oz-player/utils/getRepresentationInCache"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e||r("oz-player/shims/ozvariant")(0,21876),e}var u="av01",c="vp09",d="avc1",m=(function(t){function a(e){var n;n=t.call(this)||this,n.$Player$p_5=new Map,n.$Player$p_6=new Map,n.$Player$p_9=void 0,n.$Player$p_10=new(r("oz-player/shims/OzSubscriptionsHandler")),n.$Player$p_11=new(r("oz-player/utils/OzErrorEmitter")),n.$Player$p_12=new(r("oz-player/utils/OzErrorEmitter")),n.$Player$p_19=void 0,n.$Player$p_25=[],n.$Player$p_26=void 0,n.$Player$p_27=void 0,n.$Player$p_32=null,n.$Player$p_33=null,n.$Player$p_43=null,n.$Player$p_51=!1,n.$Player$p_54=0,n.$Player$p_55=null,n.$Player$p_56=null,n.$Player$p_57=0,n.$Player$p_58=null,n.$Player$p_59=null,n.$Player$p_60=!1,n.$Player$p_63=null,n.$Player$p_64=null,n.$Player$p_70=!1,n.$Player$p_71=!1,n.$Player$p_76=!1,n.$Player$p_77=null,n.$Player$p_78=!1,n.$Player$p_89=function(){var e=new(r("oz-player/parsers/OzXmlParserImplDOMParser"));return e},n.$Player$p_91=function(){n.$Player$p_5.forEach(function(e){return e.endStreamIfBufferedToEndTime()})},n.$Player$p_92=function(){n.$Player$p_5.forEach(function(e){return e.endStream("streamGone")})};var a=e.audioOnly,i=a===void 0?!1:a,l=e.bufferingDetector,s=e.videoNode,u=e.config,c=e.configMap,d=e.rawMpdXml,m=e.mpdUrl,p=m===void 0?null:m,_=e.loggerConfig,f=_===void 0?{perfLoggerProviders:[],observedOperationLoggers:[],isOzDevConsoleEnabled:!1}:_,g=e.bandwidthEstimatorOverride,h=g===void 0?null:g,y=e.customVTTBufferTargetStrategies,C=y===void 0?null:y,b=e.shouldBlockStatusCode5xx,v=b===void 0?!1:b,S=e.prefetchCache,R=S===void 0?null:S,L=e.getOverrideOzRequestImplementation,E=L===void 0?null:L,k=e.getUserSelectedPlaybackRate,I=e.networkRequestStreamHandlers,T=e.networkRequestStreamRetryHandler,D=e.networkRequestUrlRefreshHandler,x=e.getShouldIncludeCredentials,$=x===void 0?null:x,P=e.getCustomRequestParametersForURI,N=P===void 0?null:P,M=e.initialRepresentationIDs,w=M===void 0?[]:M,A=e.debugCreateInitiator,F=A===void 0?null:A,O=e.customParsers,B=O===void 0?new Map:O,W=e.videoPlaybackRestrictions,q=W===void 0?[]:W,U=e.customSegmentTimelineParser,V=U===void 0?null:U,H=e.customRepresentationParsers,G=H===void 0?{}:H,z=e.networkRequestFetchPriority,j=z===void 0?"auto":z,K=e.videoAbrManagerFactory,Q=K===void 0?null:K,X=e.seekHandler,Y=X===void 0?null:X,J=e.initialPlaybackPositionForDynamicMpd,Z=J===void 0?-20:J,ee=e.liveheadFallBehindBlockThreshold,te=ee===void 0?30:ee,ne=e.liveheadFallBehindBlockMargin,re=ne===void 0?5.9:ne,oe=e.startTimeStamp,ae=oe===void 0?0:oe,ie=e.drmProviders,le=ie===void 0?[]:ie,se=e.getVideoDimensions,ue=se===void 0?null:se,ce=e.setCustomFetchStreamLoggingAttributes,de=ce===void 0?null:ce,me=e.bufferEndLimit,pe=me===void 0?null:me,_e=e.configureCustomRequestParametersForSegment,fe=_e===void 0?null:_e,ge=e.isClientTriggeredTraceEnabled,he=ge===void 0?!1:ge,ye=e.enableImmediateQualityDownSwitch,Ce=ye===void 0?!1:ye,be=e.userPreferenceLang,ve=be===void 0?null:be,Se=e.initiateLivePlaybackFromStart,Re=Se===void 0?!1:Se;n.$Player$p_1=C,n.$Player$p_49=F;var Le=f.perfLoggerProviders,Ee=f.observedOperationLoggers,ke=f.isOzDevConsoleEnabled;if(n.$Player$p_17=ke||!1,n.$Player$p_16=new(o("oz-player/loggings/OzMultiDestinationPerfLogger")).OzMultiDestinationPerfLoggerProvider(n.$Player$p_79().concat(Le)),n.$Player$p_2=i,n.$Player$p_4=u!=null?u:new(r("oz-player/configs/OzPlayerConfig"))(c!=null?c:{}),n.$Player$p_78=n.$Player$p_4.getBool("enable_managed_media_source")&&!!window.ManagedMediaSource,n.$Player$p_75=n.$Player$p_78?"changeType"in window.ManagedSourceBuffer.prototype:"changeType"in window.SourceBuffer.prototype,n.$Player$p_12.onError(function(){}),n.$Player$p_22=new(r("oz-player/loggings/OzOperationLoggerObserver")),n.$Player$p_22.observe(Ee,n.$Player$p_16),n.$Player$p_16.getOperationLogger("player_initialization").setInitiator("player-"+r("oz-player/shims/OzUuid")()).log(),n.$Player$p_53=E,n.$Player$p_28=B,n.$Player$p_67=new(r("oz-player/strategies/OzBlockedRepresentationsManager"))(n.$Player$p_4,v),n.$Player$p_10.addSubscriptions(n.$Player$p_67.onRepresentationBlocked(function(e){n.emit("representationBlocked",e)})),n.$Player$p_31=[n.$Player$p_67,new(r("oz-player/strategies/OzSupportedMimeCodecsRestriction"))(n.$Player$p_78)].concat(q),n.$Player$p_75||n.$Player$p_31.push(new(r("oz-player/strategies/OzSingleCodecRestriction"))),n.$Player$p_29=G,n.$Player$p_30=V,n.$Player$p_35=Q,n.$Player$p_36=Y,n.$Player$p_37=ae,n.$Player$p_38=Re?ae:Z,n.$Player$p_41=k!=null?k:function(){return 1},n.$Player$p_39=te,n.$Player$p_42=re,n.$Player$p_66=pe,n.$Player$p_69=he,n.$Player$p_71=Ce,n.$Player$p_47=le,n.$Player$p_63=de,n.$Player$p_3=s,n.$Player$p_7=new(r("oz-player/media_source/MediaSourceManager"))({videoNode:n.$Player$p_3,config:n.$Player$p_4,perfLoggerProvider:n.$Player$p_16,isChangeTypeSupported:n.$Player$p_75,useManagedMediaSource:n.$Player$p_78,handleVttCaptionsUpdated:function(t){var e,r=(e=n.$Player$p_5.get("caption"))==null||(e=e.getCurrentRepresentation())==null?void 0:e.getLang();n.emit("vttCaptionsUpdated",t,r)},onClearVideoNodeError:function(){n.$Player$p_80()},onRetryVideoElementError:function(t){n.emit("videoNodeErrorRetry",t)}}),n.$Player$p_7.onError(function(e){n.$Player$p_11.emitError(e)}),n.$Player$p_4.getBool("clear_on_seek")){var Ie=new(r("oz-player/playback_controls/OzClearSourceBufferOnSeekManager"))(n.$Player$p_3,n.$Player$p_4,n.$Player$p_5,n.$Player$p_16);Ie.maybeOverwriteVideoCurrentTimeProperty(),n.$Player$p_10.addSubscriptions(Ie.onError(n.$Player$p_11.emitError)),n.$Player$p_64=Ie}n.$Player$p_24=R;var Te=n.$Player$p_24&&n.$Player$p_24.getCachedRepresentations();return n.$Player$p_25=Te||w,n.$Player$p_65=new(r("oz-player/manifests/OzDynamicVideoLibrary"))({config:n.$Player$p_4}),n.$Player$p_44=I,n.$Player$p_45=$,n.$Player$p_46=N,n.$Player$p_68=fe,n.$Player$p_77=h!=null?h:r("oz-player/networks/OzBandwidthEstimator"),n.$Player$p_13=new(r("oz-player/networks/OzNetworkManager"))({config:n.$Player$p_4,prefetchCache:n.$Player$p_24,networkRequestStreamHandlers:n.$Player$p_44,getOverrideOzRequestImplementation:n.$Player$p_53,getShouldIncludeCredentials:n.$Player$p_45,getCustomRequestParametersForURI:n.$Player$p_46,networkRequestFetchPriority:j,networkRequestStreamRetryHandler:T,networkRequestUrlRefreshHandler:D,setCustomFetchStreamLoggingAttributes:n.$Player$p_63,dynamicVideoLibrary:n.$Player$p_65,configureCustomRequestParametersForSegment:n.$Player$p_68,onResourceTimingBufferFull:function(){n.$Player$p_81()},bandwidthEstimator:n.$Player$p_77}),n.$Player$p_18=p,n.$Player$p_8=d,n.$Player$p_14=new(r("oz-player/states/OzObservedPlaybackState"))(n.$Player$p_4,n.$Player$p_3,n.$Player$p_16),n.$Player$p_52=ue,n.$Player$p_15=new(r("oz-player/streams/OzEndOfStreamWatcher"))(n.$Player$p_7,n.$Player$p_4),n.$Player$p_10.addSubscriptions(n.$Player$p_15.addListener("streamEnd",function(){n.$Player$p_51=!0,n.emit("streamEnd")})),n.$Player$p_50=l!=null?l:n.$Player$p_82(),n.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&(n.$Player$p_61=new(r("oz-player/states/OzPositionToViewport"))(n.$Player$p_3,n.$Player$p_4)),n.$Player$p_72=ve,n.$Player$p_73=null,n.$Player$p_74={lang:null,role:null},n}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.$Player$p_81=function(){this.$Player$p_70||(r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_JAVASCRIPT_NATIVE",description:"ResourceTiming buffer is full"}),"ResourceTiming buffer is full","warn"),this.$Player$p_70=!0)},i.$Player$p_83=function(t){var e=this;this.$Player$p_84();var n=o("oz-player/loggings/OzLoggingUtils").executeOperationAndLog(this.$Player$p_16.cloneContext().setInitiator(this.$Player$p_49),"parse_manifest",function(n){var r,a,i=e.$Player$p_85(t),l=String((r=i.getCustomField("currentServerTimeMs"))!=null?r:""),s=String((a=i.getCustomField("lastVideoFrameTs"))!=null?a:""),u={currentServerTimeMs:l,ingestLastVideoFrameTs:s,nowMs:String(Date.now())},c=o("oz-player/utils/OzMpdUtils").getMpdLastTimeRange(i,e.$Player$p_4),d=c&&c.endTime!=0?c.endTime:null;return n.setLiveheadPosition(d).setLiveheadSeqNumMpd(o("oz-player/utils/OzMpdUtils").getMpdLastSequenceNumber(i)).setManifestType(i.isStaticMpd()?"static":"dynamic").setIsMixedCodecManifest(e.$Player$p_76).setIsTemplatedManifest(!!i.getCustomField("isLiveTemplated")).setUserInfo(u),i});this.$Player$p_86(n)},i.$Player$p_86=function(t){var e=this,n,a;if(this.$Player$p_9=s(t),this.$Player$p_4.getBool("player_emit_mpdparsed_early")&&this.emit("mpdParsed",t),this.$Player$p_26=this.$Player$p_87(),this.$Player$p_27=this.$Player$p_88(),this.$Player$p_67.setAvailableRepresentationsCount(t.getVideoRepresentations().length),this.$Player$p_18!=null){var i=new(r("oz-player/parsers/OzMpdUpdater"))(this.$Player$p_4,t,this.$Player$p_13,this.$Player$p_14,this.$Player$p_16,{mpdUrl:null,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},this.$Player$p_48,this.$Player$p_69,this.$Player$p_78);this.$Player$p_90(i),this.$Player$p_10.addSubscriptions(i.onError(this.$Player$p_11.emitError),i.addListener("manifestFetchError",function(t){return e.emit("manifestFetchError",t)}),i.addListener("manifestFetchErrorRetry",function(t){return e.emit("manifestFetchErrorRetry",t)}),i.addListener("streamTransitionToStatic",this.$Player$p_91),i.addListener("streamGone",this.$Player$p_92)),i.setupUpdateLoop(),this.$Player$p_21=i}this.$Player$p_4.getBool("use_live_latency_manager")?t.isStaticMpd()?this.$Player$p_37=this.$Player$p_37:(this.$Player$p_40=new(r("oz-player/playback_controls/OzLiveLatencyManager"))({config:this.$Player$p_4,mpd:t,playbackState:this.$Player$p_14,bufferingDetector:this.$Player$p_50,video:this.$Player$p_3,loggerProvider:this.$Player$p_16,getUserSelectedPlaybackRate:this.$Player$p_41}),this.$Player$p_37=this.$Player$p_40.getPreferredLiveHeadLatencySec()*-1):this.$Player$p_37=t.isStaticMpd()?this.$Player$p_37:this.$Player$p_93(t),this.$Player$p_19=new(r("oz-player/playback_controls/OzPlayheadManager"))({video:this.$Player$p_3,mpd:t,dynamicVideoLibrary:this.$Player$p_65,playheadCatchup:this.$Player$p_34,playbackState:this.$Player$p_14,config:this.$Player$p_4,perfLoggerProvider:this.$Player$p_16,seekHandler:this.$Player$p_36,initialPlaybackPosition:this.$Player$p_37,canSupportSkipVideobufferGaps:(n=(a=this.$Player$p_64)==null?void 0:a.getCurrentTimePropertyOverwriteSuccess())!=null?n:!1,liveLatencyManager:this.$Player$p_40}),this.$Player$p_20=new(r("oz-player/playback_controls/OzPlaybackTimeRangeManager"))({config:this.$Player$p_4,video:this.$Player$p_3,mpd:t,liveheadFallBehindBlockThreshold:this.$Player$p_39,liveheadFallBehindBlockMargin:this.$Player$p_42,playbackState:this.$Player$p_14,perfLoggerProvider:this.$Player$p_16}),this.$Player$p_94().catch(function(t){var n=o("oz-player/utils/OzErrorUtils").isOzError(t)?t:null;e.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup streams: "+String(t),extra:babelHelpers.extends({},n==null?void 0:n.getExtra(),{originalError:t,code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()})}))}),this.emit("mpdReady",t)},i.load=function(t){var e=this;this.$Player$p_18=t;try{var n=this.$Player$p_8;n!=null?this.$Player$p_83(n):t!=null?this.$Player$p_95(t).then(function(t){if(e.$Player$p_60){e.$Player$p_60=!1,e.load(e.$Player$p_18);return}e.$Player$p_8=t,e.$Player$p_54=0,e.$Player$p_83(t)}).catch(function(n){if(e.$Player$p_60){e.$Player$p_60=!1,e.load(e.$Player$p_18);return}var r=o("oz-player/utils/OzErrorUtils").isOzError(n)?n:null,a=o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player with fetched MPD: "+String(n),extra:babelHelpers.extends({},r==null?void 0:r.getExtra(),{originalError:n,url:t})});e.$Player$p_96(a,t)}):this.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Cannot start Oz without a raw mpd xml or mpd url"}))}catch(e){var r=o("oz-player/utils/OzErrorUtils").isOzError(e)?e:null;this.$Player$p_11.emitError(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Failed to setup player: "+String(e),extra:babelHelpers.extends({},r==null?void 0:r.getExtra(),{originalError:e})}))}},i.$Player$p_93=function(t){var e,n,r=(e=t.getVideoRepresentations()[0].getMaxGopSec())!=null?e:0,o=(n=t.getVideoRepresentations()[0].getEndingSegment())==null?void 0:n.getTimeRange(),a=o!=null?o.endTime-o.startTime:0;return a>0&&(r=a),Math.min(this.$Player$p_38+this.$Player$p_4.getNumber("dynamic_mpd_initial_playback_position_offset_modifier"),-1*r*this.$Player$p_4.getNumber("pdash_download_cursor_catchup_threshold_gop_multiplier"))},i.$Player$p_95=function(t){this.$Player$p_54++;var e=this.$Player$p_13.requestRawUrl({debugName:"OzPlayer/fetchMpdXml/mpd",url:t,options:null,loggerProvider:this.$Player$p_16}),n=e.getStream().getReader();return o("oz-player/utils/OzReadableStreamUtils").pumpString(n)},i.$Player$p_97=function(){this.$Player$p_55!=null&&(r("oz-player/shims/ozClearTimeout")(this.$Player$p_55),this.$Player$p_55=null)},i.$Player$p_96=function(t,n){var e=this,o=!0,a=this.$Player$p_54-1,i=t.getExtra().code;this.$Player$p_56!==i?(this.$Player$p_56=i,this.$Player$p_57=1):this.$Player$p_57++;var l=function(){o=!1},s={endStream:function(){l(),e.$Player$p_51=!0,e.emit("streamGoneBeforeStart")},consecutiveFailuresForErrorCode:this.$Player$p_57,error:t,isInitialRequest:!0,retry:function(o){l(),e.$Player$p_97(),e.$Player$p_55=r("oz-player/shims/ozSetTimeoutAcrossTransitions")(function(){e.$Player$p_97(),e.load(n)},(o==null?void 0:o.waitMs)!=null?o==null?void 0:o.waitMs:1e3)},retryAttemptCount:a};this.$Player$p_4.getNumber("initial_manifest_request_retry_count")>0&&this.emit("manifestFetchError",s),o&&this.$Player$p_11.emitError(t)},i.updatePlayerRunTimeConfig=function(t){var e=t.manifestUrl,n=t.audioStreamDataHandler,r=t.videoStreamDataHandler,o=t.applicationStreamDataHandler,a=t.resetStreamAnchor;if(r!==void 0){var i=this.$Player$p_5.get("video");i&&i.updateRunTimeConfigs({streamDataHandler:r})}if(a!==void 0){var l,s=this.$Player$p_5.get("video");s&&s.updateRunTimeConfigs({resetStreamAnchor:a});var u=this.$Player$p_5.get("audio");u&&u.updateRunTimeConfigs({resetStreamAnchor:a}),(l=this.$Player$p_19)==null||l.resetCurrentTime()}if(n!==void 0){var c=this.$Player$p_5.get("audio");c&&c.updateRunTimeConfigs({streamDataHandler:n})}if(o!==void 0){var d=this.$Player$p_5.get("caption");d&&d.updateRunTimeConfigs({streamDataHandler:o,resetStreamAnchor:a})}e!=null&&e!==""&&this.$Player$p_98(e)},i.$Player$p_99=function(t,n){var e=this,r=t.getMimeCodecs(),a=this.$Player$p_7.createSourceBufferManager(n+"/"+t.getMimeType()+"/"+t.getCodecs(),r,n,t.getInitSegment().getData());this.$Player$p_100(a,n,t);var i=a.then(function(t){return e.$Player$p_50&&n!=="caption"&&e.$Player$p_50.setSourceBufferState(n,t.getSourceBufferState()),t});return o("oz-player/loggings/OzLoggingUtils").monitorPromiseAndLogOperation(i,this.$Player$p_16,"source_attach",function(e){e.setType(n)}),i.then(function(t){if(n!=="caption"){var r;(r=e.$Player$p_19)==null||r.observeSourceBufferState(t.getSourceBufferState(),n)}})},i.isDrm=function(){var e=this.$Player$p_48;if(e!=null){var t=e.hasContentProtections();return t!=null?t:!1}return!1},i.$Player$p_84=function(){var e=this.$Player$p_47;if(e.length>0){var t=this.$Player$p_48=new(o("oz-player/drm/OzDrmManager")).OzDrmManager(this.$Player$p_16,this.$Player$p_3,{maxStartEMEAttempts:this.$Player$p_4.getNumber("max_start_eme_attempts"),throwNoLicenseError:!0});e.forEach(function(e){t.addProvider(e)}),this.$Player$p_10.addSubscriptions(t.onError(this.$Player$p_11.emitError))}},i.$Player$p_101=function(t){var e=this,n=s(this.$Player$p_9),o=[this.$Player$p_4,t,this.$Player$p_102(),this.$Player$p_31,this.$Player$p_14,window.devicePixelRatio||1,function(){return e.$Player$p_103()},n.isStaticMpd()?"static":"dynamic",this.$Player$p_16],a=this.$Player$p_35&&this.$Player$p_35.apply(this,o);return a!=null?a:babelHelpers.construct(r("oz-player/strategies/OzAbrManager"),o)},i.$Player$p_104=function(t){return t==="caption"},i.$Player$p_100=function(t,n,a){var e=this,i=s(this.$Player$p_9),l=this.$Player$p_6.get(n),u=new(r("oz-player/streams/OzMediaStream"))({config:this.$Player$p_4,sourceBufferManagerPromise:t,networkManager:this.$Player$p_13,playbackState:this.$Player$p_14,endOfStreamWatcher:n!=="caption"?this.$Player$p_15:null,bufferTargetCalculator:this.$Player$p_105(n),priorityCalculator:this.$Player$p_106(),streamSegmentsCountCalculator:this.$Player$p_107(n),abrManager:l,representation:a,loggerProvider:this.$Player$p_16.cloneContext().setType(n),segmentLocator:this.$Player$p_62,setCustomFetchStreamLoggingAttributes:this.$Player$p_63,blockedRepresentationsManager:this.$Player$p_67,dynamicVideoLibrary:this.$Player$p_65,shouldAppendOncePerStream:this.$Player$p_104(n),mediaStreamType:n,warningEmitter:this.$Player$p_12,mpd:i});this.$Player$p_37===0?u.start():(s(this.$Player$p_9),this.$Player$p_19&&this.$Player$p_10.addSubscriptions(this.$Player$p_19.addListener("initialPlaybackPositionSet",function(){u.start()}))),this.$Player$p_10.addSubscriptions(u.onError(this.$Player$p_11.emitError)),this.$Player$p_23&&this.$Player$p_10.addSubscriptions(this.$Player$p_23.listenToMediaStreamInitAppended(u)),n==="video"&&(this.$Player$p_33=new(r("oz-player/streams/OzHandleUserRepresentationSwitch"))(this.$Player$p_4,this.$Player$p_14,o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),this.$Player$p_102()),u,t,this.$Player$p_71),this.$Player$p_10.addSubscriptions(this.$Player$p_33.onError(this.$Player$p_11.emitError))),this.$Player$p_5.set(n,u),this.$Player$p_10.addSubscriptions(u.addListener("switchRepresentation",function(){var t,r,o,a=u.getCurrentRepresentation();(t=e.$Player$p_23)==null||t.setTimeRangeProvider(a),(r=e.$Player$p_19)==null||r.setTimeRangeProvider(a),(o=e.$Player$p_20)==null||o.setTimeRangeProvider(a),n==="video"&&e.emit("switchVideoRepresentation")}),u.addListener("SegmentAppended",function(t){e.$Player$p_108("SegmentAppended",t)}),u.addListener("streamError",function(t){e.emit("streamError",t)}),u.addListener("streamErrorRetry",function(t){e.emit("streamErrorRetry",t)}))},i.$Player$p_109=function(){return this.$Player$p_66!=null?[new(r("oz-player/strategies/OzBufferEndLimitStrategy"))(this.$Player$p_3,this.$Player$p_66)]:[new(r("oz-player/strategies/OzStaleManifestBufferTargetStrategy"))(s(this.$Player$p_9),this.$Player$p_4),new(r("oz-player/strategies/OzStartupBufferTargetStrategy"))(this.$Player$p_14,this.$Player$p_4),new(r("oz-player/strategies/OzBufferAheadTargetStrategy"))(this.$Player$p_4)]},i.$Player$p_110=function(){return this.$Player$p_66==null?[new(r("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:this.$Player$p_4.getNumber("buffer_target_constraint_minimum_sec")})]:[]},i.$Player$p_111=function(){return this.$Player$p_66==null?[new(r("oz-player/strategies/OzBufferTargetCalculatorQuotaExceededConstraint"))({config:this.$Player$p_4,minimumBufferTargetSec:0})]:[]},i.$Player$p_87=function(){return new(r("oz-player/strategies/OzBufferTargetCalculator"))(this.$Player$p_109(),this.$Player$p_110())},i.$Player$p_88=function(){return this.$Player$p_1!=null?new(r("oz-player/strategies/OzBufferTargetCalculator"))([].concat(this.$Player$p_1,this.$Player$p_109()),this.$Player$p_111()):this.$Player$p_87()},i.$Player$p_105=function(t){var e=t==="caption"?this.$Player$p_27:this.$Player$p_26;return e||r("oz-player/shims/ozvariant")(0,76764,t),e},i.$Player$p_90=function(t){var e=this;if(this.$Player$p_4.getNumber("stream_interrupt_check_mpd_stale_count_threshold")>0){var n=this.$Player$p_50,o=new(r("oz-player/strategies/OzPlayheadAtInterruptionDetector"))(this.$Player$p_3,n);this.$Player$p_10.addSubscriptions(o.addListener("playheadAtInterruption",function(t){e.$Player$p_16.getOperationLogger("stream_interrupted").log(),e.emit("streamInterruptAt",t)}),t.addListener("streamInterruptAt",function(t){var n;(n=e.$Player$p_50)==null||n.notifyStreamInterrupted(),o.notifyStreamInterrupted(t)}),t.addListener("streamResumedAt",function(t){var n;e.$Player$p_16.getOperationLogger("stream_resumed").log(),(n=e.$Player$p_50)==null||n.notifyStreamResumed(),o.notifyStreamResumed(),e.emit("streamResumedAt",t)})),this.$Player$p_32=o}},i.$Player$p_106=function(){var e=[new(r("oz-player/strategies/OzPlayingStatePriorityStrategy"))(this.$Player$p_14),new(r("oz-player/strategies/OzBufferAheadPriorityStrategy"))(this.$Player$p_4,this.$Player$p_14)].concat(this.$Player$p_4.getNumber("pixels_below_viewport_to_observe")>0&&this.$Player$p_61!=null?new(r("oz-player/strategies/OzPositionToViewportPriorityStrategy"))(this.$Player$p_61,this.$Player$p_4):[]);return new(r("oz-player/strategies/OzPriorityCalculator"))(e)},i.$Player$p_107=function(t){var e=[new(r("oz-player/strategies/OzStaticStreamSegmentsStrategy"))(this.$Player$p_4),new(r("oz-player/strategies/OzBufferTargetBoundedStreamSegmentsCountStrategy"))(this.$Player$p_105(t),this.$Player$p_4)];return this.$Player$p_4.getNumber("paused_stream_segments_count")!==0&&e.push(new(r("oz-player/strategies/OzPausedStreamSegmentsCountStrategy"))(this.$Player$p_14,this.$Player$p_4)),t==="video"&&e.push(new(r("oz-player/strategies/OzBandwidthBoundaryStreamSegmentsCountStrategy"))(this.$Player$p_4,this.$Player$p_102())),new(r("oz-player/strategies/OzStreamSegmentsCountCalculator"))(e)},i.onError=function(t){return this.$Player$p_11.onError(t)},i.onWarning=function(t){return this.$Player$p_12.onError(t)},i.getSelectedVideoQuality=function(){var e=this.$Player$p_9;if(!e||this.$Player$p_2)return null;var t=this.$Player$p_5.get("video"),n=t&&t.getCurrentRepresentation();if(n instanceof r("oz-player/manifests/OzVideoRepresentation"))return n.getDisplayLabel();var o=this.$Player$p_102(),a=o[0];return a?a.getDisplayLabel():null},i.getTargetAudioTrack=function(){var e=this.$Player$p_9;if(!e)return null;var t=this.$Player$p_5.get("audio"),n=t&&t.getCurrentRepresentation();if(n){var r;return{id:n.getID(),displayLabel:n.getDisplayLabel(),lang:(r=n.getLang())!=null?r:null,role:n.getRole(),mimeCodecs:n.getMimeCodecs(),variantKey:n.getVariantKey()}}var o=this.$Player$p_112(),a=o[0];return a?a.getAudioTrack():null},i.getCurrentPlayingVideoVariant=function(){return this.$Player$p_73},i.getTargetVideoVariant=function(){return this.$Player$p_74},i.switchToVideoQuality=function(t){var e=this.$Player$p_102().find(function(e){return e.getDisplayLabel()===t});if(e){var n=this.$Player$p_5.get("video");n&&(n.switchRepresentation(e),n.disableAdaptation())}},i.switchToVideoVariant=function(t){var e,n,a,i;if(this.$Player$p_74=t===null?{lang:null,role:null}:t,this.$Player$p_74.lang===((e=(n=this.$Player$p_73)==null?void 0:n.lang)!=null?e:null)&&this.$Player$p_74.role===((a=(i=this.$Player$p_73)==null?void 0:i.role)!=null?a:null)){var l,s,u,c;r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant switch to the same lang: "+((l=this.$Player$p_74.lang)!=null?l:"default lang")+", same role: "+((s=this.$Player$p_74.role)!=null?s:"default role")}),"switchToVideoVariant switch to the same lang: "+((u=this.$Player$p_74.lang)!=null?u:"default lang")+", same role: "+((c=this.$Player$p_74.role)!=null?c:"default role"),"warn");return}else if(this.$Player$p_9){if(!this.$Player$p_113(this.$Player$p_74.lang)){var d,m,p,_;r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant lang not exist in mpd: "+((d=this.$Player$p_74.lang)!=null?d:"default lang")+", same role: "+((m=this.$Player$p_74.role)!=null?m:"default role")}),"switchToVideoVariant lang not exist in mpd: "+((p=this.$Player$p_74.lang)!=null?p:"default lang")+", same role: "+((_=this.$Player$p_74.role)!=null?_:"default role"),"warn");return}}else{r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchToVideoVariant mpd is void"}),"switchToVideoVariant mpd is void","warn");return}this.$Player$p_114(),this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75&&this.$Player$p_115(),this.$Player$p_73=this.$Player$p_74},i.$Player$p_114=function(){var e=this.$Player$p_112()[0];if(e){var t=this.$Player$p_5.get("audio");t&&(t.switchRepresentation(e,[0,this.$Player$p_14.getDuration()]),t.disableAdaptation())}},i.$Player$p_115=function(){var e=this.$Player$p_5.get("video");if(e){var t=e.getCurrentRepresentation();if(!(t.getLang()===this.$Player$p_74.lang&&t.getRole()===this.$Player$p_74.role)){var n=this.$Player$p_102();if(n.length===0){r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant no representations with target variant: "+JSON.stringify(this.$Player$p_74),"warn");return}var a,i=this.$Player$p_6.get("video");if(i?(i.updateRepresentations(n),a=i.getBestRepresentation()):a=n[0],!a){r("oz-player/shims/ozReportUnexpectedError")(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_SWITCH_VARIANT",description:"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74)}),"switchVideoByTargetVariant unable to update representations given target variant: "+JSON.stringify(this.$Player$p_74));return}e.switchRepresentation(a,[0,this.$Player$p_14.getDuration()])}}},i.getIsVideoQualityAdaptationEnabled=function(){var e=this.$Player$p_5.get("video");return e?e.getIsAdaptationEnabled():!1},i.enableVideoQualityAdaptation=function(){var e=this.$Player$p_5.get("video");e&&e.enableAdaptation()},i.getVideoQualities=function(){var e=this,t=this.$Player$p_9;if(!t)return[];var n=this.$Player$p_102().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}),r=n.some(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===u}),a=n.some(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===c}),i=r?n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===u}):a?n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===c}):n.filter(function(e){return o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getCodecs())===d});return i.sort(function(e,t){return e.getBandwidth()-t.getBandwidth()}).map(function(e){return e.getDisplayLabel()})},i.getVideoTracks=function(){var e=this,t=this.$Player$p_9;return t?this.$Player$p_102().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}).map(function(e){return{mimeCodecs:e.getMimeCodecs(),codec:e.getCodecs(),codecFamily:o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(e.getMimeCodecs()),displayLabel:e.getDisplayLabel(),qualityLabel:e.getDisplayLabel(),height:e.getHeight(),id:e.getID(),qualityScoreCurveString:e.getQualityScoreCurveString("csvqm"),width:e.getWidth(),lang:e.getLang(),role:e.getRole(),variantKey:e.getVariantKey()}}):[]},i.getAudioTracks=function(){var e=this,t=this.$Player$p_9;return t?t.getAudioRepresentations().filter(function(t){var n;return!((n=e.$Player$p_67)!=null&&n.isBlocked(t.getID()))}).map(function(e){return e.getAudioTrack()}):[]},i.setEnableLiveheadCatchup=function(t){var e;if(this.$Player$p_20){var n;t?this.$Player$p_16.getOperationLogger("live_catchup_enabled").setIsLatencyCachupEnabled(!0).log():this.$Player$p_16.getOperationLogger("live_catchup_disabled").setIsLatencyCachupEnabled(!1).log(),(n=this.$Player$p_20)==null||n.setTimelineBlockingEnabled(t)}this.$Player$p_5.forEach(function(e){e.setEnableLiveheadCatchup(t)}),(e=this.$Player$p_19)==null||e.setEnableLiveheadCatchup(t)},i.$Player$p_94=function(){var t=this;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_113(this.$Player$p_72)){var r;this.$Player$p_74=babelHelpers.extends({},this.$Player$p_74,{lang:(r=this.$Player$p_72)!=null?r:null,role:this.$Player$p_72!=null?"dub":null})}var a=this.$Player$p_102()[0];this.$Player$p_62=a&&a.canPredict()&&this.$Player$p_4.getBool("pdash_use_pdash_segmentlocator")||a&&a.canApproximateId()?new(o("oz-player/streams/OzPredictedSegmentLocator")).OzPredictedSegmentLocator({videoNode:this.$Player$p_3,liveLatencyManager:this.$Player$p_40,loggerProvider:this.$Player$p_16,dynamicVideoLibrary:this.$Player$p_65}):null;var i=this.$Player$p_2?[this.$Player$p_116({liveConfigsFromAudioStream:!0}),this.$Player$p_117()]:[this.$Player$p_118(),this.$Player$p_116({liveConfigsFromAudioStream:!1}),this.$Player$p_117()],l=[];return(e||(e=n("Promise"))).all(i).then(function(){var e=t.$Player$p_5.get("video"),n=t.$Player$p_5.get("audio"),r=t.$Player$p_5.get("caption");e&&l.push(e.getCurrentRepresentation()),n&&l.push(n.getCurrentRepresentation()),r&&l.push(r.getCurrentRepresentation()),l.forEach(function(e){t.$Player$p_10.addSubscriptions(e.addUpdateListener(function(){t.$Player$p_108("SegmentIndexesUpdated",l)}))}),t.$Player$p_108("InitialSegmentIndexes",l),t.$Player$p_3&&t.$Player$p_3.style&&(t.$Player$p_3.style.display=t.$Player$p_2?"none":"block"),t.$Player$p_73=t.$Player$p_74,t.emit("initialized")})},i.$Player$p_119=function(t){if(!t.getTimeRanges().length){this.$Player$p_16.getOperationLogger("playhead_adjustment").setInitiator("setup_initial_duration").setResult("failed").log();return}var e=t.getTimeRanges()[t.getTimeRanges().length-1].endTime;this.$Player$p_7.updateDuration(e,!0)},i.$Player$p_120=function(t){var e,n,o;this.$Player$p_23=new(r("oz-player/media_source/OzMediaSeekableRangeManager"))(this.$Player$p_7,this.$Player$p_4),this.$Player$p_119(t),(e=this.$Player$p_23)==null||e.setTimeRangeProvider(t),(n=this.$Player$p_19)==null||n.setTimeRangeProvider(t),(o=this.$Player$p_20)==null||o.setTimeRangeProvider(t)},i.$Player$p_118=function(){var e=this.$Player$p_102();if(!e.length)return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"No video representations in the manifest",extra:{code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}));var t=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),e);if(!t.length){var n=e.map(function(e){return e.getDisplayLabel()+"@"+e.getWidth()+"x"+e.getHeight()+"("+e.getMimeCodecs()+")"});return r("oz-player/shims/OzMaybeNativePromise").reject(o("oz-player/utils/OzErrorUtils").createOzError({type:"OZ_INITIALIZATION",description:"Restricted all video representations: "+n.join(", "),extra:{code:r("oz-player/utils/OzCustomErrorCode").SETUP_STREAMS_PROMISE_REJECTION.toString()}}))}this.$Player$p_120(t[0]);var a=this.$Player$p_121(t);a&&this.$Player$p_4.getBool("enable_abr_logging")&&this.$Player$p_16.getOperationLogger("video_stream_setup_initial_representation_from_prefetch").setResult("success").setReason("player_initialized").setRepresentationID(a.getID()).setPreviousRepresentationID(null).setUserInfo({initialRepresentationIDs:JSON.stringify(this.$Player$p_25)}).setType("video").setInitiator("Player").log();var i=this.$Player$p_101(a||t[0]);return this.$Player$p_6.set("video",i),a||(a=i.getBestRepresentation()),this.$Player$p_99(a||t[0],"video")},i.$Player$p_102=function(){var e=this.$Player$p_9;if(!e)return[];var t=e.getVideoRepresentations();if(this.$Player$p_4.getBool("enable_lip_sync_abr_select_quality")&&this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&this.$Player$p_75){var n=e.getVideoRepresentationsByVariant(this.$Player$p_74);t=n.length>0?n:e.getVideoRepresentationsByVariant({lang:null,role:null})}var r=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),t);return t.filter(function(e){return r.includes(e)})},i.$Player$p_112=function(){var e=this.$Player$p_9;return e?this.$Player$p_4.getBool("enable_alternative_audio_tracks")?e.getAudioRepresentationsByVariant(this.$Player$p_74):e.getAudioRepresentations():[]},i.$Player$p_113=function(t){var e=this.$Player$p_9;if(!e)return!1;var n=e.getAudioRepresentations();if(t==null)return!0;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&e.isStaticMpd()){var r=-1;return r=n.findIndex(function(e){return e.getLang()===t}),r>-1}return!1},i.$Player$p_116=function(t){var e=this,n=t.liveConfigsFromAudioStream,o=n===void 0?!1:n,a=s(this.$Player$p_9),i=a.getAudioRepresentations();o&&this.$Player$p_120(i[0]);var l=-1;if(this.$Player$p_4.getBool("enable_alternative_audio_tracks")&&i.length>1&&a.isStaticMpd()&&this.$Player$p_72!=null&&(l=i.findIndex(function(t){return t.getLang()===e.$Player$p_72})),i.length){var u=l>-1?l:i.findIndex(function(e){return e.getLang()==null&&e.getRole()==null}),c=u>-1?u:0;return this.$Player$p_99(l>=0&&l<i.length?i[l]:this.$Player$p_122(i)||i[c],"audio")}return r("oz-player/shims/OzMaybeNativePromise").resolve()},i.$Player$p_117=function(){var e=s(this.$Player$p_9),t=e.getApplicationRepresentations();return t.length?this.$Player$p_99(this.$Player$p_123(t)||t[0],"caption"):r("oz-player/shims/OzMaybeNativePromise").resolve()},i.getMpd=function(){return this.$Player$p_9},i.destroy=function(o){var t,a,i=this,l=this.$Player$p_16.getOperationLogger("unload").setInitiator(o).start();(t=this.$Player$p_64)==null||t.destroy(),this.$Player$p_97(),this.$Player$p_5.forEach(function(e){e.destroy()}),this.$Player$p_33&&(this.$Player$p_33.destroy(),this.$Player$p_33=null),this.$Player$p_5=new Map,this.$Player$p_10.release(),this.$Player$p_10.engage(),this.$Player$p_14.destroy(),this.$Player$p_19&&this.$Player$p_19.destroy(),this.$Player$p_40&&(this.$Player$p_40.destroy(),this.$Player$p_40=null),this.$Player$p_20&&(this.$Player$p_20.destroy(),this.$Player$p_20=null),this.$Player$p_48&&this.$Player$p_48.destroy(),this.$Player$p_61&&this.$Player$p_61.destroy(),this.$Player$p_13&&this.$Player$p_13.destroy(),this.$Player$p_52&&(this.$Player$p_52=null),this.$Player$p_7&&this.$Player$p_7.detach(),this.$Player$p_3.pause(),this.$Player$p_4.getBool("enable_revoke_object_url_on_destroy")&&URL.revokeObjectURL(this.$Player$p_3.src),this.$Player$p_3.setAttribute("src",""),this.$Player$p_3.removeAttribute("src"),this.$Player$p_3.removeAttribute("srcObject");var s=(e||(e=n("Promise"))).resolve();return typeof this.$Player$p_3.setMediaKeys=="function"&&(s=this.$Player$p_3.setMediaKeys(null)),this.$Player$p_21&&this.$Player$p_21.destroy(),this.$Player$p_32&&this.$Player$p_32.destroy(),this.$Player$p_22.destroy(),(a=this.$Player$p_23)==null||a.destroy(),this.$Player$p_50&&this.$Player$p_50.destroy(),this.$Player$p_67&&this.$Player$p_67.destroy(),l.log(),this.emit("destroyed"),s.catch(function(e){r("oz-player/shims/ozReportUnexpectedError")(e,"Player.destroy","warn")}).then(function(){i.$Player$p_3.load()})},i.$Player$p_121=function(t){var e=this,n=t.find(function(t){return e.$Player$p_25.indexOf(t.getID())!==-1});return n||(n=r("oz-player/utils/getRepresentationInCache")(t,this.$Player$p_24)),n||null},i.$Player$p_122=function(t){var e=this,n,a=t.find(function(t){return e.$Player$p_25.indexOf(t.getID())!==-1});return a||(a=r("oz-player/utils/getRepresentationInCache")(t,this.$Player$p_24)),!a&&!((n=this.$Player$p_9)!=null&&n.isStaticMpd())&&t.length>1&&(a=o("oz-player/utils/OzIbrUtils").getInitialAudioRepresentation(t,this.$Player$p_4,this.$Player$p_16)),a||null},i.$Player$p_123=function(t){return null},i.$Player$p_85=function(t){var e=new(r("oz-player/parsers/OzMpdParser"))({config:this.$Player$p_4,ozParserContext:{mpdUrl:this.$Player$p_18,createXmlParser:this.$Player$p_89,customParsers:this.$Player$p_28,customRepresentationParsers:this.$Player$p_29,customSegmentTimelineParser:this.$Player$p_30},networkManager:this.$Player$p_13,perfLoggerProvider:this.$Player$p_16,drmManager:this.$Player$p_48,initialRepresentationIDs:this.$Player$p_25,blockedRepresentationsManager:this.$Player$p_67,enableAlternativeAudioTracks:this.$Player$p_4.getBool("enable_alternative_audio_tracks"),useManagedMediaSource:this.$Player$p_78}),n=e.parse(t);this.$Player$p_10.addSubscriptions(e.onError(this.$Player$p_11.emitError));var a=o("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(this.$Player$p_31,this.$Player$p_103(),n.getVideoRepresentations());if(a.length>1){var i=o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(a[0].getMimeCodecs());this.$Player$p_76=!a.reduce(function(e,t){return e&&o("oz-player/utils/OzMimeUtil").getParsedCodecFamily(t.getMimeCodecs())===i},!0)}return n},i.$Player$p_79=function(){var e=[];return this.$Player$p_17&&e.push(new(o("oz-player/loggings/OzDevConsolePerfLogger")).OzDevConsolePerfLoggerProvider),e},i.$Player$p_124=function(t,n){var e=this.$Player$p_5.get(n);return e?e.getRepresentationIDAtTime(t):null},i.getAudioRepresentationIDAtTime=function(t){return this.$Player$p_124(t,"audio")},i.getVideoRepresentationIDAtTime=function(t){return this.$Player$p_124(t,"video")},i.getCurrentVideoRepresentation=function(){return this.$Player$p_125("video")},i.getCurrentAudioRepresentation=function(){return this.$Player$p_125("audio")},i.getCurrentPlayingAudioTrackID=function(){var e=this.getCurrentAudioRepresentation();return e==null?void 0:e.getID()},i.$Player$p_125=function(t){var e,n=this.$Player$p_124(this.$Player$p_14.getCurrentTime(),t),r=this.$Player$p_9;if(!r)return null;var o=[];return t==="audio"?o=this.$Player$p_112():t==="video"&&(o=this.$Player$p_102()),(e=o.find(function(e){return e.getID()===n}))!=null?e:null},i.getSelectedVideoRepresentation=function(){var e=this.$Player$p_5.get("video");return e!=null?e.getCurrentRepresentation():null},i.getSelectedAudioRepresentation=function(){var e=this.$Player$p_5.get("audio");return e!=null?e.getCurrentRepresentation():null},i.getDebug=function(){var e=this,t=this.$Player$p_5.get("video"),n=this.$Player$p_5.get("audio"),r=this.$Player$p_5.get("caption"),o,a,i,l,u,c,d;if(t){var m,p;if(o=(m=t.getDebug())==null?void 0:m.MediaStreamAbrManager,a=(p=t.getDebug())==null?void 0:p.SourceBufferManager,a){var _;i=(_=a.getDebug())==null?void 0:_.SourceBuffer}}if(n){var f;if(l=(f=n.getDebug())==null?void 0:f.SourceBufferManager,l){var g;u=(g=l.getDebug())==null?void 0:g.SourceBuffer}}if(r){var h;if(c=(h=r.getDebug())==null?void 0:h.SourceBufferManager,c){var y;d=(y=c.getDebug())==null?void 0:y.SourceBuffer}}return{getManifest:function(){return s(e.$Player$p_9)},DashManifestParsed:this.$Player$p_9,VideoSourceStream:t,VideoAbrManager:o,VideoBufferManager:a,VideoSourceBuffer:i,AudioSourceStream:n,AudioBufferManager:l,AudioSourceBuffer:u,CaptionSourceStream:r,CaptionBufferManager:c,CaptionSourceBuffer:d}},i.injectExternalDebugEvent=function(t,n){this.$Player$p_108(t,n)},i.$Player$p_108=function(t,n){this.emit("debug/dashPlayerEvent",{detail:{type:t,event:n}})},i.$Player$p_82=function(){var e=this,t=new(r("oz-player/strategies/OzBufferingDetector"))(this.$Player$p_3,this.$Player$p_4.getLegacyConfig(),function(){return e.$Player$p_51?e.$Player$p_3.duration:1/0});return t.attachPerfLoggerProvider(this.$Player$p_16),this.$Player$p_10.addSubscriptions(t.addListener("enterBuffering",function(t){e.emit("enterBuffering",t)}),t.addListener("leaveBuffering",function(t){e.emit("leaveBuffering",t)})),t},i.$Player$p_103=function(){var e=this.$Player$p_52?this.$Player$p_52():{width:this.$Player$p_3.offsetWidth,height:this.$Player$p_3.offsetHeight};return e},i.getMpdUrl=function(){return this.$Player$p_18},i.$Player$p_98=function(t){var e=this;this.$Player$p_18=t;var n=this.$Player$p_9;if(n){n.updateLocation(t),this.$Player$p_43&&(this.$Player$p_10.releaseOne(this.$Player$p_43),this.$Player$p_43=null);var r=function(){e.$Player$p_43&&(e.$Player$p_10.releaseOne(e.$Player$p_43),e.$Player$p_43=null),e.$Player$p_5.forEach(function(t,r){var o=t.getCurrentRepresentation(),a=o.getDisplayLabel(),i=(r==="video"?e.$Player$p_102():n.getAudioRepresentations()).slice();if(r==="video"){var l=e.$Player$p_6.get(r);l&&l.updateRepresentations(e.$Player$p_102())}var s=i[0];i.forEach(function(e){var t=e.getDisplayLabel();t===a&&(s=e)}),t.switchRepresentation(s),t.restartLoopBody()})};this.$Player$p_43=n.addListener("updated",r),this.$Player$p_10.addSubscriptions(this.$Player$p_43)}else{this.$Player$p_60=!0;return}},i.getPerfLoggerProvider=function(){return this.$Player$p_16},i.getApproximateFBLSToPlayerDisplayLatency=function(){var e,t,n,r,o=Number((e=(t=this.$Player$p_9)==null?void 0:t.getCustomField("lastVideoFrameTs"))!=null?e:void 0),a=Number((n=(r=this.$Player$p_9)==null?void 0:r.getCustomField("currentServerTimeMs"))!=null?n:void 0),i=this.$Player$p_126(o,a),l=this.$Player$p_127(o,a);return{latencyFromClockSync:l,latencyFromMpdUpdate:i}},i.$Player$p_126=function(t,n){if(!this.$Player$p_14.getCurrentTime()||isNaN(t)||isNaN(n))return null;var e=0;this.$Player$p_58===t?e=(r("oz-player/shims/OzPerformance").now()-Number(this.$Player$p_59))/1e3:(this.$Player$p_59=r("oz-player/shims/OzPerformance").now(),this.$Player$p_58=t);var o=t/1e3+e-this.$Player$p_14.getCurrentTime();return o},i.$Player$p_127=function(t,n){var e;if(!this.$Player$p_14.getCurrentTime()||isNaN(t)||isNaN(n)||r("oz-player/networks/OzClientClock").getClientClockOffsetMs()==null||!r("oz-player/networks/OzClientClock").getClientClockOffsetMs())return null;var o=this.$Player$p_14.getCurrentTimeUpdateTime()+((e=r("oz-player/networks/OzClientClock").getClientClockOffsetMs())!=null?e:0),a=n,i=this.$Player$p_14.getCurrentTime()*1e3,l=t,s=(o-a-(i-l))/1e3;return s},i.$Player$p_80=function(){this.$Player$p_5.forEach(function(e){e.restartLoopBody();var t=e.getCurrentRepresentation();e.switchRepresentation(t)})},a})(r("oz-player/shims/OzEventEmitter"));l.default=m}),98);
__d("oz-player",["oz-player/Player"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("oz-player/Player")}),98);/*FB_PKG_DELIM*/
__d("I64MigrationHelper",["I64","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("nullthrows")((e||(e=o("I64"))).cast(t))}l.cast=s}),98);
__d("IntervalList",["FBLogger","JSONStringifyBigIntSafe","ReQLBounds","ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("must not be null");return e}function c(t,n){var a=new Map,i=new Map,l=new Map;function c(e,n){return n==null?!0:(n.gt!==void 0?t(e,n.gt)>0:n.gte!==void 0?t(e,n.gte)>=0:!0)&&(n.lt!==void 0?t(e,n.lt)<0:n.lte!==void 0?t(e,n.lte)<=0:!0)}function*d(t){for(var l=0;l<t.length&&i.size;){l++;var s=t.slice(0,l);l<n&&s.push((e||(e=o("ReStoreKeyComparer"))).MAX_KEY);var u=i.get(r("JSONStringifyBigIntSafe")(s));if(u!=null)for(var d of u)yield d}for(var m of a.entries()){var p=m[0],_=m[1];a.has(p)&&c(t,_)&&(yield p)}}function m(e){var t=l.get(e);if(t!=null){l.delete(e);var n=u(i.get(t));n.delete(e),n.size===0&&i.delete(t)}else a.delete(e)}function p(e,t){var u;if(e&&e.gte!=null&&e.lte!=null&&(u=r("JSONStringifyBigIntSafe")((s||(s=o("ReQLBounds"))).nextKey(e.gte,n)))===r("JSONStringifyBigIntSafe")(e.lte)){var c=i.get(u);c==null&&(c=new Set,i.set(u,c)),c.add(t),l.set(t,u)}else a.set(t,e)}return{delete:m,findIntersecting:d,set:p}}l.default=c}),98);
__d("LSClientSchemaType",[],(function(t,n,r,o,a,i){"use strict";var e="maw";i.MAW_SCHEMA_NAME=e}),66);
__d("LSConstants",[],(function(t,n,r,o,a,i){"use strict";var e="ls";i.LS_SCHEMA_NAME=e}),66);
__d("LSDbV1.upgrade",[],(function(t,n,r,o,a,i){"use strict";var e={};i.afterUpgrade=e}),66);
__d("ReStoreDefaultValuesMetadata",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={c:"string",t:"string"};for(var n in t){if(!Object.prototype.hasOwnProperty.call(e,n)||e[n]==null)return r("FBLogger")("messenger_web").warn('Malformed default values data, missing key "%s"',n),null;var o=e[n],a=t[n],i=typeof o;if(i!==a)return r("FBLogger")("messenger_web").warn('Malformed default values data, key "%s" has type "%s" but expected "%s"',n,i,a),null}if(typeof e.c!="string"||typeof e.t!="string")return null;var l=[],s=e.t;try{l=JSON.parse(e.c);for(var u of l)if(typeof u!="string")return null}catch(e){return null}return{columns:l,tableName:s}}function s(e){return{c:JSON.stringify(e.columns),t:e.tableName}}var u="_db_defaults_meta";l.tryParseDefaultValuesData=e,l.defaultValuesColumnToValue=s,l.defaultValuesTableName=u}),98);
__d("ReStoreCommonUtils",["isPromise"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){function o(n){return n.done?n.value:(e||(e=r("isPromise")))(n.value)?n.value.then(function(e){return o(t.next(e))}):o(t.next(n.value))}return o(t.next(n))}l.gen=s}),98);
__d("ReStoreOperationLock",["ReStoreCommonUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e==="\u2757"}var s=(function(){function e(e){var t=this;this.isSync=!1,this.waitFor=null,this.waitFor=e.then(function(e){return t.waitFor=null})}var t=e.prototype;return t.chainPromiseOrValue=function(t){return this.waitFor!=null?this.waitFor.then(function(){return t("\u{1F512}")}):t("\u{1F512}")},e})(),u=(function(){function e(){this.isSync=!0}var t=e.prototype;return t.chainPromiseOrValue=function(t){return t("\u2757")},e})(),c=(function(){function e(){this.isSync=!1,this.$1=Promise.resolve()}var t=e.prototype;return t.chainPromiseOrValue=function(t){var e=this;return new Promise(function(n,r){e.$1=e.$1.then(async function(){try{n(await t("\u{1F512}"))}catch(e){r(e)}})})},e})();function d(e,t){return{next:function(r){return t.chainPromiseOrValue(function(t){return o("ReStoreCommonUtils").gen(e.next(t,r))})}}}l.isNoopLockProof=e,l.WaitForPromiseLock=s,l.NoopLock=u,l.ReStoreOperationLock=c,l.lockIterator=d}),98);
__d("ReStoreIndex",["ReQLBounds","ReStoreOperationLock","ReStoreUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function e(e,t,n,r,a){var i=this;this.entries=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").entries(i.$5,e,i.$1,i.$3,t,n,i.$2),i.$4)},this.get=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.$4.chainPromiseOrValue(function(e){return o("ReStoreUtils").getLocked(i.$5,new WeakMap,i.$1.name,i.$3,t,e,i.$2)})},this.getKey=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.$4.chainPromiseOrValue(function(e){return i.$6(i.$5,new WeakMap,t,e)})},this.keys=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").keys(i.$5,e,i.$1,i.$3,t,n),i.$4)},this.$3=e,this.keyFields=t.indexes[e],this.$1=t,this.$2=n,this.$4=r,this.$5=a}var t=e.prototype;return t.$6=function(t,n,r,a){var e=this,i=o("ReStoreUtils").getLocked(t,n,this.$1.name,this.$3,r,a,this.$2);return i.then(function(t){if(t!==void 0)return o("ReStoreUtils").searchKey(e.$1,t)})},e})(),u=(function(e){function t(){return e.apply(this,arguments)||this}return babelHelpers.inheritsLoose(t,e),t})(s),c=(function(t){function n(n,r,a,i,l,s){var u;return u=t.call(this,n,r,a,i,l)||this,u.subscribe=function(t,n,r){return u.$ReStoreIndex$p_3.subscribeIndex(u.$ReStoreIndex$p_1.name,u.$ReStoreIndex$p_2,t,(e||(e=o("ReQLBounds"))).extendBounds(n,u.$ReStoreIndex$p_1.indexes[u.$ReStoreIndex$p_2].length),r)},u.$ReStoreIndex$p_2=n,u.$ReStoreIndex$p_1=r,u.$ReStoreIndex$p_3=s,u}return babelHelpers.inheritsLoose(n,t),n})(s);l.ReStoreTransactionIndex=u,l.ReStoreIndex=c}),98);
__d("ReStoreTable",["FBLogger","I64","JSONStringifyBigIntSafe","LSSynchronousPromise","PromiseOrValue","ReQLBounds","ReStoreCommonUtils","ReStoreIndex","ReStoreOperationLock","ReStoreUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=(e||(e=o("I64"))).cast(t);if(n===void 0)throw r("FBLogger")("messenger_web").mustfixThrow("Expected int64");return e.to_float(n)}function d(e,t,n,o,a){var i=r("JSONStringifyBigIntSafe")([t,n]),l=e.get(i);e.set(i,[l==null?o:l[0],a])}var m=(function(){function t(t,n,a,i){var l=this;this.entries=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").entries(l.$4,e,l.$1,void 0,t,n,l.$2),l.$3)},this.get=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.$3.chainPromiseOrValue(function(e){return o("ReStoreUtils").getLocked(l.$4,new WeakMap,l.$1.name,void 0,t,e,l.$2)})},this.keys=function(e,t,n){return t===void 0&&(t="asc"),o("ReStoreOperationLock").lockIterator(o("ReStoreUtils").keys(l.$4,e,l.$1,void 0,t,n),l.$3)},this.peekNextAutoIncrementId=function(){return l.$5(l.$3.chainPromiseOrValue(function(t){var n=l.$1.autoIncrement;if(!n)throw r("FBLogger")("messenger_web").mustfixThrow("only supported for auto-incrementing tables");return o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(o("ReStoreCommonUtils").gen(l.$4.table(l.$1.name).readSeed(new WeakMap))).then(function(t){if(t===void 0)throw r("FBLogger")("messenger_web").mustfixThrow("unexpected undefined autoIncrementSeed");return(e||(e=o("I64"))).of_float(t)})}))},this.keyFields=t.primaryKeyIds,this.$1=t,this.$2=n,this.$3=a,this.$4=i}var n=t.prototype;return n.$5=function(t){return this.$3.isSync?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t):Promise.resolve(t)},t})(),p=(function(t){function n(e,n,r,a,i,l,u,c,d,m){var p,_=n.tableNames[e];return p=t.call(this,_,r,a,i)||this,p.$ReStoreTransactionTable$p_1=new Map,p.$ReStoreTransactionTable$p_10=new Map,p.add=function(e){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(s.map(p.$ReStoreTransactionTable$p_4.beforeAdd({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r;return(r=p.$ReStoreTransactionTable$p_9)==null||r.recordLogicalWrite(),o("ReStoreCommonUtils").gen(p.$ReStoreTransactionTable$p_14(p.$ReStoreTransactionTable$p_10,n,new WeakMap,p.$ReStoreTransactionTable$p_3.name,e,t))})}),function(t){return(s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.afterAdd({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(){return t})}))},p.delete=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.beforeDelete({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r=p;return o("ReStoreCommonUtils").gen((function*(a){(a=r.$ReStoreTransactionTable$p_9)==null||a.recordLogicalWrite(),yield*o("ReStoreUtils").deleteItemLocked(r.$ReStoreTransactionTable$p_2,r.$ReStoreTransactionTable$p_10,n,new WeakMap,r.$ReStoreTransactionTable$p_3.name,e,t),yield*o("ReStoreUtils").cascadeKeyUpdatesLocked(r.$ReStoreTransactionTable$p_2,r.$ReStoreTransactionTable$p_10,n,new WeakMap,r.$ReStoreTransactionTable$p_3.name,e,void 0,r.$ReStoreTransactionTable$p_4,t,r.$ReStoreTransactionTable$p_11)})())})}))},p.put=function(e){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(s.map(p.$ReStoreTransactionTable$p_4.beforePut({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(e){return p.$ReStoreTransactionTable$p_13(function(t,n){var r;return(r=p.$ReStoreTransactionTable$p_9)==null||r.recordLogicalWrite(),o("ReStoreCommonUtils").gen(o("ReStoreUtils").putLocked(p.$ReStoreTransactionTable$p_2,p.$ReStoreTransactionTable$p_10,n,new WeakMap,p.$ReStoreTransactionTable$p_3.name,e,p.$ReStoreTransactionTable$p_4,t,p.$ReStoreTransactionTable$p_11))})}),function(t){return(s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.afterPut({key:t,tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:e}),function(){return t})}))},p.upsert=function(e,t){return p.$ReStoreTransactionTable$p_12((s||(s=o("PromiseOrValue"))).map(p.$ReStoreTransactionTable$p_4.beforeUpsert({tableName:p.$ReStoreTransactionTable$p_3.name,transaction:p.$ReStoreTransactionTable$p_8,value:t}),function(n){return p.$ReStoreTransactionTable$p_13(function(r,a){var i=p;return o("ReStoreCommonUtils").gen((function*(l){(l=i.$ReStoreTransactionTable$p_9)==null||l.recordLogicalWrite(),yield*o("ReStoreUtils").upsertLocked(i.$ReStoreTransactionTable$p_2,i.$ReStoreTransactionTable$p_10,a,new WeakMap,i.$ReStoreTransactionTable$p_3.name,e,n,i.$ReStoreTransactionTable$p_4,r,i.$ReStoreTransactionTable$p_11),yield*o("ReStoreUtils").cascadeKeyUpdatesLocked(i.$ReStoreTransactionTable$p_2,i.$ReStoreTransactionTable$p_10,a,new WeakMap,i.$ReStoreTransactionTable$p_3.name,e,o("ReStoreUtils").searchKey(i.$ReStoreTransactionTable$p_3,t),i.$ReStoreTransactionTable$p_4,r,i.$ReStoreTransactionTable$p_11)})())})}))},p.index=function(e){return o("ReStoreUtils").getOrCreate(p.$ReStoreTransactionTable$p_1,e,function(){return new(o("ReStoreIndex")).ReStoreTransactionIndex(e,p.$ReStoreTransactionTable$p_3,p.$ReStoreTransactionTable$p_4,p.$ReStoreTransactionTable$p_5,p.$ReStoreTransactionTable$p_6)})},p.$ReStoreTransactionTable$p_3=_,p.$ReStoreTransactionTable$p_2=n,p.$ReStoreTransactionTable$p_4=r,p.$ReStoreTransactionTable$p_5=a,p.$ReStoreTransactionTable$p_6=i,p.$ReStoreTransactionTable$p_7=l,p.$ReStoreTransactionTable$p_8=u,p.$ReStoreTransactionTable$p_9=c,p.$ReStoreTransactionTable$p_10=d,p.$ReStoreTransactionTable$p_11=m,p}babelHelpers.inheritsLoose(n,t);var r=n.prototype;return r.$ReStoreTransactionTable$p_12=function(t){return this.$ReStoreTransactionTable$p_5.isSync?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise(t):Promise.resolve(t)},r.$ReStoreTransactionTable$p_13=function(t){var e=this;return this.$ReStoreTransactionTable$p_5.chainPromiseOrValue(function(n){var r=e.$ReStoreTransactionTable$p_6.createNested(e.$ReStoreTransactionTable$p_9);return(s||(s=o("PromiseOrValue"))).map(t(n,r),function(e){return r.flush(),e})})},r.$ReStoreTransactionTable$p_14=function*(n,r,a,i,l,s){var t=r.table(i),u=this.$ReStoreTransactionTable$p_2.tableNames[i];if(u.autoIncrement){var m=l[u.primaryKeyIds[0]],p=(e||(e=o("I64"))).of_float(yield*t.incrementSeed(a,m===void 0?m:c(m)));l[u.primaryKeyIds[0]]=p}var _=o("ReStoreUtils").appendDefaultValues(l,u.name,this.$ReStoreTransactionTable$p_11),f=o("ReStoreUtils").searchKey(u,_);if(f==null)throw new Error("Evaluating the object store's key path did not yield a value");if((yield*t.tableGet(a,f))==null){var g=o("ReStoreUtils").indicesWithKeyForValue(this.$ReStoreTransactionTable$p_3,Object.keys(u.indexes),_);yield*o("ReStoreUtils").deconflictIndicesLocked(this.$ReStoreTransactionTable$p_2,n,r,a,i,g,this.$ReStoreTransactionTable$p_4,s,this.$ReStoreTransactionTable$p_11);var h=yield*t.tableSet(a,f,_),y=h[0];yield*o("ReStoreUtils").addIdToIndices(r,a,i,y,g),d(n,i,f,void 0,_)}return f},n})(m),_=(function(e){function t(t,n,r,a,i){var l;return l=e.call(this,t,n,r,a)||this,l.$ReStoreTable$p_1=new Map,l.index=function(e){return o("ReStoreUtils").getOrCreate(l.$ReStoreTable$p_1,e,function(){return new(o("ReStoreIndex")).ReStoreIndex(e,l.$ReStoreTable$p_2,l.$ReStoreTable$p_3,l.$ReStoreTable$p_4,l.$ReStoreTable$p_5,l.$ReStoreTable$p_6)})},l.subscribe=function(e,t,n){return l.$ReStoreTable$p_6.subscribeTable(l.$ReStoreTable$p_2.name,e,(u||(u=o("ReQLBounds"))).extendBounds(t,l.$ReStoreTable$p_2.primaryKeyIds.length),n)},l.$ReStoreTable$p_2=t,l.$ReStoreTable$p_3=n,l.$ReStoreTable$p_4=r,l.$ReStoreTable$p_5=a,l.$ReStoreTable$p_6=i,l}return babelHelpers.inheritsLoose(t,e),t})(m);l.ReStoreTransactionTable=p,l.ReStoreTable=_}),98);
__d("LSStorage",["ReStoreKeyComparer"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("ReStoreKeyComparer"))).compareKey(t,n)===0}l.areKeysEqual=s}),98);
__d("ReStoreUtils",["FBLogger","I64","JSONStringifyBigIntSafe","LSStorage","LSSynchronousPromise","Random","ReQLBounds","ReStoreCommonUtils","ReStoreKeyComparer","ReStoreOperationLock","ReStoreTable","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=500;async function d(e){for(var t=[],n=await e.next();!n.done;)t.push(n.value),n=await e.next();return t}function m(e,t,n){var o=e.indexes,a=e.primaryKeyIds,i=n==null?a:o[n];return i.map(function(e){if(t[e]!==void 0||n!=null)return t[e];throw r("FBLogger")("maw_db").mustfixThrow("primary key must be defined on object")})}function p(e,t,n){var r=n[t];return r?Object.keys(r).reduce(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)||(e[t]=r[t]),e},babelHelpers.extends({},e)):e}function _(t,n,r,a,i,l,s){function u(){var c,d=t.table(r.name),m=babelHelpers.extends({},(e||(e=o("ReQLBounds"))).extendBounds(l,(a===void 0?r.primaryKeyIds:r.indexes[a]).length),{dir:i}),p=a==null?d.tableEntries(n,m):d.indexEntries(n,a,m);return c={next:function*(t,n){var e=yield*p.next(n);if(e.done)return{done:!0};var o=e.value[1];return{done:!1,value:[e.value[0],s==null?o:s.afterEntriesNext({tableName:r.name,value:o})]}}},c[typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=u,c}return u()}function f(t,n,r,a,i,l){function s(){var u,c=t.table(r.name),d=c.keys(n,a,babelHelpers.extends({},(e||(e=o("ReQLBounds"))).extendBounds(l,(a===void 0?r.primaryKeyIds:r.indexes[a]).length),{dir:i}));return u={next:function*(t,n){return yield*d.next(n)}},u[typeof Symbol=="function"?Symbol.iterator:"@@iterator"]=s,u}return s()}function g(e,t,n,r,a,i,l){var s=e.table(n),u=o("ReStoreOperationLock").isNoopLockProof(i)?o("LSSynchronousPromise").wrapInSyncPromiseIfNotPromise:Promise.resolve.bind(Promise),c;return r!=null?c=u(o("ReStoreCommonUtils").gen(s.indexGet(t,r,a))):c=u(o("ReStoreCommonUtils").gen(s.tableGet(t,a))),c.then(function(e){if(e!==void 0)return l.afterGet({tableName:n,value:e})})}function h(e,t,n){return(e.has(t)?e:e.set(t,n())).get(t)}function y(e){var t=(s||(s=o("I64"))).cast(e);if(t===void 0)throw r("FBLogger")("maw_db").mustfixThrow("Expected int64");return s.to_float(t)}function C(e,t,n,o,a){var i=r("JSONStringifyBigIntSafe")([t,n]),l=e.get(i);(l==null?o:l[0])==null&&a==null?e.delete(i):e.set(i,[l==null?o:l[0],a])}function*b(e,t,n,r,a,i,l,s,c,d){function p(e,t){return e.length>=t?e:[].concat(e,[(u||(u=o("ReStoreKeyComparer"))).MAX_KEY])}if(!(l!=null&&(u||(u=o("ReStoreKeyComparer"))).compareKey(i,l)===0)){var f=e.tableNames[a],g=f.cascadeUpdates,h=f.primaryKeyIds,y=function*(){for(var o=C.indexName,a=C.tableName,u=e.tableNames[a],f=u.indexes,g=u.primaryKeyIds,y=o==null?g:f[o],v={gte:i,lte:p(i,y.length)},L=_(n,r,u,o,"asc",v),E=[],k=yield*L.next(c);!k.done;)E.push(k.value),k=yield*L.next(c);for(var I of E){var T=I[0],D=I[1],x=m(e.tableNames[a],D);if(l===void 0)yield*R(e,t,n,r,a,x,c),yield*b(e,t,n,r,a,x,void 0,s,c,d);else{var $=h.reduce(function(e,t,n){return n>=l.length||(e[y[n]]=l[n]),e},babelHelpers.extends({},D));yield*S(e,t,n,r,a,x,$,s,c,d),yield*b(e,t,n,r,a,x,m(e.tableNames[a],$),s,c,d)}}};for(var C of g)yield*y()}}function*v(e,t,n,r,a,i,l,c,d){var _=n.table(a),f=e.tableNames[a];if(f.autoIncrement){var g=i[f.primaryKeyIds[0]],h=(s||(s=o("I64"))).of_float(yield*_.incrementSeed(r,g===void 0?g:y(g)));i[f.primaryKeyIds[0]]=h}var b=m(f,i),v={},S=yield*_.tableGet(r,b),R=i;S!==void 0?v=L(f,Object.keys(f.indexes),S):R=p(i,f.name,d);var I=yield*_.tableSet(r,b,R),T=I[0],D=I[1],x=L(f,Object.keys(f.indexes),R),$=babelHelpers.extends({},x);for(var P of Object.keys($))v[P]!==void 0&&(u||(u=o("ReStoreKeyComparer"))).compareKey(v[P],$[P])===0&&(delete $[P],delete v[P]);yield*E(e,t,n,r,a,$,l,c,d),yield*k(n,r,a,T,D?x:$);for(var N of Object.keys(v))yield*_.indexDelete(r,N,v[N]);return C(t,a,b,S,R),b}function*S(e,t,n,r,a,i,l,s,u,c){var d=m(e.tableNames[a],l);o("LSStorage").areKeysEqual(i,d)||(yield*R(e,t,n,r,a,i,u)),yield*v(e,t,n,r,a,l,s,u,c)}function*R(e,t,n,r,o,a,i){var l=n.table(o),s=e.tableNames[o],u=yield*l.tableGet(r,a);if(u!==void 0){if(Object.keys(s.indexes).length)for(var c of Object.keys(s.indexes)){var d=m(s,u,c);d!=null&&(yield*l.indexDelete(r,c,d))}yield*l.tableDelete(r,a),C(t,o,a,u,void 0)}}function L(e,t,n){return t.reduce(function(t,r){var o,a=(o=e.indexPredicates)==null?void 0:o[r];if(a!=null&&!a(n))return t;var i=m(e,n,r);return t[r]=i,t},{})}function*E(e,t,n,r,o,a,i,l,s){var u=n.table(o);for(var c of Object.keys(a)){var d=a[c],p=yield*u.indexGet(r,c,d);if(p!=null){var _=m(e.tableNames[o],p);yield*R(e,t,n,r,o,_,l),yield*b(e,t,n,r,o,_,void 0,i,l,s)}}}function*k(e,t,n,r,o){var a=e.table(n);for(var i of Object.keys(o)){var l=o[i];l===void 0?yield*a.indexDelete(t,i,l):yield*a.indexSet(t,i,l,r)}}function*I(e,t,n,o,a,i,l,s,u,d){var m=n.table(s),p=i.tableNames[s];for(var f of u)yield*m.clearIds(o,f);var g=u.filter(function(e){return(p==null?void 0:p.indexes[e])!=null});if(g.length!==0)for(var h=_(n,o,p,void 0,"asc",void 0,a),y=[],C=yield*h.next(d);!C.done;){for(;!C.done&&y.length<=c;)y.push(C.value),C=yield*h.next(d);for(var b of y){var v=b[0],S=b[1],R=L(i.tableNames[s],g,S);yield*E(i,e,n,o,s,R,a,d,l);var I=r("nullthrows")(yield*m.getId(o,v));yield*k(n,o,s,I,R)}y.length=0,t==null||t()}}var T="__internal__transaction_id";function D(e,t,n,a,i,l,s){var u,c=null,d=new(o("ReStoreOperationLock")).NoopLock,m=new(o("ReStoreOperationLock")).ReStoreOperationLock,p=s==null?void 0:s.qplFlow,_=new Map,f=(u={},u[T]=r("Random").uint32(),u.reportUsedTablesForSyncAccess=function(t){c=t&&t.every(function(e){return i.tablePermitsSynchronousIO(e)})&&c!==!1},u.table=function(s){return new(o("ReStoreTable")).ReStoreTransactionTable(s,e,n,m,i,a,f,p,l,t)},u.transactionTable=function(s,u){var r=u!=null?s+"::"+u:s;return h(_,r,function(){return new(o("ReStoreTable")).ReStoreTransactionTable(s,e,n,c===!0&&u!=null?d:m,i,a,f,p,l,t)})},u),g=function(t){Object.defineProperty(f,t,{get:function(){return f.transactionTable(t)}})};for(var y of Object.keys(e.tableNames))g(y);return f}function x(e){return e.types.includes("indexeddb")}l.collectIterator=d,l.searchKey=m,l.appendDefaultValues=p,l.entries=_,l.keys=f,l.getLocked=g,l.getOrCreate=h,l.cascadeKeyUpdatesLocked=b,l.putLocked=v,l.upsertLocked=S,l.deleteItemLocked=R,l.indicesWithKeyForValue=L,l.deconflictIndicesLocked=E,l.addIdToIndices=k,l.rebuildIndicesLocked=I,l.createReStoreTransaction=D,l.isPDB=x}),98);
__d("ReStoreDefaultValueMigration",["LSPlatformLsInitLog","ReStoreDefaultValuesMetadata","ReStoreUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n={},r=yield o("ReStoreUtils").collectIterator(t[o("ReStoreDefaultValuesMetadata").defaultValuesTableName].entries(e));for(var a of r){var i=a[0],l=a[1];if(i!=null){var s,u=o("ReStoreDefaultValuesMetadata").tryParseDefaultValuesData(l);if(u==null)continue;var c=u.columns,d=u.tableName;n[d]=(s=n[d])!=null?s:new Set;for(var m of c)n[d].add(m)}}return n}),s.apply(this,arguments)}function u(e,t,n,r){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r,o){var a=yield e(t,n),i={};for(var l in r.tableNames){var s=o[l];if(s!=null)for(var u in s){var c,d=(c=a[l])==null?void 0:c.has(u);if(!d){var m;i[l]=(m=i[l])!=null?m:{},i[l][u]=s[u]}}}return i}),c.apply(this,arguments)}function d(e,t,n){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){for(var r in t){var a=Object.keys(n[r]||{}),i={columns:a,tableName:r};yield e[o("ReStoreDefaultValuesMetadata").defaultValuesTableName].put(o("ReStoreDefaultValuesMetadata").defaultValuesColumnToValue(i))}}),m.apply(this,arguments)}function p(e,t,n,r){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a=new WeakMap;o("LSPlatformLsInitLog").addPoint("default_values_update_start");var i=function(t,n){o("LSPlatformLsInitLog").addPoint("default_values_update_end_failure",{string:{default_values_update_failure_point:n,default_values_update_failure_reason:String(t)}})};try{var l=yield u(a,e,t,r);try{if(n===!1)for(var s in l)for(var c=e[s].entries(a),m=yield c.next();!m.done;){var p=babelHelpers.extends({},m.value[1]),_=o("ReStoreUtils").appendDefaultValues(p,s,r);yield e[s].put(_),m=yield c.next()}yield d(e,l,r),o("LSPlatformLsInitLog").addPoint("default_values_update_end")}catch(e){i(e,"setDefaultValues")}}catch(e){i(e,"findDefaultValuesToUpdate")}}),_.apply(this,arguments)}l.runMigrationForTableDefaultValuesIfNeeded=p}),98);
__d("ReStoreIndexMetadata",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=typeof e=="string"?e:null;if(t==null)return null;try{var n=JSON.parse(t);for(var r of n)if(typeof r!="string")return null;return n}catch(e){return null}}function s(t){var n={indexName:"string",keyIds:"string","predicate?":"string",tableName:"string"};for(var o in n){var a=void 0,i=o.endsWith("?");if(i)a=t[o.slice(0,-1)];else{if(!Object.prototype.hasOwnProperty.call(t,o)||t[o]==null)return r("FBLogger")("messenger_web").warn('Malformed index data, missing key "%s"',o),null;a=t[o]}var l=n[o],s=typeof a;if(a!=null&&s!==l)return r("FBLogger")("messenger_web").warn('Malformed index data, key "%s" has type "%s" but expected "%s"',o,s,l),null}var u=e(t.keyIds);return u==null?(r("FBLogger")("messenger_web").warn('Malformed index data, key IDs "%s" are invalid',typeof t.keyIds=="string"?t.keyIds:"<"+typeof t.keyIds+">"),null):typeof t.indexName!="string"||typeof t.tableName!="string"||typeof t.predicate!="string"&&t.predicate!=null?null:babelHelpers.extends({data:u,indexName:t.indexName,tableName:t.tableName},t.predicate==null?{}:{predicate:t.predicate})}function u(e,t){if(e[0]==null||e[0].length!==t[0].length)return!0;for(var n=0;n<e[0].length;n++)if(e[0][n]!==t[0][n])return!0;return e[1]!==t[1]}function c(e){return babelHelpers.extends({indexName:e.indexName,keyIds:JSON.stringify(e.data),tableName:e.tableName},e.predicate==null?{}:{predicate:e.predicate})}var d="_db_indices_meta";l.tryParseIndexData=s,l.indicesDiffer=u,l.indexDataToValue=c,l.indicesTableName=d}),98);
__d("ReStoreIndicesMigration",["LSPlatformLsInitLog","ReStoreCommonUtils","ReStoreIndexMetadata","ReStoreOperationLock","ReStoreUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n={},r=yield o("ReStoreUtils").collectIterator(t[o("ReStoreIndexMetadata").indicesTableName].entries(e));for(var a of r){var i=a[0],l=a[1];if(i!=null){var s,u=o("ReStoreIndexMetadata").tryParseIndexData(l);if(u==null)continue;var c=u.indexName,d=u.tableName;n[d]=(s=n[d])!=null?s:{},n[d][c]=babelHelpers.extends({index:u.data,key:i},u.predicate==null?{}:{predicate:u.predicate})}}return n}),s.apply(this,arguments)}function u(e,t,n){return c.apply(this,arguments)}function c(){return c=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var a=yield e(t,n),i={};for(var l in r.tableNames){var s=r.tableNames[l];for(var u in s.indexes){var c,d,m=[s.indexes[u],(c=s.indexPredicates)==null||(c=c[u])==null?void 0:c.toString()],p=(d=a[l])==null?void 0:d[u];if(o("ReStoreIndexMetadata").indicesDiffer([p==null?void 0:p.index,p==null?void 0:p.predicate],m)){var _;i[l]=(_=i[l])!=null?_:{},i[l][u]=m}}}var f={};for(var g in r.tableNames)if(g in a){var h=a[g];for(var y in h){var C,b=h[y],v=(C=r.tableNames[g])==null||(C=C.indexes)==null?void 0:C[y];if(v==null){var S;f[g]=(S=f[g])!=null?S:{},f[g][y]=b}}}return{toRemove:f,toUpdate:i}}),c.apply(this,arguments)}function d(e,t){return m.apply(this,arguments)}function m(){return m=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){for(var n in t){var r=t[n];for(var a in r){var i=r[a],l=i[0],s=i[1],u=babelHelpers.extends({data:l,indexName:a,tableName:n},s==null?{}:{predicate:s});yield e[o("ReStoreIndexMetadata").indicesTableName].put(o("ReStoreIndexMetadata").indexDataToValue(u))}}}),m.apply(this,arguments)}function p(e,t){return _.apply(this,arguments)}function _(){return _=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){for(var n in t){var r=t[n];for(var a in r){var i,l=r[a].key;yield(i=e[o("ReStoreIndexMetadata").indicesTableName]).delete.apply(i,l)}}}),_.apply(this,arguments)}function f(e,t,n,r,a){return new(o("ReStoreOperationLock")).ReStoreOperationLock().chainPromiseOrValue(function(i){return o("ReStoreCommonUtils").gen(o("ReStoreUtils").rebuildIndicesLocked(e.changedKeys,e.clearCache,e.storeTx,new WeakMap,e.hooksManager,n,r,t,a,i))})}function g(e,t,r,a){var i=new WeakMap;o("LSPlatformLsInitLog").addPoint("index_migration_start");var l=function(t,n){o("LSPlatformLsInitLog").addPoint("index_migration_end_failure",{string:{index_migration_failure_point:n,index_migration_failure_reason:String(t)}})};return u(i,e.transaction,t).then((function(){var i=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var i=n.toRemove,l=n.toUpdate,s=Array.from(new Set([].concat(Object.keys(l),Object.keys(i))));if(o("LSPlatformLsInitLog").addAnnotations({int:{index_migration_rebuild_tables_count:s.length}}),a===!1){for(var u of s)if(t.tableNames[u]!=null){var c,m,_=Array.from(new Set([].concat(Object.keys((c=l[u])!=null?c:{}),Object.keys((m=i[u])!=null?m:{}))));yield f(e,u,t,r,_)}}yield d(e.transaction,l),yield p(e.transaction,i),o("LSPlatformLsInitLog").addPoint("index_migration_end")});return function(e){return i.apply(this,arguments)}})(),function(e){return l(e,"findIndicesToUpdateOrRemove")}).catch(function(e){return l(e,"rebuildIndices")})}l.runMigrationForIndicesIfNeeded=g}),98);
__d("ReStoreMigrateUtil",["$InternalEnum","Promise","ReQL","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["UPDATE_METADATA","UPGRADE_COMPLETE","NO_UPGRADE_NEEDED"]);function u(e,t){var n="V"+t;return n in e?n:null}function c(e,t){return d.apply(this,arguments)}function d(){return d=babelHelpers.wrapAsyncGenerator(function*(e,t){for(var n=e.iterator(new WeakMap),r=[],o=yield babelHelpers.awaitAsyncGenerator(n.next());!o.done;){var a=o.value,i=a[0],l=a[1];r.push(l),r.length===t&&(yield r,r=[]),o=yield babelHelpers.awaitAsyncGenerator(n.next())}r.length&&(yield r)}),d.apply(this,arguments)}function m(e,t,n){return p.apply(this,arguments)}function p(){return p=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,r,a){var i=!1,l=!1,s;try{for(var u=babelHelpers.asyncIterator(c(o("ReQL").fromTableAscending(t),100)),d;i=!(d=yield u.next()).done;i=!1){var m=d.value;yield(e||(e=n("Promise"))).all(m.map(function(e){return r(e).then(t.put)})),a==null||a()}}catch(e){l=!0,s=e}finally{try{i&&u.return!=null&&(yield u.return())}finally{if(l)throw s}}}),p.apply(this,arguments)}function _(e,t){function n(t){if(t!=null){var n={};for(var r in t)n[e+"_"+r]=t[r];return n}}return{bool:n(t.bool),int:n(t.int),string:n(t.string)}}l.ReStoreMigrateResult=s,l.getVersionFromNumber=u,l.fetchReQLBatch=c,l.upgradeTableEntries=m,l.prefixAnnotations=_}),98);
__d("ReStoreHashMigration",["JSONStringifyBigIntSafe","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=Object.values(e.tableNames).map(function(e){var t;return babelHelpers.extends({},e,{indexPredicates:Object.entries((t=e.indexPredicates)!=null?t:{}).map(function(e){var t=e[0],n=e[1];return[t,n.toString()]})})});return r("JSONStringifyBigIntSafe")(t)}function s(e,t,n,r){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,r){var a,i,l=r.loggers,s=l.logHistory,u=l.userFlow,c=r.storeTx,d=r.transaction,m=o("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(n),p=o("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash(t);u==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(e,{int:{defaultValuesVersion:m,schemaVersion:p}}));var _=new(o("ReStorePersistedMetadata")).ReStorePersistedSchemaVersion(e),f=new(o("ReStorePersistedMetadata")).ReStorePersistedDefaultValuesVersion(e),g=(a=yield _.read(c))==null?void 0:a.schemaVersion,h=(i=yield f.read(c))==null?void 0:i.defaultValuesVersion;if(s==null||s.debug("storeSchemaVersion: "+(g!=null?g:"null")),s==null||s.debug("storeDefaultValuesVersion: "+(h!=null?h:"null")),g!=null&&(u==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(e,{int:{storeDefaultValuesVersion:h,storeSchemaVersion:g}}))),g===p&&h===m)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var y=g==null;return yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(d,t,y,n),s==null||s.debug("migration default values finished"),yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(r,t,n,y),s==null||s.debug("migration indices finished"),_.write(c,{schemaVersion:p}),f.write(c,{defaultValuesVersion:m}),s==null||s.debug("version is written"),s==null||s.debug("migration hash end"),u==null||u.addPoint("migration_hash_end"),y?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE}),u.apply(this,arguments)}l.serializeTableData=e,l.runHashMigration=s}),98);
__d("ReStorePersistenceIds",[],(function(t,n,r,o,a,i){"use strict";var e="nextId",l="seed";function s(e){return e}i.idForNextId=e,i.idForSeed=l,i.castPersistenceId=s}),66);
__d("ReStorePersistedMetadata",["JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreHashMigration","ReStorePersistenceIds","hashString"],(function(t,n,r,o,a,i,l){"use strict";var e="_db_schema_meta",s=(function(){function t(e){this.$1=o("ReStorePersistenceIds").castPersistenceId(e)}var n=t.prototype;return n.read=async function(n){var t=await o("ReStoreCommonUtils").gen(n.table(e).readData(new WeakMap,this.$1));return t},n.write=function(n,r){n.table(e).writeData(new WeakMap,this.$1,r)},n.getId=function(){return this.$1},t})(),u=(function(e){function t(t){return e.call(this,t+"_schema_version")||this}return babelHelpers.inheritsLoose(t,e),t.hash=function(t){return r("hashString")(o("ReStoreHashMigration").serializeTableData(t))},t})(s),c=(function(e){function t(){return e.call(this,"custom_migration_value_version")||this}return babelHelpers.inheritsLoose(t,e),t})(s),d=(function(e){function t(t){return e.call(this,t+"_default_value_version")||this}return babelHelpers.inheritsLoose(t,e),t.hash=function(t){return r("hashString")(r("JSONStringifyBigIntSafe")(t))},t})(s);l.schemaMetadataTableName=e,l.ReStorePersistedMetadata=s,l.ReStorePersistedSchemaVersion=u,l.ReStorePersistedCustomMigrationVersion=c,l.ReStorePersistedDefaultValuesVersion=d}),98);
__d("ReStoreMetadata",["ReStoreDefaultValuesMetadata","ReStoreIndexMetadata","ReStorePersistedMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return!0}function u(e){var t=e.reduce(function(e,t){return function(n){return n[t]!=null&&e(n)}},s);return t.toString=function(){return"dynamic predicate on ["+e.join(",")+"]"},t}function c(e){return function(n){var t={},r={};for(var o of n)for(var a of o){var i,l,s,u,c;a.id!=null&&(t[a.id]=a.name),r[a.name]={autoIncrement:(i=a.auto_increment)!=null?i:!1,cascadeUpdates:(l=e[a.name])!=null?l:[],indexes:(s=Object.fromEntries(Object.entries((u=a.indexes)!=null?u:{}).map(function(e){var t=e[0],n=e[1].columns;return[t,n]})))!=null?s:{},indexPredicates:Object.fromEntries(Object.entries((c=a.indexes)!=null?c:{}).filter(function(e){var t=e[0],n=e[1];return n.predicate}).map(function(e){var t=e[0],n=e[1];return[t,n.predicate]})),name:a.name,primaryKeyIds:a.primary_key}}return{tableIds:t,tableNames:r}}}var d=(e={},e[o("ReStoreDefaultValuesMetadata").defaultValuesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStoreDefaultValuesMetadata").defaultValuesTableName,primaryKeyIds:["t"]},e[o("ReStoreIndexMetadata").indicesTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStoreIndexMetadata").indicesTableName,primaryKeyIds:["tableName","indexName"]},e[o("ReStorePersistedMetadata").schemaMetadataTableName]={autoIncrement:!1,cascadeUpdates:[],indexes:{},name:o("ReStorePersistedMetadata").schemaMetadataTableName,primaryKeyIds:[]},e);l.createPredicate=u,l.getBuildTableData=c,l.RESTORE_METADATA_TABLES=d}),98);
__d("ReStoreVersionedSchemaProviderUtil",["ReStoreMetadata"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n={tableIds:{},tableNames:o("ReStoreMetadata").RESTORE_METADATA_TABLES},r={};for(var a of Object.keys(e)){var i,l=e[a],s={},u={};for(var c in l.indexes)s[c]=l.indexes[c].fields,l.indexes[c].ignoreNulls.length>0&&(u[c]=o("ReStoreMetadata").createPredicate(l.indexes[c].ignoreNulls));n.tableNames[a]={autoIncrement:l.autoIncrement,cascadeUpdates:(i=t==null?void 0:t[a])!=null?i:[],indexes:s,indexPredicates:u,name:a,primaryKeyIds:l.primaryKey.fields},l.id!=null&&(n.tableIds[l.id]=a),Object.keys(l.defaults).length>0&&(r[a]=l.defaults)}return{defaults:r,tableData:n}}l.getTableData=e}),98);
__d("LSDbV1",["I64MigrationHelper","LSDbV1.upgrade","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=Object.freeze({_user_info:{autoIncrement:!1,defaults:{},id:4,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},acs_request_context:{autoIncrement:!1,defaults:{},id:310,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},ad_context:{autoIncrement:!1,defaults:{},id:160,indexes:{},primaryKey:{fields:["adId"],ignoreNulls:[]}},admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:(e=o("I64MigrationHelper")).cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ai_bot_feedback_submission_status:{autoIncrement:!1,defaults:{},id:315,indexes:{},primaryKey:{fields:["botResponseId"],ignoreNulls:[]}},ai_bot_search_metadata:{autoIncrement:!1,defaults:{contactViewerRelationship:e.cast([0,0]),displayName:"",score:0},id:298,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},anonymous_task_context:{autoIncrement:!1,defaults:{failureCount:e.cast([0,0])},id:311,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},attachment_conversion:{autoIncrement:!1,defaults:{},id:164,indexes:{},primaryKey:{fields:["attachmentFbid"],ignoreNulls:[]}},attachment_ctas:{autoIncrement:!1,defaults:{},id:19,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}},attachments_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,mediaGroup:e.cast([0,0])},id:17,indexes:{},primaryKey:{fields:["threadKey","mediaGroup","minTimestampMs"],ignoreNulls:[]}},audio_channel_events:{autoIncrement:!1,defaults:{},id:238,indexes:{},primaryKey:{fields:["eventId","roomId"],ignoreNulls:[]}},available_reactions:{autoIncrement:!1,defaults:{},id:188,indexes:{},primaryKey:{fields:["emojiIdx"],ignoreNulls:[]}},avatar_settings:{autoIncrement:!1,defaults:{enableAvatarHotlike:!1},id:209,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},bot_profile_info_v2:{autoIncrement:!1,defaults:{hasEmbodiment:!1},id:299,indexes:{},primaryKey:{fields:["botId"],ignoreNulls:[]}},bots:{autoIncrement:!1,defaults:{},id:230,indexes:{},primaryKey:{fields:["threadKey","botId"],ignoreNulls:[]}},business_comm_items:{autoIncrement:!1,defaults:{},id:234,indexes:{},primaryKey:{fields:["threadKey","entId"],ignoreNulls:[]}},business_support_case_details:{autoIncrement:!1,defaults:{},id:222,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},business_support_notification_settings:{autoIncrement:!1,defaults:{},id:236,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},business_thread_suggestions:{autoIncrement:!1,defaults:{},id:290,indexes:{},primaryKey:{fields:["threadKey","suggestionType"],ignoreNulls:[]}},client_accounts:{autoIncrement:!0,defaults:{},id:272,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_message_translation_info:{autoIncrement:!1,defaults:{},id:324,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_messages:{autoIncrement:!0,defaults:{disabledActionsReason:e.cast([0,0]),isForwarded:!1,isHidden:!1,isReadonly:!1,isReplyOnly:!1,isTombstoned:!1,messageContentSubtype:e.cast([0,0]),messageContentType:e.cast([0,0]),messageCreationType:e.cast([0,0]),messageEphemeralityType:e.cast([0,0]),messageSource:e.cast([0,0]),replyMessageTextSize:e.cast([0,0]),replyStatus:e.cast([0,0]),replyVicinityStatus:e.cast([0,0]),sendStatus:e.cast([0,0]),shouldHideInSnippet:!1,shouldPersist:!1,textSize:e.cast([0,0])},id:273,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_participants:{autoIncrement:!0,defaults:{capabilities1:e.cast([0,0]),capabilities2:e.cast([0,0]),isPending:!1,readActionTsMs:e.cast([0,0])},id:274,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}},client_threads:{autoIncrement:!0,defaults:{capabilities1:e.cast([0,0]),capabilities2:e.cast([0,0]),groupMemberAddMode:e.cast([0,0]),isAdminSnippet:!1,isHidden:!1,isHotlikeSnippet:!1,isPending:!1,isShadowThread:!1,isTombstoned:!1,pinnedMessagesCount:e.cast([0,0])},id:276,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},client_web_pinned_messages:{autoIncrement:!1,defaults:{},id:328,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","offlineThreadingId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","offlineThreadingId","pinnedTimestampMs"],ignoreNulls:[]}},client_xmas:{autoIncrement:!0,defaults:{},id:314,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},cm_category_list:{autoIncrement:!1,defaults:{},id:182,indexes:{},primaryKey:{fields:["communityId","categoryId"],ignoreNulls:[]}},cm_channel_events:{autoIncrement:!1,defaults:{},id:201,indexes:{eventsInThread:{fields:["threadId","eventId"],ignoreNulls:[]}},primaryKey:{fields:["eventId","threadId"],ignoreNulls:[]}},cm_channel_list:{autoIncrement:!1,defaults:{},id:167,indexes:{threadIdCommunityId:{fields:["threadId","communityId"],ignoreNulls:[]}},primaryKey:{fields:["communityId","threadId"],ignoreNulls:[]}},cm_community_list:{autoIncrement:!1,defaults:{},id:166,indexes:{},primaryKey:{fields:["communityId"],ignoreNulls:[]}},cm_search_nullstate_metadata:{autoIncrement:!1,defaults:{score:0},id:289,indexes:{},primaryKey:{fields:["threadKey","scoreType"],ignoreNulls:[]}},community_chat_admin_assist_command_sequences:{autoIncrement:!1,defaults:{},id:291,indexes:{},primaryKey:{fields:["commandSequenceId"],ignoreNulls:[]}},community_chat_message_seen_count:{autoIncrement:!1,defaults:{},id:221,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},community_chat_poll_options:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:e.cast([0,0]),sortKeyVotingTimestamp:e.cast([0,0]),voteCount:e.cast([0,0])},id:224,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},community_chat_poll_votes:{autoIncrement:!1,defaults:{},id:225,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},community_chat_poll_votes_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:244,indexes:{},primaryKey:{fields:["pollId","optionId","minTimestampMs"],ignoreNulls:[]}},community_chat_polls:{autoIncrement:!1,defaults:{pollType:e.cast([0,0])},id:223,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},community_direct_invites_presets:{autoIncrement:!1,defaults:{fallbackUrl:"",pictureUrlExpirationTimestampMs1:e.cast([0,0]),pictureUrlExpirationTimestampMs2:e.cast([0,0]),presetTypeV2:"ALL_MEMBERS"},id:199,indexes:{},primaryKey:{fields:["communityId","presetType","source"],ignoreNulls:[]}},community_events:{autoIncrement:!1,defaults:{},id:202,indexes:{},primaryKey:{fields:["eventId","communityId"],ignoreNulls:[]}},community_folders:{autoIncrement:!1,defaults:{capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),inviteStatus:e.cast([0,0]),notificationMutedUntil:e.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_members:{autoIncrement:!1,defaults:{adminActions:e.cast([0,0]),channelBadges:e.cast([0,0]),contactCapabilities:e.cast([0,0]),requestId:"",source:e.cast([0,0]),threadRoles:e.cast([0,0])},id:170,indexes:{communityContact:{fields:["communityId","contactId","requestId","source","name"],ignoreNulls:[]},communitySource:{fields:["communityId","source","requestId","contactId","name"],ignoreNulls:[]}},primaryKey:{fields:["communityId","contactId","source","requestId"],ignoreNulls:[]}},community_members_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:189,indexes:{},primaryKey:{fields:["communityId","isAdmin","minName","source","requestId"],ignoreNulls:[]}},community_messaging_aggregated_copresence_counts_for_chat:{autoIncrement:!1,defaults:{},id:204,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},community_messaging_aggregated_user_presence_counts_for_community:{autoIncrement:!1,defaults:{},id:203,indexes:{},primaryKey:{fields:["folderId"],ignoreNulls:[]}},community_rules:{autoIncrement:!1,defaults:{},id:254,indexes:{},primaryKey:{fields:["communityId","ruleId"],ignoreNulls:[]}},community_surface_ranges:{autoIncrement:!1,defaults:{},id:253,indexes:{},primaryKey:{fields:["surfaceType","communityKey"],ignoreNulls:[]}},community_thread_sync_info:{autoIncrement:!1,defaults:{},id:294,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},connectivity_status:{autoIncrement:!0,defaults:{},id:114,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},contact_upload_settings:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:74,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},contextual_profile_v1:{autoIncrement:!1,defaults:{},id:216,indexes:{associatedEntityIdAndOwner:{fields:["associatedEntityId","ownerId"],ignoreNulls:[]}},primaryKey:{fields:["ownerId","associatedEntityId"],ignoreNulls:[]}},cowatch_sessions:{autoIncrement:!1,defaults:{},id:80,indexes:{},primaryKey:{fields:["cowatchSessionId"],ignoreNulls:[]}},ctas:{autoIncrement:!1,defaults:{},id:15,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},custom_thread_commands:{autoIncrement:!1,defaults:{isOpenPersistentMenu:!1},id:296,indexes:{commandId:{fields:["commandId"],ignoreNulls:[]},rank:{fields:["threadKey","rank"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","commandId"],ignoreNulls:[]}},cutover_threads:{autoIncrement:!1,defaults:{isMigrated:!1,showOpenMessageHistory:!1},id:193,indexes:{},primaryKey:{fields:["openThreadId"],ignoreNulls:[]}},data_trace_addon:{autoIncrement:!0,defaults:{timestampMs:e.cast([0,0])},id:154,indexes:{traceIdAddonId:{fields:["traceId","addonId"],ignoreNulls:[]}},primaryKey:{fields:["addonId"],ignoreNulls:[]}},data_trace_meta:{autoIncrement:!1,defaults:{foregroundTimestampMs:e.cast([0,0]),initTimestampMs:e.cast([0,0]),shouldFlush:!1,traceType:e.cast([0,0])},id:153,indexes:{shouldFlushInitTimestampMsTraceId:{fields:["shouldFlush","initTimestampMs","traceId"],ignoreNulls:[]}},primaryKey:{fields:["traceId"],ignoreNulls:[]}},device_metadata:{autoIncrement:!0,defaults:{},id:185,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},discoverable_chat_participants:{autoIncrement:!1,defaults:{source:e.cast([0,0])},id:248,indexes:{},primaryKey:{fields:["threadId","contactId","source"],ignoreNulls:[]}},discoverable_chat_participants_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:249,indexes:{},primaryKey:{fields:["threadId","source","minName"],ignoreNulls:[]}},discoverable_chats_personal_inbox_info:{autoIncrement:!1,defaults:{},id:326,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}},e2ee_dummy_table_for_sync:{autoIncrement:!1,defaults:{},id:171,indexes:{},primaryKey:{fields:["placeholder"],ignoreNulls:[]}},edit_message_history:{autoIncrement:!0,defaults:{sendStatus:e.cast([0,0])},id:322,indexes:{originalMsgPkEditTs:{fields:["originalMessagePk","serverAdjustedEditTsMs"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},emoji_sets:{autoIncrement:!1,defaults:{},id:151,indexes:{},primaryKey:{fields:["categoryIdx","emojiIdx","type_"],ignoreNulls:[]}},encrypted_backup_restore_task_payload_context:{autoIncrement:!1,defaults:{},id:190,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},encrypted_backups:{autoIncrement:!0,defaults:{authorityLevel:e.cast([0,0]),hasOtcEligibleDevices:!1},id:172,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_client_restore_status:{autoIncrement:!1,defaults:{},id:231,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},encrypted_backups_debug_metadata:{autoIncrement:!1,defaults:{},id:206,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:217,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_dyi_backup_restore_status:{autoIncrement:!0,defaults:{},id:208,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata:{autoIncrement:!1,defaults:{},id:207,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_epoch_debug_metadata_v2:{autoIncrement:!1,defaults:{},id:218,indexes:{},primaryKey:{fields:["epochId"],ignoreNulls:[]}},encrypted_backups_message_backup_status:{autoIncrement:!1,defaults:{},id:213,indexes:{},primaryKey:{fields:["messagePk"],ignoreNulls:[]}},encrypted_backups_metadata:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:196,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},encrypted_backups_otc_notification_sending_status:{autoIncrement:!0,defaults:{},id:285,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_status_trigger:{autoIncrement:!0,defaults:{},id:195,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},encrypted_backups_virtual_devices:{autoIncrement:!0,defaults:{removalStatus:e.cast([0,1]),requiresHsmMigration:!1,virtualDeviceType:e.cast([0,1])},id:184,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},epd_cookie_settings:{autoIncrement:!1,defaults:{},id:163,indexes:{},primaryKey:{fields:[],ignoreNulls:[]}},experiences_shared_state:{autoIncrement:!1,defaults:{},id:282,indexes:{},primaryKey:{fields:["stateKey"],ignoreNulls:[]}},fb_events:{autoIncrement:!1,defaults:{},id:200,indexes:{},primaryKey:{fields:["eventId"],ignoreNulls:[]}},fb_transport_contacts:{autoIncrement:!0,defaults:{},id:240,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},feature_limits:{autoIncrement:!1,defaults:{},id:150,indexes:{},primaryKey:{fields:["type_"],ignoreNulls:[]}},filtered_messages_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:211,indexes:{},primaryKey:{fields:["threadKey","mailboxType","minTimestampMs","minMessageId","messageRangeFilter"],ignoreNulls:[]}},filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0]),secondaryThreadRangeFilter:e.cast([0,0]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}},focus_mode_ctas:{autoIncrement:!1,defaults:{},id:30,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},folder_metadata:{autoIncrement:!1,defaults:{},id:35,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},forward_content:{autoIncrement:!1,defaults:{},id:129,indexes:{},primaryKey:{fields:["value","type_"],ignoreNulls:[]}},gdpr_settings:{autoIncrement:!1,defaults:{},id:75,indexes:{},primaryKey:{fields:["userid"],ignoreNulls:[]}},gradient_colors:{autoIncrement:!1,defaults:{},id:117,indexes:{},primaryKey:{fields:["themeFbid","gradientIndex"],ignoreNulls:[]}},group_invitations_pending:{autoIncrement:!1,defaults:{communityJoinRequestStatus:e.cast([0,0]),communityParticipationControlRequestStatus:e.cast([0,0]),communityParticipationControlSetting:e.cast([0,0])},id:235,indexes:{},primaryKey:{fields:["linkHash"],ignoreNulls:[]}},group_invites:{autoIncrement:!1,defaults:{},id:197,indexes:{},primaryKey:{fields:["threadKey","inviterId","inviteeId"],ignoreNulls:[]}},group_membership_approval_requests:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:26,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},horizon_contact_info:{autoIncrement:!1,defaults:{},id:323,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_contact_info:{autoIncrement:!1,defaults:{e2eeEligibility:e.cast([0,0])},id:176,indexes:{},primaryKey:{fields:["contactId"],ignoreNulls:[]}},ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:e.cast([0,0]),igDmSettingsTtlSec:e.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},ig_thread_labels:{autoIncrement:!1,defaults:{labelTimestampMs:e.cast([0,0])},id:318,indexes:{},primaryKey:{fields:["threadKey","labelType"],ignoreNulls:[]}},igd_xma_receiver_fetch:{autoIncrement:!1,defaults:{},id:316,indexes:{},primaryKey:{fields:["messageId"],ignoreNulls:[]}},in_thread_banner:{autoIncrement:!1,defaults:{},id:118,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},in_thread_banner_ctas:{autoIncrement:!1,defaults:{},id:119,indexes:{},primaryKey:{fields:["bannerId","ctaId"],ignoreNulls:[]}},in_thread_banner_overflow_menu:{autoIncrement:!1,defaults:{},id:120,indexes:{},primaryKey:{fields:["threadKey","bannerId"],ignoreNulls:[]}},inbox_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:198,indexes:{},primaryKey:{fields:["syncGroup"],ignoreNulls:[]}},inbox_view_state:{autoIncrement:!1,defaults:{value:""},id:277,indexes:{},primaryKey:{fields:["interface_","configName"],ignoreNulls:[]}},inbox_view_state_v2:{autoIncrement:!1,defaults:{value:""},id:281,indexes:{},primaryKey:{fields:["configName"],ignoreNulls:[]}},lightspeed_task_context:{autoIncrement:!1,defaults:{requiresAuthentication:!1},id:306,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},linked_groups:{autoIncrement:!1,defaults:{},id:130,indexes:{threadKey:{fields:["threadKey"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}},live_location_sharers:{autoIncrement:!1,defaults:{},id:149,indexes:{},primaryKey:{fields:["threadKey","userId"],ignoreNulls:[]}},local_message_persistence_store:{autoIncrement:!0,defaults:{},id:301,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_deleted_messages:{autoIncrement:!0,defaults:{},id:303,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_supplemental:{autoIncrement:!0,defaults:{},id:302,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},local_message_persistence_store_tag_index:{autoIncrement:!0,defaults:{},id:304,indexes:{offlineThreadingId:{fields:["offlineThreadingId","threadId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},m_suggestions:{autoIncrement:!1,defaults:{},id:21,indexes:{},primaryKey:{fields:["threadKey","timestampMs","suggestionId"],ignoreNulls:[]}},mailbox_metadata:{autoIncrement:!1,defaults:{},id:25,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mailbox_task_completion_api_tasks:{autoIncrement:!1,defaults:{},id:233,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},mailbox_task_completion_notification_context:{autoIncrement:!1,defaults:{},id:232,indexes:{},primaryKey:{fields:["notificationScopeKey"],ignoreNulls:[]}},media_send_jobs:{autoIncrement:!1,defaults:{},id:51,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}},message_requests:{autoIncrement:!1,defaults:{},id:34,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},message_search_queries:{autoIncrement:!1,defaults:{},id:70,indexes:{},primaryKey:{fields:["type_","query","threadKeyV2"],ignoreNulls:[]}},message_search_results:{autoIncrement:!1,defaults:{},id:69,indexes:{},primaryKey:{fields:["type_","query","threadKey","globalIndex"],ignoreNulls:[]}},messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},messages_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1},id:13,indexes:{},primaryKey:{fields:["threadKey","minTimestampMs","minMessageId"],ignoreNulls:[]}},messages_status:{autoIncrement:!1,defaults:{timestampMs:e.cast([0,0])},id:33,indexes:{},primaryKey:{fields:["messageId","threadKey","timestampMs","threadKeyFromParticipants","contactId","type_"],ignoreNulls:[]}},messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:e.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},messaging_settings:{autoIncrement:!1,defaults:{},id:83,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},mi_act_mapping_table:{autoIncrement:!1,defaults:{},id:173,indexes:{chat_id:{fields:["clientThreadPk"],ignoreNulls:[]},fk_threads:{fields:["serverThreadKey"],ignoreNulls:[]},jid:{fields:["jid"],ignoreNulls:[]}},primaryKey:{fields:["serverThreadKey","clientThreadPk","jid"],ignoreNulls:[]}},msg_pinned_messages_v2:{autoIncrement:!1,defaults:{},id:205,indexes:{pinnedMessageDisplayOrder:{fields:["threadKey","pinnedTimestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","pinnedTimestampMs"],ignoreNulls:[]}},msgr_quiet_time:{autoIncrement:!1,defaults:{},id:317,indexes:{quietTimeId:{fields:["quietTimeId"],ignoreNulls:[]}},primaryKey:{fields:["quietTimeId"],ignoreNulls:[]}},mwb_safety_interventions:{autoIncrement:!1,defaults:{},id:327,indexes:{},primaryKey:{fields:["interventionId","interventionEntId"],ignoreNulls:[]}},network_requests:{autoIncrement:!1,defaults:{},id:3,indexes:{},primaryKey:{fields:["taskQueueName","syncDatabaseId"],ignoreNulls:[]}},new_payment_credential_option:{autoIncrement:!1,defaults:{},id:90,indexes:{},primaryKey:{fields:["credentialType"],ignoreNulls:[]}},notification_settings:{autoIncrement:!1,defaults:{includeInSwitchAccountBadges:!1,mutePageAccountMessageReminder:!1},id:175,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},offline_queue_thread_status:{autoIncrement:!1,defaults:{},id:295,indexes:{},primaryKey:{fields:["threadJid"],ignoreNulls:[]}},ohai_gateway_key_configs:{autoIncrement:!1,defaults:{},id:313,indexes:{},primaryKey:{fields:["keyId"],ignoreNulls:[]}},p2m_charge:{autoIncrement:!1,defaults:{},id:97,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice:{autoIncrement:!1,defaults:{},id:94,indexes:{},primaryKey:{fields:["orderId"],ignoreNulls:[]}},p2m_invoice_attachment:{autoIncrement:!1,defaults:{},id:95,indexes:{},primaryKey:{fields:["orderId","productItemId"],ignoreNulls:[]}},p2p_request_v2:{autoIncrement:!1,defaults:{},id:100,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},p2p_transfer_v2:{autoIncrement:!1,defaults:{},id:101,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}},participant_list_queries:{autoIncrement:!1,defaults:{},id:219,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},participant_search_queries:{autoIncrement:!1,defaults:{},id:214,indexes:{},primaryKey:{fields:["query","threadKey"],ignoreNulls:[]}},participants:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),deliveredWatermarkTimestampMs:e.cast([0,0]),groupParticipantJoinState:e.cast([0,0]),readActionTimestampMs:e.cast([0,0]),readWatermarkTimestampMs:e.cast([0,0]),threadRoles:e.cast([0,0])},id:14,indexes:{contactIdThreadKey:{fields:["contactId","threadKey"],ignoreNulls:[]},threadKeyDeliveredWatermarkTimestampMs:{fields:["threadKey","deliveredWatermarkTimestampMs","contactId"],ignoreNulls:[]},threadKeyReadWatermarkTimestampMs:{fields:["threadKey","readWatermarkTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},payment_auth_request_results:{autoIncrement:!1,defaults:{},id:108,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_client_auth_token:{autoIncrement:!1,defaults:{},id:107,indexes:{},primaryKey:{fields:["userId","deviceId","appId"],ignoreNulls:[]}},payment_method:{autoIncrement:!1,defaults:{},id:89,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_p2p_risk_verification:{autoIncrement:!1,defaults:{},id:98,indexes:{},primaryKey:{fields:["requestId","transactionId"],ignoreNulls:[]}},payment_pin_verification_results:{autoIncrement:!1,defaults:{},id:113,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_price_list_item:{autoIncrement:!1,defaults:{},id:96,indexes:{},primaryKey:{fields:["orderId","id"],ignoreNulls:[]}},payment_server_request_results:{autoIncrement:!1,defaults:{},id:109,indexes:{},primaryKey:{fields:["requestId"],ignoreNulls:[]}},payment_transaction_v2:{autoIncrement:!1,defaults:{},id:99,indexes:{optimistic:{fields:["optimisticTransactionId"],ignoreNulls:[]}},primaryKey:{fields:["timestampMs","transactionId"],ignoreNulls:[]}},payment_type_bank_v2:{autoIncrement:!1,defaults:{},id:88,indexes:{},primaryKey:{fields:["paymentMethodId"],ignoreNulls:[]}},payment_type_card:{autoIncrement:!1,defaults:{},id:86,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_type_paypal:{autoIncrement:!1,defaults:{},id:85,indexes:{},primaryKey:{fields:["paymentCredentialId"],ignoreNulls:[]}},payment_user_auth:{autoIncrement:!1,defaults:{},id:106,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_eligibility:{autoIncrement:!1,defaults:{},id:92,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},payments_ofac_blacklisted_countries:{autoIncrement:!1,defaults:{},id:93,indexes:{},primaryKey:{fields:["isoCountryCode"],ignoreNulls:[]}},payments_transaction_details_core:{autoIncrement:!1,defaults:{},id:103,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},payments_transaction_details_ctas:{autoIncrement:!1,defaults:{},id:104,indexes:{},primaryKey:{fields:["transactionId","ctaId"],ignoreNulls:[]}},payments_transaction_details_rows:{autoIncrement:!1,defaults:{},id:105,indexes:{},primaryKey:{fields:["transactionId","rowOrder"],ignoreNulls:[]}},paypal_funding_options:{autoIncrement:!1,defaults:{},id:91,indexes:{},primaryKey:{fields:["optionId"],ignoreNulls:[]}},pending_backups_context_v2:{autoIncrement:!0,defaults:{isInstamadillo:!1},id:177,indexes:{fk_pending_tasks:{fields:["pendingBackupTaskId"],ignoreNulls:[]}},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_fire_and_forget_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:e.cast([0,0]),priority:e.cast([0,0])},id:5,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},pending_tasks:{autoIncrement:!0,defaults:{enqueueTimestampMs:e.cast([0,0]),failureCount:e.cast([0,0]),firstExecutedTimestampMs:e.cast([0,0]),minTimeToSyncTimestampMs:e.cast([0,0]),pluginType:e.cast([0,0]),priority:e.cast([0,0]),taskDispatchPriority:e.cast([0,0])},id:2,indexes:{queueNameTaskId:{fields:["queueName","taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},persistent_menu_ctas:{autoIncrement:!1,defaults:{ctaType:"fallback"},id:251,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},persistent_menu_items:{autoIncrement:!1,defaults:{},id:77,indexes:{},primaryKey:{fields:["threadKey","ctaId"],ignoreNulls:[]}},pinned_messages_v2:{autoIncrement:!1,defaults:{},id:155,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},pinned_threads:{autoIncrement:!1,defaults:{},id:82,indexes:{pinnedTimestamp:{fields:["pinnedTimestamp","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},poll_options_v2:{autoIncrement:!1,defaults:{sortKeyCreationTimestamp:e.cast([0,0]),sortKeyVotingTimestamp:e.cast([0,0]),voteCount:e.cast([0,0])},id:39,indexes:{},primaryKey:{fields:["pollId","optionId"],ignoreNulls:[]}},poll_votes_v2:{autoIncrement:!1,defaults:{},id:40,indexes:{},primaryKey:{fields:["pollId","optionId","contactId"],ignoreNulls:[]}},polls:{autoIncrement:!1,defaults:{pollType:e.cast([0,0])},id:38,indexes:{},primaryKey:{fields:["pollId"],ignoreNulls:[]}},presence_settings:{autoIncrement:!1,defaults:{hasConvertedToViewSideSettings:!1,isActiveStatusViewable:!1,isActiveStatusViewableOnFb:!1,isActiveStatusViewableOnMessenger:!1},id:187,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},presence_states:{autoIncrement:!1,defaults:{},id:186,indexes:{statusContactId:{fields:["status","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId"],ignoreNulls:[]}},profile_sheet_information:{autoIncrement:!1,defaults:{},id:256,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},quick_reply_ctas:{autoIncrement:!1,defaults:{},id:20,indexes:{},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}},ranking_requests:{autoIncrement:!1,defaults:{},id:135,indexes:{},primaryKey:{fields:["scoreType"],ignoreNulls:[]}},ranking_scores:{autoIncrement:!1,defaults:{score:0,scoreIndex:e.cast([0,0])},id:134,indexes:{scoreTypeContactId:{fields:["scoreType","contactId"],ignoreNulls:[]}},primaryKey:{fields:["contactId","scoreType"],ignoreNulls:[]}},reachability_settings:{autoIncrement:!1,defaults:{},id:148,indexes:{},primaryKey:{fields:["audience"],ignoreNulls:[]}},reaction_v2_types:{autoIncrement:!1,defaults:{},id:229,indexes:{},primaryKey:{fields:["reactionFbid"],ignoreNulls:[]}},reactions:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),reactionCreationTimestampMs:e.cast([0,0]),timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:8,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","actorId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","actorId"],ignoreNulls:[]}},reactions_v2:{autoIncrement:!1,defaults:{lastUpdatedTimestampMs:e.cast([0,0]),viewerReactionTimestampMs:e.cast([0,0])},id:226,indexes:{optimistic:{fields:["threadKey","messageId","reactionFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","reactionFbid","messageTimestamp"],ignoreNulls:[]}},reactions_v2_details:{autoIncrement:!1,defaults:{},id:239,indexes:{},primaryKey:{fields:["threadId","messageId","reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:243,indexes:{},primaryKey:{fields:["threadId","messageId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},reactions_v2_details_users:{autoIncrement:!1,defaults:{},id:227,indexes:{},primaryKey:{fields:["reactorId","reactionFbid"],ignoreNulls:[]}},reactions_v2_details_users_ranges_v2__generated:{autoIncrement:!1,defaults:{},id:228,indexes:{},primaryKey:{fields:["reactorId","reactionFbid","minTimestampMs"],ignoreNulls:[]}},roll_call_contributions_v2:{autoIncrement:!1,defaults:{contributionSource:e.cast([0,0]),contributorId:e.cast([0,0])},id:255,indexes:{optimistic:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["rollCallContributionId","rollCallId","messageId","messageTimestampMs","threadKey"],ignoreNulls:[]}},roll_calls:{autoIncrement:!1,defaults:{canViewWithoutContributing:!1,isBlurred:!1,viewerCanEditPrompt:!1,viewerHasContributed:!1},id:250,indexes:{},primaryKey:{fields:["rollCallId","threadKey"],ignoreNulls:[]}},room_participants:{autoIncrement:!1,defaults:{},id:64,indexes:{optimistic:{fields:["roomId","participantId"],ignoreNulls:[]}},primaryKey:{fields:["roomId","participantId","type_"],ignoreNulls:[]}},rooms:{autoIncrement:!1,defaults:{notificationMutedUntilMs:e.cast([0,0])},id:63,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["roomId"],ignoreNulls:[]}},rtc_call_events:{autoIncrement:!0,defaults:{isProcessed:!1},id:245,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},rtc_multiway_call_initiation_conference_names:{autoIncrement:!1,defaults:{},id:24,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_rooms_on_threads:{autoIncrement:!1,defaults:{},id:181,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},rtc_signals:{autoIncrement:!1,defaults:{},id:22,indexes:{},primaryKey:{fields:["timestampMs","type_"],ignoreNulls:[]}},saved_messages:{autoIncrement:!1,defaults:{},id:165,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},screen_time:{autoIncrement:!0,defaults:{},id:321,indexes:{},primaryKey:{fields:["recordId"],ignoreNulls:[]}},search_queries:{autoIncrement:!1,defaults:{surfaceType:e.cast([0,1])},id:67,indexes:{},primaryKey:{fields:["query","surfaceType"],ignoreNulls:[]}},secure_acs_blinded_tokens:{autoIncrement:!0,defaults:{},id:308,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_acs_configurations:{autoIncrement:!1,defaults:{},id:307,indexes:{},primaryKey:{fields:["configId"],ignoreNulls:[]}},secure_acs_tokens:{autoIncrement:!1,defaults:{},id:309,indexes:{},primaryKey:{fields:["tokenId"],ignoreNulls:[]}},secure_encrypted_backups_client_state:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),encryptionVersion:e.cast([0,0]),revisionVersion:e.cast([0,0])},id:168,indexes:{},primaryKey:{fields:["backupId"],ignoreNulls:[]}},secure_encrypted_backups_device_supported_versions:{autoIncrement:!1,defaults:{},id:192,indexes:{fk_secure_encrypted_backups_device_supported_versions_device_id:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},primaryKey:{fields:["deviceId","supportedVersion"],ignoreNulls:[]}},secure_encrypted_backups_devices:{autoIncrement:!1,defaults:{},id:191,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}},secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}},secure_encrypted_backups_generated_recovery_code:{autoIncrement:!1,defaults:{virtualDeviceType:e.cast([0,1])},id:174,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_encrypted_backups_message_thread_id_context:{autoIncrement:!1,defaults:{},id:180,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId","listId"],ignoreNulls:[]}},secure_encrypted_backups_recovery_code_status:{autoIncrement:!1,defaults:{},id:178,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}},secure_get_secrets_context:{autoIncrement:!1,defaults:{},id:259,indexes:{},primaryKey:{fields:["deviceRegistrationId"],ignoreNulls:[]}},secure_recovery_code_data:{autoIncrement:!1,defaults:{},id:179,indexes:{fk_pending_tasks:{fields:["taskId"],ignoreNulls:[]}},primaryKey:{fields:["taskId"],ignoreNulls:[]}},self_profile:{autoIncrement:!1,defaults:{},id:81,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}},server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}},server_search_sections:{autoIncrement:!1,defaults:{},id:66,indexes:{},primaryKey:{fields:["query","globalIndex"],ignoreNulls:[]}},shared_album_contributions:{autoIncrement:!1,defaults:{creationTimestampMs:e.cast([0,0]),creatorId:e.cast([0,0])},id:280,indexes:{},primaryKey:{fields:["sharedAlbumId","sharedAlbumContributionId","threadKey","messageId"],ignoreNulls:[]}},shared_albums:{autoIncrement:!1,defaults:{contributionCount:e.cast([0,0]),lastActivityTimestampMs:e.cast([0,0])},id:279,indexes:{},primaryKey:{fields:["sharedAlbumId","threadKey"],ignoreNulls:[]}},shared_albums_multimedia_upload_jobs:{autoIncrement:!1,defaults:{},id:283,indexes:{},primaryKey:{fields:["offlineThreadingId"],ignoreNulls:[]}},shared_albums_multimedia_upload_subjobs_status:{autoIncrement:!1,defaults:{},id:284,indexes:{},primaryKey:{fields:["offlineThreadingId","jobId"],ignoreNulls:[]}},status:{autoIncrement:!1,defaults:{},id:62,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["statusId"],ignoreNulls:[]}},sticker_pack_details:{autoIncrement:!1,defaults:{},id:127,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_packs:{autoIncrement:!1,defaults:{},id:122,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_search_featured_tags:{autoIncrement:!1,defaults:{},id:125,indexes:{},primaryKey:{fields:["tagIndex"],ignoreNulls:[]}},sticker_search_queries:{autoIncrement:!1,defaults:{},id:124,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},sticker_search_results:{autoIncrement:!1,defaults:{},id:123,indexes:{},primaryKey:{fields:["resultIndex","query","type_"],ignoreNulls:[]}},sticker_store_pack_indices:{autoIncrement:!1,defaults:{},id:128,indexes:{},primaryKey:{fields:["packId"],ignoreNulls:[]}},sticker_to_collection:{autoIncrement:!1,defaults:{},id:126,indexes:{},primaryKey:{fields:["stickerId","collectionId"],ignoreNulls:[]}},stickers:{autoIncrement:!1,defaults:{},id:121,indexes:{stickerPackId:{fields:["stickerPackId","stickerId"],ignoreNulls:[]}},primaryKey:{fields:["stickerId"],ignoreNulls:[]}},stories:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:54,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["storyId"],ignoreNulls:[]}},story_ad_card:{autoIncrement:!1,defaults:{},id:58,indexes:{},primaryKey:{fields:["adPosition","clientToken","cardId"],ignoreNulls:[]}},story_ad_ctas:{autoIncrement:!1,defaults:{},id:59,indexes:{},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},story_ad_unit:{autoIncrement:!1,defaults:{shouldShowAdChoice:!1},id:57,indexes:{},primaryKey:{fields:["adPosition","clientToken"],ignoreNulls:[]}},story_buckets:{autoIncrement:!1,defaults:{pageNum:e.cast([0,0]),readState:e.cast([0,0])},id:53,indexes:{optimistic:{fields:["ownerId","bucketType"],ignoreNulls:[]}},primaryKey:{fields:["bucketId"],ignoreNulls:[]}},story_buckets_paginated_queries:{autoIncrement:!1,defaults:{},id:61,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}},story_overlays:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:60,indexes:{},primaryKey:{fields:["storyId","storyOverlayId"],ignoreNulls:[]}},story_reactions:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:56,indexes:{optimistic:{fields:["optimisticClientId"],ignoreNulls:[]}},primaryKey:{fields:["reactionId"],ignoreNulls:[]}},story_viewers:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),interactionType:e.cast([0,1])},id:55,indexes:{},primaryKey:{fields:["storyId","viewerContactId","interactionType"],ignoreNulls:[]}},supervision_edge:{autoIncrement:!1,defaults:{},id:319,indexes:{},primaryKey:{fields:["edgeId"],ignoreNulls:[]}},supervision_metadata:{autoIncrement:!1,defaults:{},id:320,indexes:{},primaryKey:{fields:["supervisionMetadataId"],ignoreNulls:[]}},support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}},sync_group_threads_ranges:{autoIncrement:!1,defaults:{hasMoreBefore:!1,isLoadingBefore:!1,minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:220,indexes:{},primaryKey:{fields:["syncGroup","parentThreadKey"],ignoreNulls:[]}},sync_groups:{autoIncrement:!1,defaults:{canIgnoreTimestamp:!1,lastSyncCompletedTimestampMs:e.cast([0,0]),lastSyncRequestTimestampMs:e.cast([0,0]),minTimeToSyncTimestampMs:e.cast([0,0]),priority:e.cast([0,0]),sendSyncParams:!1,syncChannel:e.cast([0,1]),syncStatus:e.cast([0,0])},id:1,indexes:{},primaryKey:{fields:["groupId"],ignoreNulls:[]}},taken_down_threads:{autoIncrement:!1,defaults:{},id:212,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},third_party_id_store:{autoIncrement:!1,defaults:{},id:242,indexes:{},primaryKey:{fields:["platform"],ignoreNulls:[]}},thread_bans:{autoIncrement:!1,defaults:{},id:297,indexes:{},primaryKey:{fields:["threadKey","contactId"],ignoreNulls:[]}},thread_creation_status:{autoIncrement:!1,defaults:{},id:278,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:e.cast([0,0])},id:237,indexes:{},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}},thread_labels:{autoIncrement:!1,defaults:{},id:215,indexes:{},primaryKey:{fields:["labelId"],ignoreNulls:[]}},thread_limits:{autoIncrement:!1,defaults:{},id:287,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate:{autoIncrement:!1,defaults:{ctaType:e.cast([0,0]),privacyTextCtaType:e.cast([0,0])},id:28,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_nullstate_ctas:{autoIncrement:!1,defaults:{},id:29,indexes:{threadKeyCtaId:{fields:["threadKey","ctaId"],ignoreNulls:[]}},primaryKey:{fields:["ctaId"],ignoreNulls:[]}},thread_point_query_ttrc:{autoIncrement:!1,defaults:{},id:286,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:183,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_seen_heads_queries:{autoIncrement:!1,defaults:{},id:325,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},thread_themes:{autoIncrement:!1,defaults:{backgroundUrl:"",iconUrl:"",iconUrlFallback:"",isDeprecated:!1},id:116,indexes:{},primaryKey:{fields:["fbid"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_optimistic_context:{autoIncrement:!1,defaults:{},id:32,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}},threads_optimistic_metadata:{autoIncrement:!1,defaults:{},id:312,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads_ranges_v2__generated:{autoIncrement:!1,defaults:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0])},id:10,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs"],ignoreNulls:[]}},transaction_history:{autoIncrement:!1,defaults:{timestampMs:e.cast([0,0])},id:102,indexes:{},primaryKey:{fields:["transactionId"],ignoreNulls:[]}},typing_indicator:{autoIncrement:!1,defaults:{},id:52,indexes:{},primaryKey:{fields:["threadKey","senderId"],ignoreNulls:[]}},universal_search_recent_searches:{autoIncrement:!1,defaults:{lastAccessedTimestampMs:e.cast([0,0])},id:68,indexes:{},primaryKey:{fields:["resultId"],ignoreNulls:[]}},user_visible_errors:{autoIncrement:!0,defaults:{},id:6,indexes:{},primaryKey:{fields:["errorId"],ignoreNulls:[]}},user_visible_network_connectivity_error:{autoIncrement:!0,defaults:{},id:115,indexes:{},primaryKey:{fields:["statusId"],ignoreNulls:[]}},value_model_features:{autoIncrement:!1,defaults:{},id:137,indexes:{},primaryKey:{fields:["feature"],ignoreNulls:[]}},value_model_output:{autoIncrement:!1,defaults:{},id:138,indexes:{},primaryKey:{fields:["product","contactId"],ignoreNulls:[]}},value_model_rules:{autoIncrement:!1,defaults:{},id:136,indexes:{},primaryKey:{fields:["product","ruleIndex"],ignoreNulls:[]}},video_chat_links_attempted_joiners:{autoIncrement:!1,defaults:{},id:79,indexes:{},primaryKey:{fields:["userId","url"],ignoreNulls:[]}},video_chat_links_joining:{autoIncrement:!1,defaults:{canAnonymousUsersJoin:!1},id:78,indexes:{optimistic:{fields:["optimisticClientToken"],ignoreNulls:[]}},primaryKey:{fields:["url","optimisticClientToken"],ignoreNulls:[]}},work_contact_info:{autoIncrement:!1,defaults:{},id:210,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}},work_genai:{autoIncrement:!1,defaults:{},id:293,indexes:{},primaryKey:{fields:["threadKey","messageId"],ignoreNulls:[]}},workroom_creation_requests:{autoIncrement:!1,defaults:{},id:252,indexes:{},primaryKey:{fields:["creationId"],ignoreNulls:[]}},workroom_invites:{autoIncrement:!1,defaults:{},id:257,indexes:{},primaryKey:{fields:["inviteId"],ignoreNulls:[]}},workrooms_co_presence_states:{autoIncrement:!1,defaults:{},id:246,indexes:{userCoPresence:{fields:["userId","coPresenceObjectId"],ignoreNulls:[]}},primaryKey:{fields:["userId"],ignoreNulls:[]}}}),u=Object.freeze(babelHelpers.extends({},s,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),c=Object.freeze(babelHelpers.extends({},u,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),d=Object.freeze(babelHelpers.extends({},c,{occamadillo_most_recent_message_per_thread:{autoIncrement:!1,defaults:{},id:292,indexes:{fetchTimestamp:{fields:["fetchTimestampMs"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),m=Object.freeze(babelHelpers.extends({},d,{messages_optimistic_context:{autoIncrement:!1,defaults:{},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),p=Object.freeze(babelHelpers.extends({},m,{auto_restore_opt_out:{autoIncrement:!1,defaults:{},id:330,indexes:{},primaryKey:{fields:["optOutKey"],ignoreNulls:[]}}})),_=Object.freeze(babelHelpers.extends({},p,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),f=Object.freeze(babelHelpers.extends({},_,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:e.cast([-1,4294967295]),status:e.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}},messenger_fts_threads_queries:{autoIncrement:!1,defaults:{sessionId:""},id:332,indexes:{},primaryKey:{fields:["queryId"],ignoreNulls:[]}}})),g=Object.freeze(babelHelpers.extends({},f,{messenger_fts_threads:{autoIncrement:!1,defaults:{nextMessageTimestamp:e.cast([-1,4294967295]),status:e.cast([0,0]),threadType:e.cast([0,0])},id:331,indexes:{},primaryKey:{fields:["threadId"],ignoreNulls:[]}}})),h=Object.freeze(babelHelpers.extends({},g,{filtered_threads_ranges_v3__generated:{autoIncrement:!1,defaults:{folderName:"inbox",hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxLastActivityTimestampMs:e.cast([0,0]),maxThreadKey:e.cast([0,0]),minLastActivityTimestampMs:e.cast([0,0]),minThreadKey:e.cast([0,0]),secondaryThreadRangeFilter:e.cast([0,0]),syncGroup:e.cast([0,1]),threadRangeFilterValue:""},id:247,indexes:{},primaryKey:{fields:["parentThreadKey","minThreadKey","minLastActivityTimestampMs","threadRangeFilter","folderName","secondaryThreadRangeFilter","threadRangeFilterValue"],ignoreNulls:[]}}})),y=Object.freeze(babelHelpers.extends({},h,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),C=Object.freeze(babelHelpers.extends({},y,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),b=Object.freeze(babelHelpers.extends({},C,{media_receiver_fetch_transport_mappings:{autoIncrement:!1,defaults:{},id:333,indexes:{},primaryKey:{fields:["receiverFetchId"],ignoreNulls:[]}}})),v=Object.freeze(babelHelpers.extends({},b,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),S=Object.freeze(babelHelpers.extends({},v,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),R=Object.freeze(babelHelpers.extends({},S,{attachment_items:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0])},id:18,indexes:{fk_attachments:{fields:["threadKey","messageId","attachmentFbid","attachmentIndex"],ignoreNulls:[]}},primaryKey:{fields:["attachmentFbid","attachmentIndex"],ignoreNulls:[]}},attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),L=Object.freeze(babelHelpers.extends({},R,{client_thread_proactive_warning_settings:{autoIncrement:!1,defaults:{},id:241,indexes:{},primaryKey:{fields:["threadPk"],ignoreNulls:[]}}})),E=Object.freeze(babelHelpers.extends({},L,{pake_messages:{autoIncrement:!1,defaults:{},id:258,indexes:{},primaryKey:{fields:["sessionId"],ignoreNulls:[]}}})),k=Object.freeze(babelHelpers.extends({},E,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),I=Object.freeze(babelHelpers.extends({},k,{contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),T=Object.freeze(babelHelpers.extends({},I,{encrypted_backups_otc_devices:{autoIncrement:!1,defaults:{},id:261,indexes:{},primaryKey:{fields:["deviceId"],ignoreNulls:[]}}})),D=Object.freeze(babelHelpers.extends({},T,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),x=Object.freeze(babelHelpers.extends({},D,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),$=Object.freeze(babelHelpers.extends({},x,{account_synced_fields:{autoIncrement:!1,defaults:{},id:334,indexes:{},primaryKey:{fields:["accountId","syncedField"],ignoreNulls:[]}}})),P=Object.freeze(babelHelpers.extends({},$,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),N=Object.freeze(babelHelpers.extends({},P,{encrypted_backup_user_preferences:{autoIncrement:!0,defaults:{},id:335,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),M=Object.freeze(babelHelpers.extends({},N,{support_translation_feedback:{autoIncrement:!1,defaults:{},id:336,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),w=Object.freeze(babelHelpers.extends({},M,{support_translations:{autoIncrement:!1,defaults:{},id:300,indexes:{},primaryKey:{fields:["messageId","targetLocale"],ignoreNulls:[]}}})),A=Object.freeze(babelHelpers.extends({},w,{ig_thread_info:{autoIncrement:!1,defaults:{igDmSettingsMode:e.cast([0,0]),igDmSettingsTtlSec:e.cast([-1,4294967295])},id:194,indexes:{igThreadID:{fields:["igThreadId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),F=Object.freeze(babelHelpers.extends({},A,{e2ee_composer_draft_link_preview:{autoIncrement:!1,defaults:{},id:329,indexes:{},primaryKey:{fields:["draftId"],ignoreNulls:[]}}})),O=Object.freeze(babelHelpers.extends({},F,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),B=Object.freeze(babelHelpers.extends({},O,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),W=Object.freeze(babelHelpers.extends({},B,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),q=Object.freeze(babelHelpers.extends({},W,{admin_message_ctas:{autoIncrement:!1,defaults:{showAdChoiceIcon:!1,timestampMs:e.cast([0,0])},id:27,indexes:{ctaId:{fields:["ctaId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","ctaId"],ignoreNulls:[]}}})),U=Object.freeze(babelHelpers.extends({},q,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,isVideoQuickSend:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),V=Object.freeze(babelHelpers.extends({},U,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),H=Object.freeze(babelHelpers.extends({},V,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),G=Object.freeze(babelHelpers.extends({},H,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),z=Object.freeze(babelHelpers.extends({},G,{messaging_privacy_settings:{autoIncrement:!1,defaults:{e2eeHdMediaEnabled:!1,e2eeXmaPreviewsDisabled:!1,readReceiptsDisabled:e.cast([0,0])},id:288,indexes:{},primaryKey:{fields:["userId"],ignoreNulls:[]}}})),j=Object.freeze(babelHelpers.extends({},z,{media_staging:{autoIncrement:!1,defaults:{progress:0},id:161,indexes:{},primaryKey:{fields:["offlineAttachmentId"],ignoreNulls:[]}}})),K=Object.freeze(babelHelpers.extends({},j,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Q=Object.freeze(babelHelpers.extends({},K,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),X=Object.freeze(babelHelpers.extends({},Q,{community_folders:{autoIncrement:!1,defaults:{capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),inviteStatus:e.cast([0,0]),notificationMutedUntil:e.cast([0,0])},id:162,indexes:{byFbGroupId:{fields:["fbGroupId","folderId"],ignoreNulls:[]}},primaryKey:{fields:["folderId"],ignoreNulls:[]}}})),Y=Object.freeze(babelHelpers.extends({},X,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),J=Object.freeze(babelHelpers.extends({},Y,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),Z=Object.freeze(babelHelpers.extends({},J,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),ee=Object.freeze(babelHelpers.extends({},Z,{horizon_groups_key_mapping:{autoIncrement:!1,defaults:{},id:338,indexes:{},primaryKey:{fields:["threadKey","groupKey"],ignoreNulls:[]}}})),te=Object.freeze(babelHelpers.extends({},ee,{ctx_ad_context:{autoIncrement:!1,defaults:{},id:337,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),ne=Object.freeze(babelHelpers.extends({},te,{rtc_ongoing_calls_on_threads_v2:{autoIncrement:!1,defaults:{},id:23,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}},threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),re=Object.freeze(babelHelpers.extends({},ne,{horizon_party_members:{autoIncrement:!1,defaults:{},id:339,indexes:{},primaryKey:{fields:["partyKey","userId"],ignoreNulls:[]}}})),oe=Object.freeze(babelHelpers.extends({},re,{thread_theme_search_queries:{autoIncrement:!1,defaults:{},id:340,indexes:{},primaryKey:{fields:["query"],ignoreNulls:[]}},thread_theme_search_results:{autoIncrement:!1,defaults:{},id:341,indexes:{},primaryKey:{fields:["resultIndex","query"],ignoreNulls:[]}}})),ae=Object.freeze(babelHelpers.extends({},oe,{client_media_status:{autoIncrement:!1,defaults:{},id:342,indexes:{},primaryKey:{fields:["id"],ignoreNulls:[]}}})),ie=Object.freeze(babelHelpers.extends({},ae,{secure_encrypted_backups_epochs:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0])},id:169,indexes:{fk_secure_encrypted_backups_client_state:{fields:["backupId","epochId"],ignoreNulls:[]}},primaryKey:{fields:["epochId"],ignoreNulls:[]}}})),le=Object.freeze(babelHelpers.extends({},ie,{contacts:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),blockedByViewerStatus:e.cast([0,0]),canViewerMessage:!0,capabilities2:e.cast([0,0]),contactReachabilityStatusType:e.cast([0,0]),contactType:e.cast([0,0]),contactTypeExact:e.cast([0,0]),friendshipStatus:e.cast([0,5]),gender:e.cast([0,0]),isEmployee:!1,isMemorialized:!1,isMessengerUser:!1,optimisticBlockedByViewerStatus:e.cast([0,0]),optimisticBlockedByViewerStatusTimestampMs:e.cast([0,0]),rank:0,restrictionType:e.cast([0,0]),waConnectStatus:e.cast([0,0])},id:7,indexes:{blockedByViewerStatusId:{fields:["blockedByViewerStatus","id"],ignoreNulls:[]}},primaryKey:{fields:["id"],ignoreNulls:[]}}})),se=Object.freeze(babelHelpers.extends({},le,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ue=Object.freeze(babelHelpers.extends({},se,{encrypted_backups_reenrollment_trigger:{autoIncrement:!0,defaults:{},id:343,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),ce=Object.freeze(babelHelpers.extends({},ue,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),de=Object.freeze(babelHelpers.extends({},ce,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),me=Object.freeze(babelHelpers.extends({},de,{thread_label_mappings:{autoIncrement:!1,defaults:{sortKey:e.cast([0,0])},id:237,indexes:{labelId:{fields:["labelId","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","labelId"],ignoreNulls:[]}}})),pe=Object.freeze(babelHelpers.extends({},me,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),_e=Object.freeze(babelHelpers.extends({},pe,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),fe=Object.freeze(babelHelpers.extends({},_e,{pending_protobuf_backups_context:{autoIncrement:!0,defaults:{},id:305,indexes:{},primaryKey:{fields:["pk"],ignoreNulls:[]}}})),ge=Object.freeze(babelHelpers.extends({},fe,{threads:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),capabilities:e.cast([0,0]),capabilities2:e.cast([0,0]),capabilities3:e.cast([0,0]),capabilities4:e.cast([0,0]),capabilities5:e.cast([0,0]),disableComposerInput:!1,draftMessage:"",hasPersistentMenu:!1,isAdminSnippet:!1,isCustomThreadPicture:!1,isDisappearingMode:!1,isHidden:!1,isReadReceiptsDisabled:!1,lastActivityTimestampMs:e.cast([0,0]),lastReadWatermarkTimestampMs:e.cast([0,0]),muteCallsExpireTimeMs:e.cast([0,0]),muteExpireTimeMs:e.cast([0,0]),muteMentionExpireTimeMs:e.cast([0,0]),ongoingCallState:e.cast([0,0]),readReceiptsDisabledV2:e.cast([0,0]),removeWatermarkTimestampMs:e.cast([0,0]),snippetHasEmoji:!1,threadInvitesEnabled:e.cast([0,0]),threadInvitesEnabledV2:e.cast([0,0]),typingIndicatorDisabled:e.cast([0,0]),unreadDisappearingMessageCount:e.cast([0,0]),unsendLimitMs:e.cast([0,0])},id:9,indexes:{clientThreadKey:{fields:["clientThreadKey","threadKey"],ignoreNulls:["clientThreadKey"]},lastActivityTimestampMs:{fields:["lastActivityTimestampMs","threadKey"],ignoreNulls:[]},parentThreadKeyLastActivityTimestampMs:{fields:["parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},secondaryParentThreadKeyLastActivityTimestampMs:{fields:["secondaryParentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:["secondaryParentThreadKey"]},syncGroupParentThreadKeyLastActivityTimestampMs:{fields:["syncGroup","parentThreadKey","lastActivityTimestampMs","threadKey"],ignoreNulls:[]},threadTypeLastActivityTimestampMs:{fields:["threadType","lastActivityTimestampMs","threadKey"],ignoreNulls:[]}},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),he=Object.freeze(babelHelpers.extends({},ge,{server_search_results:{autoIncrement:!1,defaults:{},id:65,indexes:{},primaryKey:{fields:["query","resultId","globalIndex"],ignoreNulls:[]}}})),ye=Object.freeze(babelHelpers.extends({},he,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ce=Object.freeze(babelHelpers.extends({},ye,{messages_optimistic_context:{autoIncrement:!1,defaults:{transportKey:"FBBroker"},id:31,indexes:{},primaryKey:{fields:["taskId"],ignoreNulls:[]}}})),be=Object.freeze(babelHelpers.extends({},Ce,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}},subthread_message_ranges:{autoIncrement:!1,defaults:{},id:347,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}},subthread_ranges:{autoIncrement:!1,defaults:{},id:346,indexes:{},primaryKey:{fields:["parentThreadKey"],ignoreNulls:[]}},subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}},subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),ve=Object.freeze(babelHelpers.extends({},be,{subthread_senders:{autoIncrement:!1,defaults:{},id:345,indexes:{lastActivityTimestampMsOrder:{fields:["subthreadParentMessageId","lastActivityTimestampMs","contactId"],ignoreNulls:[]}},primaryKey:{fields:["subthreadParentMessageId","contactId"],ignoreNulls:[]}}})),Se=Object.freeze(babelHelpers.extends({},ve,{subthreads:{autoIncrement:!1,defaults:{},id:344,indexes:{lastActivityTimestampMsOrder:{fields:["parentThreadKey","lastActivityTimestampMs","parentMessageId"],ignoreNulls:[]}},primaryKey:{fields:["parentThreadKey","parentMessageId"],ignoreNulls:[]}}})),Re=Object.freeze(babelHelpers.extends({},Se,{subthread_message_ranges_v2:{autoIncrement:!1,defaults:{},id:348,indexes:{},primaryKey:{fields:["parentThreadKey","parentMessageId","minTimestampMs"],ignoreNulls:[]}}})),Le=Object.freeze(babelHelpers.extends({},Re,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyMessageHiddenState:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ee=Object.freeze(babelHelpers.extends({},Le,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),ke=Object.freeze(babelHelpers.extends({},Ee,{messages:{autoIncrement:!1,defaults:{authorityLevel:e.cast([0,0]),displayedContentTypes:e.cast([0,1]),hasQuickReplies:!1,isAdminMessage:!1,isCollapsed:!1,isExpired:!1,isUnsent:!1,messageHiddenState:e.cast([0,0]),messageRenderingType:e.cast([0,0]),primarySortKey:e.cast([0,0]),quickReplyType:e.cast([0,0]),replyAttachmentType:e.cast([0,0]),replyMessageHiddenState:e.cast([0,0]),replyStatus:e.cast([0,0]),secondarySortKey:e.cast([0,0]),sendStatus:e.cast([0,0]),sendStatusV2:e.cast([0,0]),textHasLinks:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker",unsentTimestampMs:e.cast([0,0]),viewFlags:e.cast([0,0])},id:12,indexes:{collapsibleId:{fields:["collapsibleId","messageId"],ignoreNulls:["collapsibleId"]},ephemeralExpirationTs:{fields:["ephemeralExpirationTs","messageId"],ignoreNulls:["ephemeralExpirationTs"]},messageDisplayOrder:{fields:["threadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderAuthority:{fields:["threadKey","authorityLevel","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:[]},messageDisplayOrderOfflineThreadingId:{fields:["threadKey","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},messageGroupId:{fields:["groupId","messageId"],ignoreNulls:["groupId"]},messageId:{fields:["messageId"],ignoreNulls:[]},messageSubthreadKey:{fields:["subthreadKey","primarySortKey","secondarySortKey","messageId","isCollapsed"],ignoreNulls:["subthreadKey"]},messageSubthreadParentMessageId:{fields:["threadKey","subthreadParentMessageId","primarySortKey","offlineThreadingId","messageId","isCollapsed"],ignoreNulls:[]},optimistic:{fields:["offlineThreadingId"],ignoreNulls:[]},replySourceIdMessageID:{fields:["replySourceId","messageId"],ignoreNulls:["replySourceId"]},threadKeyPrimarySortKeySecondarySortKeyBotResponseId:{fields:["threadKey","primarySortKey","secondarySortKey","botResponseId","messageId"],ignoreNulls:["botResponseId"]},timestampMs:{fields:["timestampMs","messageId"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","timestampMs","messageId"],ignoreNulls:[]}}})),Ie=Object.freeze(babelHelpers.extends({},ke,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),Te=Object.freeze(babelHelpers.extends({},Ie,{business_thread_info:{autoIncrement:!1,defaults:{},id:260,indexes:{},primaryKey:{fields:["threadKey"],ignoreNulls:[]}}})),De=Object.freeze(babelHelpers.extends({},Te,{attachments:{autoIncrement:!1,defaults:{attachmentIndex:e.cast([0,0]),attachmentType:e.cast([0,0]),authorityLevel:e.cast([0,0]),hasMedia:!1,hasXma:!1,isSharable:!1,timestampMs:e.cast([0,0]),transportKey:"FBBroker"},id:16,indexes:{fk_messages:{fields:["threadKey","timestampMs","messageId","attachmentFbid"],ignoreNulls:[]},idx_attachments_collapsible_id:{fields:["threadKey","collapsibleId","messageId","attachmentFbid"],ignoreNulls:[]}},primaryKey:{fields:["threadKey","messageId","attachmentFbid"],ignoreNulls:[]}}})),xe=Object.freeze(babelHelpers.extends({},De,{multi_step_replies:{autoIncrement:!1,defaults:{},id:349,indexes:{},primaryKey:{fields:["threadKey","messageId","automationRuleId","mailboxType"],ignoreNulls:[]}}})),$e=Object.freeze({afterUpgrade:o("LSDbV1.upgrade").afterUpgrade,revision:76,tables:xe,upgrade:{1:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(u),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),2:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(c),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),3:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(d),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),4:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(m),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),5:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(p),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),6:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(_),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),7:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(f),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),8:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(g),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),9:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(h),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),10:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(y),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),11:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(C),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),12:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(b),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),13:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(v),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),14:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(S),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),15:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(R),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),16:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(L),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),17:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(E),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),18:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(k),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),19:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(I),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),20:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(T),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),21:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(D),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),22:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(x),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),23:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData($),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),24:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(P),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),25:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(N),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),26:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(M),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),27:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(w),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),28:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(A),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),29:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(F),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),30:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(O),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),31:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(B),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),32:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(W),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),33:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(q),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),34:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(U),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),35:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(V),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),36:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(H),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),37:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(G),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),38:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(z),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),39:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(j),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),40:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(K),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),41:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Q),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),42:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(X),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),43:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Y),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),44:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(J),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),45:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Z),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),46:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ee),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),47:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(te),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),48:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ne),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),49:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(re),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),50:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(oe),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),51:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ae),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),52:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ie),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),53:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(le),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),54:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(se),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),55:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ue),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),56:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ce),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),57:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(de),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),58:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(me),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),59:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(pe),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),60:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(_e),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),61:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(fe),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),62:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ge),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),63:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(he),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),64:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ye),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),65:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ce),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),66:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(be),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),67:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ve),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),68:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Se),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1)});function t(t){return e.apply(this,arguments)}return t})(),69:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Re),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),70:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Le),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),71:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ee),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),72:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(ke),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),73:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Ie),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),74:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(Te),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),75:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(De),n=t.defaults,r=t.tableData;yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})(),76:(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=o("ReStoreVersionedSchemaProviderUtil").getTableData(xe),n=t.defaults,r=t.tableData;yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(e,r,n,!1),yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(e.transaction,r,!1,n)});function t(t){return e.apply(this,arguments)}return t})()}});l.LSDbV1=$e}),98);
__d("ReStoreDbVersion",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e}function s(e){return e}function u(e,t){if(t in e)return e[t];throw r("FBLogger")("restore_db_migrations").mustfixThrow("Cannot find version: %s",t)}l.cast=e,l.uncast=s,l.castVersion=u}),98);
__d("LSDb",["LSDbV1","ReStoreDbVersion","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=Object.freeze({V1:o("ReStoreDbVersion").cast("V1")}),u={targetVersion:o("ReStoreDbVersion").castVersion(s,"V"+((e=r("justknobx")._("2392"))!=null?e:0)),versions:{V1:o("LSDbV1").LSDbV1},legacyVersions:{},versionOrder:["V1"]};l.LSDbVersion=s,l.Versions=u}),98);
__d("LSDbForeignKeys",[],(function(t,n,r,o,a,i){"use strict";var e={attachments:[{indexName:"fk_attachments",tableName:"attachment_items"},{indexName:"fk_attachments",tableName:"attachment_ctas"}],community_chat_poll_options:[{tableName:"community_chat_poll_votes"}],community_chat_polls:[{tableName:"community_chat_poll_options"},{tableName:"community_chat_poll_votes"}],data_trace_meta:[{indexName:"traceIdAddonId",tableName:"data_trace_addon"}],messages:[{indexName:"fk_messages",tableName:"attachments"},{indexName:"fk_messages",tableName:"reactions"}],pending_tasks:[{tableName:"encrypted_backup_restore_task_payload_context"},{indexName:"fk_pending_tasks",tableName:"pending_backups_context_v2"},{indexName:"fk_pending_tasks",tableName:"secure_recovery_code_data"},{indexName:"fk_pending_tasks",tableName:"secure_encrypted_backups_message_thread_id_context"},{tableName:"messages_optimistic_context"}],rooms:[{tableName:"room_participants"}],secure_encrypted_backups_client_state:[{indexName:"fk_secure_encrypted_backups_client_state",tableName:"secure_encrypted_backups_epochs"}],secure_encrypted_backups_devices:[{indexName:"fk_secure_encrypted_backups_device_supported_versions_device_id",tableName:"secure_encrypted_backups_device_supported_versions"}],threads:[{indexName:"threadKeyCtaId",tableName:"thread_nullstate_ctas"},{tableName:"messages"},{tableName:"attachments"},{tableName:"thread_nullstate"},{tableName:"messages_ranges_v2__generated"},{tableName:"attachments_ranges_v2__generated"},{tableName:"participants"},{indexName:"fk_threads",tableName:"mi_act_mapping_table"},{tableName:"group_invites"}]},l=e;i.default=l}),66);
__d("MAWDbSchema.restore",["MAWDbSchema","MAWGetDbVersion","objectEntries","sortBy"],(function(t,n,r,o,a,i,l){"use strict";var e={e2ee_appData:!0,e2ee_appMeta:!0,e2ee_browserEncryptionMeta:!0,e2ee_chunk:!0,e2ee_collectionVersions:!0,e2ee_deletedMessages:!0,e2ee_deviceChangeAlerts:!0,e2ee_dyiBatch:!0,e2ee_ebMessageRestoreTasks:!0,e2ee_ebMsgRanges:!0,e2ee_ebUploadQueue:!0,e2ee_editMsgHistory:!0,e2ee_encryptionMetaV3:!0,e2ee_ephemeralSettings:!0,e2ee_existingUsers:!0,e2ee_ftsBackloggedMessages:!0,e2ee_ftsEncryptionMeta:!0,e2ee_ftsIndexV3:!0,e2ee_ftsPurgeBacklog:!0,e2ee_ftsPurgeThreadBacklog:!0,e2ee_groupInfo:!0,e2ee_groupInvites:!0,e2ee_historySyncQRCodeData:!0,e2ee_historySyncQRCodeSecretKey:!0,e2ee_igMessageAuxiliaryInfo:!0,e2ee_media:!0,e2ee_mediaBackup:!0,e2ee_messages:!0,e2ee_missingKeys:!0,e2ee_participants:!0,e2ee_pendingMessageStanzaQueue:!0,e2ee_pendingMutations:!0,e2ee_pendingReceipts:!0,e2ee_pendingStanzas:!0,e2ee_poll:!0,e2ee_reactions:!0,e2ee_receiverFetchInfo:!0,e2ee_syncActions:!0,e2ee_syncKeys:!0,e2ee_threads:!0,e2ee_unrenderedMessages:!0,e2ee_xma:!0};function s(e){var t=Object.fromEntries(r("objectEntries")(e.indexes).filter(function(e){var t=e[1];return t.multiEntry_DO_NOT_USE!==!0}).map(function(t){var n=t[0],r=t[1];return[n,{columns:[].concat(r.columns,r.unique!==!1?[]:e.primaryKey),predicate:r.predicate}]})),n={auto_increment:e.autoIncrement===!0,indexes:t,name:e.name,primary_key:e.primaryKey};return n}var u=r("sortBy")(Array.from(o("MAWDbSchema").dbSchema.entries()),function(e){var t=e[0];return t}).map(function(e){var t=e[0],n=e[1];return{schema:n,version:t}}),c=function(t){return Array.from(u.filter(function(e){return e.version<=t&&e.schema!=null}).reduce(function(e,t){var n;return(n=t.schema)==null||n.forEach(function(t){if(t.removed===!0){e.delete(t.name);return}e.set(t.name,s(t))}),e},new Map).values())},d=c(o("MAWGetDbVersion").getArmadilloDbVersion());l.msgrDbStores=e,l.getSchemaForVersion=c,l.clientSchema=d}),98);
__d("LSDbSchema",["MAWDbSchema.restore"],(function(t,n,r,o,a,i){"use strict";var e=importNamespace("MAWDbSchema.restore").clientSchema;i.clientSchema=e}),66);
__d("LSTransactionLogger",["cr:8879"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:8879")}),98);
__d("LSReStoreQplLogger",["LSTransactionLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{startTracking:function(n,o){var t=r("LSTransactionLogger")==null?void 0:r("LSTransactionLogger").startTracking(n,e,o);return{addAnnotations:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").addAnnotations(e,t,o)},end:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").end(e,t)},fail:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").fail(e,t,o)},mark:function(o){r("LSTransactionLogger")==null||r("LSTransactionLogger").mark(e,t,o)},recordLogicalWrite:function(){r("LSTransactionLogger")==null||r("LSTransactionLogger").recordLogicalWrite(t)}}}}}l.createQplLogger=e}),98);
__d("ReStoreCustomMigration",["ReStoreMigrateUtil","ReStorePersistedMetadata","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return s.apply(this,arguments)}function s(){return s=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r=t.storeTx,a=t.transaction;if(e==null)return o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED;var i=new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion,l=(n=yield i.read(r))==null?void 0:n.customMigrationVersion;return e.targetVersion===l?o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED:(yield e.migration(l!=null?l:0,a),i.write(r,{customMigrationVersion:e.targetVersion}),o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE)}),s.apply(this,arguments)}l.runCustomMigration=e}),98);
__d("ReStoreHooks",["PromiseOrValue"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return{afterAdd:t.reduce(function(t,n){var r=n.onAfterAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),afterEntriesNext:t.reduce(function(e,t){var n=t.onAfterEntriesNext;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterGet:t.reduce(function(e,t){var n=t.onAfterGet;return n?function(t){return n({tableName:t.tableName,value:e(t)})}:e},function(e){var t=e.value;return t}),afterPut:t.reduce(function(t,n){var r=n.onAfterPut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeAdd:t.reduce(function(t,n){var r=n.onBeforeAdd;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeDelete:t.reduce(function(t,n){var r=n.onBeforeDelete;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.key;return t}),beforeNotify:t.reduce(function(e,t){var n=t.onBeforeNotify;return n?function(t){var r=e(t),o=r.newValue,a=r.prevValue;return n({newValue:o,prevValue:a,tableName:t.tableName})}:e},function(e){var t=e.newValue,n=e.prevValue;return{newValue:t,prevValue:n}}),beforePut:t.reduce(function(t,n){var r=n.onBeforePut;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t}),beforeUpsert:t.reduce(function(t,n){var r=n.onBeforeUpsert;return r?function(n){return(e||(e=o("PromiseOrValue"))).map(t(n),function(e){return r(babelHelpers.extends({},n,{value:e}))})}:t},function(e){var t=e.value;return t})}}l.createHookManager=s}),98);
__d("ReStoreIndexeddbPersistenceInitFailure",[],(function(t,n,r,o,a,i){"use strict";var e="ReStoreIndexeddbPersistenceInitFailure",l=(function(t){function n(n){var r;return r=t.call(this,n)||this,r.message=n,r.name=e,r}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));i.ERROR_NAME=e,i.ReStoreIndexeddbPersistenceInitFailure=l}),66);
__d("ReStorePersistence",["FBLogger","JSONStringifyBigIntSafe","ReStoreCommonUtils","ReStoreKeyComparer","ReStorePersistenceIds","ReStoreUtils","gkx","isPromise","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=["dir"],s,u,c=d();function d(){return r("gkx")("17880")?"__ReStore_DELETED__":{}}var m={gt:[!1,0],gte:[!0,0],lt:[!0,1],lte:[!1,1]},p=new Set(["encrypted_backups_virtual_devices","secure_encrypted_backups_recovery_code_status","device_metadata","secure_encrypted_backups_epochs","secure_encrypted_backups_client_state","encrypted_backups","experiences_shared_state"]),_=16,f=64,g=64,h=Math.floor(_/2),y=Math.floor(f/2),C=Math.floor(g/2);function b(e){if(e==null)return e;var t=Object.getOwnPropertyNames(e),n={},r,o;for(r=0;r<t.length;r++)o=e[t[r]],n[t[r]]=o;return n}function v(e,t){return t===void 0&&(t=c),e===t}function S(e,t,n){for(var r=0,a=e.length-1;r<=a;){var i=r+a>>1;(n[0]?(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<0:(u||(u=o("ReStoreKeyComparer"))).compareKey(e[i],t)<=0)?r=i+1:a=i-1}var l=[r,a][n[1]];return l===e.length?-1:l}var R=(function(){function t(e,t,n,r,o,a){this.$2=t,this.$3=n,this.$1=e,this.$4=r,this.$5=o,this.$6=a}var n=t.prototype;return n.$7=function(t){return t==null?"root":"index("+t+")"},n.$8=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!0,keys:[].concat(t.keys),nextId:t.nextId,prevId:t.prevId}})},n.$9=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{children:[].concat(t.children),isLeaf:!1,keys:[].concat(t.keys)}})},n.$10=function(t,n){return o("ReStoreUtils").getOrCreate(this.$1,n,function(){return{headId:t.headId,rootId:t.rootId,tailId:t.tailId}})},n.$11=function(t,n){if(!t.length)return[0,0];var e=S(t,n,m.gte);return e===-1?[t.length,0]:(u||(u=o("ReStoreKeyComparer"))).compareKey(t[e],n)===0?[e,1]:[e,0]},n.$12=function*(t,n,o,a){for(var e=yield*this.$13(t,n),i=e,l=n,s=-1;!i.isLeaf;){if(a==null||a.push([i,l,s]),i.keys==null){if(p.has(this.$2)){var u,c;(u=(c=this.$4).logError)==null||u.call(c,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("Encountered not leaf node without keys")}s=S(i.keys,o,m.gt),s===-1&&(s=i.keys.length),l=i.children[s],i=yield*this.$13(t,l)}return[i,l,s]},n.$14=function*(t,n){this.$3();var e=this.$1.get(n);if(!v(e)){if(e!==void 0)return e;var o=this.$4.get(t,this.$2,n,this.$5);return(s||(s=r("isPromise")))(o)?yield o:o}},n.$13=function*(t,n){var e=yield*this.$14(t,n);if(e===void 0){var o,a,i=this.$1.get(n);throw(o=(a=this.$4).logError)==null||o.call(a,this.$2,this.$5,"dbCorruption",{deletedInThisTxn:v(i)?"true":"false",id:r("JSONStringifyBigIntSafe")(n)||""}),r("FBLogger")("messenger_web").mustfixThrow("value not found")}return e},n.$15=function*(t,n){var e,r=(e=yield*this.$14(t,o("ReStorePersistenceIds").idForNextId))!=null?e:0;return this.$1.set("nextId",r+1),this.$1.set(r,n),r},n.$16=function(t,n){this.$3(),this.$1.set(t,n)},n.incrementSeed=function*(t,n){var e,r=(e=yield*this.$14(t,"seed"))!=null?e:0;return n===void 0?(this.$1.set("seed",r+1),r):(n>=r&&this.$1.set("seed",n+1),n)},n.readData=function*(t,n){return yield*this.$14(t,n)},n.$17=function*(t,n,r){var e=yield*this.$14(t,this.$7(n));if(e!=null){var a=yield*this.$12(t,e.rootId,r),i=a[0],l=S(i.keys,r,m.gte);if(!(l===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[l],r)!==0))return i.children[l]}},n.tableGet=function*(t,n){var e=yield*this.$17(t,void 0,n);if(e!==void 0)return yield*this.$18(t,e)},n.$18=function*(t,n){return Array.isArray(n)?n[0]:yield*this.$13(t,n)},n.$19=function*(t,n,o,a){if(Array.isArray(n)){var e=yield*this.$17(t,void 0,n);if(e==null)throw r("gkx")("3570")&&this.$6(o,a,this.$2),r("FBLogger")("messenger_web").mustfixThrow("Encountered value in index %s but not found in table %s",o,this.$2);return yield*this.$18(t,e)}return yield*this.$13(t,n)},n.indexGet=function*(t,n,r){var e=yield*this.$17(t,n,r);if(e!=null)return yield*this.$19(t,e,n,r)},n.getId=function*(t,n){var e=yield*this.$17(t,void 0,n);return Array.isArray(e)?n:e},n.tableSet=function*(t,n,r){var e,o=this.$4.shouldInline(this.$2,r),a=this.$7(),i=yield*this.$14(t,a);if(i==null){o||(e=yield*this.$15(t,r));var l={children:[e!=null?e:[r]],isLeaf:!0,keys:[n]},s=yield*this.$15(t,l);return this.$16(a,{headId:s,rootId:s,tailId:s}),[e!=null?e:n,!1]}var u=[],d=yield*this.$12(t,i.rootId,n,u),m=d[0],p=d[1],_=this.$11(m.keys,n),f=_[0],g=_[1],h=!1;if(g===1){var y=m.children[f];if(!Array.isArray(y))if(h=!0,o)this.$1.set(y,c);else return this.$16(y,r),[y,!1]}var C=this.$8(m,p);return o||(e=yield*this.$15(t,r)),g===0&&C.keys.splice(f,0,n),C.children.splice(f,g,e!=null?e:[r]),yield*this.$20(t,C,p,u,i,a,!0),[e!=null?e:n,g===1&&!(o&&!h)]},n.indexSet=function*(t,n,r,o){var e=this.$7(n),a=yield*this.$14(t,e);if(a==null){var i={children:[o],isLeaf:!0,keys:[r]},l=yield*this.$15(t,i);this.$16(e,{headId:l,rootId:l,tailId:l});return}var s=[],u=yield*this.$12(t,a.rootId,r,s),c=u[0],d=u[1],m=this.$11(c.keys,r),p=m[0],_=m[1];if(!(_===1&&c.children[p]===o)){var f=this.$8(c,d);f.keys.splice(p,_,r),f.children.splice(p,_,o),yield*this.$20(t,f,d,s,a,e,!1)}},n.$20=function*(t,n,r,o,a,i,l){for(var e=n,s,u,c,d=r;e.keys.length>=(e.isLeaf?l?_:f:g);e=s,d=c){var m,p=(m=o.pop())!=null?m:[];u=p[0],c=p[1],c!=null?s=this.$9(u,c):(s={children:[d],isLeaf:!1,keys:[]},this.$10(a,i).rootId=yield*this.$15(t,s));var h=Math.floor(e.keys.length/2),y=void 0;if(e.isLeaf){var C={children:e.children.slice(h),isLeaf:!0,keys:e.keys.slice(h),nextId:e.nextId,prevId:d},b=y=e.nextId=yield*this.$15(t,C),v=C.nextId;v?this.$8(yield*this.$13(t,v),v).prevId=b:this.$10(a,i).tailId=y}else y=yield*this.$15(t,{children:e.children.slice(h+1),isLeaf:!1,keys:e.keys.slice(h+1)});var S=this.$11(s.keys,e.keys[h]),R=S[0],L=S[1];s.keys.splice(R,L,e.keys[h]),s.children.splice(R+1,0,y),e.keys.length=h,e.children.length=h+(e.isLeaf?0:1)}},n.tableDelete=function*(t,n){var e=yield*this.$21(t,void 0,n);return e==null?!1:(Array.isArray(e)||(this.$3(),this.$1.set(e,c)),!0)},n.indexDelete=function*(t,n,r){return(yield*this.$21(t,n,r))!=null},n.$21=function*(t,n,a){var e=this.$7(n),i=yield*this.$14(t,e);if(i!=null){var l=[],s=yield*this.$12(t,i.rootId,a,l),d=s[0],_=s[1],f=s[2],g=this.$8(d,_),b=S(d.keys,a,m.gte);if(!(b===-1||(u||(u=o("ReStoreKeyComparer"))).compareKey(d.keys[b],a)!==0)){var v=g.children[b];g.keys.splice(b,1),g.children.splice(b,1);for(var R=g,L=_,E=f,k,I,T,D;R.keys.length<(R.isLeaf?n==null?h:y:C)&&l.length;x=[k,T,D],R=x[0],L=x[1],E=x[2],x){var x,$=l.pop();I=$[0],T=$[1],D=$[2],k=this.$9(I,T);var P=[[{nodeId:k.children[E-1]},{node:R,nodeId:L},E-1],[{node:R,nodeId:L},{nodeId:k.children[E+1]},E]].filter(function(e){var t=e[0],n=e[1];return t.nodeId!==void 0&&n.nodeId!==void 0});for(var N of P){var M=N[0],w=N[1],A=N[2],F=M.node=M.node||(yield*this.$13(t,M.nodeId)),O=w.node=w.node||(yield*this.$13(t,w.nodeId)),B=R.isLeaf?n==null?h:y:C;if(F.keys.length+w.node.keys.length>=B*2){if(R.isLeaf){var W=this.$8(F,M.nodeId),q=this.$8(O,w.nodeId),U=[].concat(W.children,q.children),V=[].concat(F.keys,O.keys);W.children=(q.children=U).splice(0,B),W.keys=(q.keys=V).splice(0,B),k.keys[A]=V[0]}else{var H=this.$9(F,M.nodeId),G=this.$9(O,w.nodeId),z=[].concat(H.children,G.children),j=[].concat(H.keys,[k.keys[A]],G.keys);H.children=(G.children=z).splice(0,B+1),k.keys[A]=j.splice(B,1)[0],H.keys=(G.keys=j).splice(0,B)}return v}}for(var K of P){var Q=K[0],X=K[1],Y=K[2];if(R.isLeaf){var J=this.$8(Q.node,Q.nodeId),Z=this.$8(X.node,X.nodeId);J.children=[].concat(J.children,Z.children),J.keys=[].concat(J.keys,Z.keys),Z.keys.length=0;var ee=Z.nextId;if(ee){var te=this.$8(yield*this.$13(t,ee),ee);te.prevId=Q.nodeId}else this.$10(i,e).tailId=Q.nodeId;J.nextId=Z.nextId}else{var ne=this.$9(Q.node,Q.nodeId),re=this.$9(X.node,X.nodeId);ne.children=[].concat(ne.children,re.children),ne.keys=[].concat(ne.keys,[k.keys[Y]],re.keys)}k.keys.splice(Y,1),k.children.splice(Y+1,1),this.$1.set(X.nodeId,c);break}}var oe=yield*this.$13(t,i.rootId);if(!oe.keys.length&&oe.children.length){if(oe.isLeaf){if(p.has(this.$2)){var ae,ie;(ae=(ie=this.$4).logError)==null||ae.call(ie,this.$2,this.$5,"dbCorruption",{})}throw r("FBLogger")("messenger_web").mustfixThrow("cannot be leaf")}this.$1.set(i.rootId,c),this.$10(i,e).rootId=oe.children[0]}return v}}},n.btreeIterator=function(n,a,i){var t=i===void 0?{}:i,l=t.dir,s=l===void 0?"asc":l,c=babelHelpers.objectWithoutPropertiesLoose(t,e);function d(){if(s==="asc"){if(Object.prototype.hasOwnProperty.call(c,"gt"))return c.gt;if(Object.prototype.hasOwnProperty.call(c,"gte"))return c.gte}else{if(Object.prototype.hasOwnProperty.call(c,"lt"))return c.lt;if(Object.prototype.hasOwnProperty.call(c,"lte"))return c.lte}}function p(e){return s==="asc"?Object.prototype.hasOwnProperty.call(c,"gt")?S(e.keys,c.gt,m.gt):Object.prototype.hasOwnProperty.call(c,"gte")?S(e.keys,c.gte,m.gte):0:Object.prototype.hasOwnProperty.call(c,"lt")?S(e.keys,c.lt,m.lt):Object.prototype.hasOwnProperty.call(c,"lte")?S(e.keys,c.lte,m.lte):e.keys.length-1}if(Object.prototype.hasOwnProperty.call(c,"gt")&&Object.prototype.hasOwnProperty.call(c,"gte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both greater than and greater than or equal");if(Object.prototype.hasOwnProperty.call(c,"lt")&&Object.prototype.hasOwnProperty.call(c,"lte"))throw r("FBLogger")("messenger_web").mustfixThrow("cannot specify both less than and less than or equal");var _,f=this;return{next:function*(t){var e,i,l,g;if(_==null){var h=yield*f.$14(n,f.$7(a));if(h==null)return{done:!0};var y=d();if(y!==void 0){var C=yield*f.$12(n,h.rootId,y);i=C[0],l=C[1]}else if(s==="asc"){var b=[yield*f.$13(n,h.headId),h.headId];i=b[0],l=b[1]}else{var v=[yield*f.$13(n,h.tailId),h.tailId];i=v[0],l=v[1]}e=p(i)}else{var R=_;if(e=R.i,g=R.key,l=R.nodeId,i=yield*f.$14(n,l),t!=null){if((u||(u=o("ReStoreKeyComparer"))).compareKey(t,g)===(s==="asc"?-1:1))throw r("FBLogger")("messenger_web").mustfixThrow("key must be ahead of current key");if(i==null||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(t,i.keys[i.keys.length-1])>0){var L=yield*f.$14(n,f.$7(a));if(L==null)return{done:!0};var E=yield*f.$12(n,L.rootId,t);i=E[0],l=E[1]}e=S(i.keys,t,m[s==="asc"?"gte":"lte"])}else{if(i==null||e<0||e>=i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(i.keys[e],g)!==0){if(i==null||!i.keys.length||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[0])<0||(u||(u=o("ReStoreKeyComparer"))).compareKey(g,i.keys[i.keys.length-1])>0){var k=yield*f.$14(n,f.$7(a));if(k==null)return{done:!0};var I=yield*f.$12(n,k.rootId,g);i=I[0],l=I[1]}e=S(i.keys,g,m[s==="asc"?"lte":"gte"])}e+=s==="asc"?1:-1}}if(e<0||e>=i.keys.length)if(s==="asc"){if(i.nextId===void 0)return{done:!0};l=i.nextId,i=yield*f.$13(n,l),e=0}else{if(i.prevId===void 0)return{done:!0};l=i.prevId,i=yield*f.$13(n,l),e=i.keys.length-1}if(g=i.keys[e],_={i:e,key:g,node:i,nodeId:l},e<0||e>=i.keys.length)return{done:!0};var T=s==="asc"?Object.prototype.hasOwnProperty.call(c,"lt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lt)>=0||Object.prototype.hasOwnProperty.call(c,"lte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.lte)>0:Object.prototype.hasOwnProperty.call(c,"gt")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gt)<=0||Object.prototype.hasOwnProperty.call(c,"gte")&&(u||(u=o("ReStoreKeyComparer"))).compareKey(g,c.gte)<0;return T?{done:!0}:{done:!1,value:[i.keys[e],i.children[e]]}}}},n.tableEntries=function(t,n){n===void 0&&(n={});var e=this.btreeIterator(t,void 0,n),r=this;return{next:function*(o){var n=yield*e.next(o);if(n.done)return n;var a=n.value,i=a[0],l=a[1],s=yield*r.$18(t,l);return{done:!1,value:[i,s]}}}},n.indexEntries=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r),o=this;return{next:function*(a){var r=yield*e.next(a);if(r.done)return r;var i=r.value,l=i[0],s=i[1],u=yield*o.$19(t,s,n,l);return{done:!1,value:[l,u]}}}},n.keys=function(t,n,r){r===void 0&&(r={});var e=this.btreeIterator(t,n,r);return{next:function*(n){var t=yield*e.next(n);if(t.done)return t;var r=t.value,o=r[0];return{done:!1,value:o}}}},n.clearIds=function*(t,n){this.$3();var e=this.$7(n),r=yield*this.$14(t,e);if(this.$3(),r!=null){for(var o=yield*this.$13(t,r.rootId),a=[{id:r.rootId,node:o}];a.length>0;){var i=a.shift(),l=i.id,s=i.node;if(!s.isLeaf)for(var u of s.children){var d=yield*this.$14(t,u);d!=null&&a.push({id:u,node:d})}this.$1.set(l,c)}this.$1.set(e,c)}},n.readSeed=function*(t){var e;return(e=yield*this.$14(t,o("ReStorePersistenceIds").idForSeed))!=null?e:0},n.remove=function(t,n){this.$3(),this.$1.set(n,c)},n.writeData=function(t,n,r){this.$16(n,b(r))},n.writeNewData=function*(t,n){return yield*this.$15(t,b(n))},t})(),L=(function(){function e(e,t,n,a,i){var l=this;this.$2=new Map,this.$6=!1,this.$3=function(){if(l.$6)throw a==null||a.mark("transaction_closed"),r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed");n()},this.$4=t,this.$1=e,this.$5={get:function(n,r,a){var e=o("ReStoreUtils").getOrCreate(l.$1,r,function(){return new Map}),i=e.get(a);if(!v(i))return i!==void 0?i:t.get(n,r,a,"readwrite")},logError:t.logError,shouldInline:t.shouldInline},this.$7=i}var t=e.prototype;return t.flush=function(){for(var e of this.$2){var t=e[0],n=e[1],r=o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map});for(var a of n){var i=a[0],l=a[1];r.set(i,l)}}this.$6=!0},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$2,t,function(){return new Map}),t,this.$3,this.$5,"readwrite",this.$7)},e})(),E=(function(){function e(e,t,n,o){var a=this;this.$1=new Map,this.$2=!1,this.$7=function(){if(a.$2)throw r("FBLogger")("messenger_web").mustfixThrow("Transaction has closed: %s",a.$5)},this.$3=e,this.$4=t,this.types=e.types,this.$5=n,this.$6=o}var t=e.prototype;return t.close=function(){this.$2=!0},t.flush=async function(t){t===void 0&&(t={upgrade:!1}),await this.$3.flush(this.$1,t),this.$2=!0},t.tablePermitsSynchronousIO=function(t){var e,n,r;return(e=(n=(r=this.$3).permitsSynchronousIO)==null?void 0:n.call(r,t))!=null?e:!1},t.table=function(t){return new R(o("ReStoreUtils").getOrCreate(this.$1,t,function(){return new Map}),t,this.$7,this.$3,this.$4,this.$6)},t.createNested=function(t){return new L(this.$1,this.$3,this.$7,t,this.$6)},e})();function k(e){function t(t,n,a){r("promiseDone")((async function(){await e.runExclusively(function(){return Promise.resolve([async function(){var r=new E(e,"readwrite",void 0,function(){});await o("ReStoreCommonUtils").gen(r.table(a).indexDelete(new WeakMap,t,n)),await r.flush()},"readwrite"])},"fixBrokenIndex")})())}return{clearCache:e.clearCache,close:e.close,createTransaction:function(r,o){return new E(e,r,o,t)},isClosed:e.isClosed||function(){return!1},isPersistenceSupported:e.isPersistenceSupported,logError:e.logError,runExclusively:e.runExclusively}}l.sentinelDeleted=c,l.isDeletedValue=v,l.ReStoreDbStoreTable=R,l.ReStoreDbStoreTransaction=E,l.createDbStore=k}),98);
__d("ReStoreTransactionDelay",["setTimeout"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e==="background"?new Promise(function(e){return r("setTimeout")(e,0)}):Promise.resolve();await t}l.default=e}),98);
__d("createReStoreSubscriptionManager",["ExecutionEnvironment","FBLogger","IntervalList","Promise","PromiseOrValue","ReStoreKeyComparer","ReStoreUtils","asyncToGeneratorRuntime","getErrorSafe","isPromise","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d;function m(t,a,i){var l=new Map,m=new Map;function p(e,t){return(d||(d=o("ReStoreKeyComparer"))).compareValue(e,t)===0}function _(e,t,n,r){for(var o,a=(o=E.get(e))!=null?o:[],i=[],l=0;l<t.length;l++)for(var s=t[l],u=0;u<32&&s!==0;u++){if(s&1){var c=a[(l<<5)+u];if(!p(n[c],r[c])){var d;i[l]=((d=i[l])!=null?d:0)|1<<u%32}}s=s>>>1}return i}function f(e,t){for(var n=0;n<Math.max(e.length,t.length);n++)if((e[n]&t[n])!==0)return!0;return!1}function g(e,t,n,o){try{var a=e(t,n,o);return(u||(u=r("isPromise")))(a)?a.catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("error in ReStore subscription async handler")}):a}catch(e){var i=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(i).mustfix("error in ReStore subscription handlers")}}function h(t,r,a,i,l){var s=Array.from(r(i));if(l.operation==="put"&&l.prevValue!=null){var u=l.prevValue,d=[];for(var m of s){var p=m[0],h=m[1];h!=null&&h.forEach(function(e,t){var n;d[t]=((n=d[t])!=null?n:0)|e})}var y=_(t,d,u,l.value);return(c||(c=o("PromiseOrValue"))).all(s.map(function(e){var t=e[0],n=e[1];if(n==null||f(y,n))return g(t,i,l,a)}))}return(e||(e=n("Promise"))).all(s.map(function(e){var t=e[0],n=e[1];return g(t,i,l,a)}))}function y(e){return r("nullthrows")((l.has(e)?l:l.set(e,[r("IntervalList")((d||(d=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].primaryKeyIds.length),new Map])).get(e))}function C(e,n){var a=y(e),i=a[0],l=a[1];return r("nullthrows")((l.has(n)?l:l.set(n,r("IntervalList")((d||(d=o("ReStoreKeyComparer"))).compareKey,t.tableNames[e].indexes[n].length))).get(n))}function b(e,n,a,i,l,s){var u=function(r,o){return h(n,e.findIntersecting,s,r,o)},m=a==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],a,l),p=i==null?void 0:o("ReStoreUtils").searchKey(t.tableNames[n],i,l);if(p==null&&m!=null)return u(m,{operation:"delete",prevValue:r("nullthrows")(a)});if(m==null&&p!=null)return u(p,{operation:"add",value:r("nullthrows")(i)});if(m!=null&&p!=null)return(d||(d=o("ReStoreKeyComparer"))).compareKey(m,p)===0?u(m,{operation:"put",prevValue:r("nullthrows")(a),value:r("nullthrows")(i)}):(c||(c=o("PromiseOrValue"))).map(u(m,{operation:"delete",prevValue:r("nullthrows")(a)}),function(){return u(p,{operation:"add",value:r("nullthrows")(i)})})}function v(e,t,n,r){var a=y(e),i=a[0],l=a[1];return(c||(c=o("PromiseOrValue"))).map(b(i,e,t,n,null,r),function(){return(c||(c=o("PromiseOrValue"))).all(Array.from(l.entries()).map(function(o){var a=o[0],i=o[1];return b(i,e,t,n,a,r)}).filter(function(e){return e!=null}))})}function S(){m.forEach(function(e){return e()})}function R(e,t){function n(){var n=new Map;try{for(var o of e){var i=o[0],l=o[1];a(t,i)&&n.set(i,l)}}catch(e){var s=r("getErrorSafe")(e);r("FBLogger")("messenger_web").catching(s).mustfix("Couldnot format changes to broadcast")}return Array.from(n)}if((s||(s=r("ExecutionEnvironment"))).isInBrowser&&i!=null){var o=n();if(o.length===0)return;i.postMessage(t,o)}}(s||(s=r("ExecutionEnvironment"))).isInBrowser&&i!=null&&i.onEventReceive("notifyTableV2",function(e){r("promiseDone")(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var t=new WeakMap,n=e.values();yield(c||(c=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var r=e.value,a=r[0],i=r[1],l=i.values();return(c||(c=o("PromiseOrValue"))).map(c.loop(function(e){if(e.done)return{action:"break",value:void 0};var n=e.value,r=n[0],i=n[1];return(c||(c=o("PromiseOrValue"))).map(v(a,r,i,t),function(){return{action:"continue",value:l.next()}})},l.next()),function(){return{action:"continue",value:n.next()}})},n.next()),S()})())});var L=new Map,E=new Map;function k(e,t){if(t==null)return null;var n=L.get(e);n==null&&(n=new Map,L.set(e,n));var r=[];for(var o of t){var a,i=n.get(o);if(i==null){i=n.size,n.set(o,i);var l=E.get(e);l==null&&(l=[],E.set(e,l)),l.push(o)}var s=i>>5,u=i&31;r[s]=((a=r[s])!=null?a:0)|1<<u}return r}return{dispose:function(){l.clear(),m.clear()},notifyCommit:S,notifyTableAndIndexSubscribers:v,notifyTableV2:R,subscribeIndex:function(r,o,a,i,l){var t=C(r,o),s=!1,u=function(r,o,i){return s?(e||(e=n("Promise"))).resolve():g(a,r,o,i)},c=[u,k(r,l)];return t.set(i,c),function(){s=!0,t.delete(c)}},subscribeTable:function(r,o,a,i){var t=y(r),l=t[0],s=!1,u=function(r,a,i){return s?(e||(e=n("Promise"))).resolve():g(o,r,a,i)},c=[u,k(r,i)];return l.set(a,c),function(){s=!0,l.delete(c)}},subscribeToCommit:function(t){return m.set(t,t),function(){m.delete(t)}}}}l.default=m}),98);
__d("setImmediate",["TimeSlice","TimerStorage","setImmediateAcrossTransitions"],(function(t,n,r,o,a,i,l){function e(e){var t,n=function(){r("TimerStorage").unset(r("TimerStorage").IMMEDIATE,t);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];Function.prototype.apply.call(e,this,o)};r("TimeSlice").copyGuardForWrapper(e,n);for(var o=arguments.length,a=new Array(o>1?o-1:0),i=1;i<o;i++)a[i-1]=arguments[i];return t=r("setImmediateAcrossTransitions").apply(void 0,[n].concat(a)),r("TimerStorage").set(r("TimerStorage").IMMEDIATE,t),t}l.default=e}),98);
__d("ReStore",["ExecutionEnvironment","FBLogger","JSONStringifyBigIntSafe","ODS","PromiseOrValue","ReStoreCustomMigration","ReStoreHooks","ReStoreIndexeddbPersistenceInitFailure","ReStoreMigrateUtil","ReStoreOperationLock","ReStorePersistedMetadata","ReStorePersistence","ReStoreTable","ReStoreTransactionDelay","ReStoreUtils","clearTimeout","cr:1088","cr:6665","createReStoreSubscriptionManager","getErrorSafe","promiseDone","setImmediate","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(function(e){function t(){return e.call(this,"ReStore transaction timed out")||this}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),d={enableRejectingTransaction:!1,enableTransactionTimeout:!1,fbLoggerProject:"maw_db",odsCategoryID:600},m=12e4;function p(t){var a=t.persistence,i=t.hooks,l=i===void 0?[]:i,p=t.customMigration,_=t.loggers,f=_===void 0?{logHistory:void 0,transactionQplLogger:void 0,userFlow:void 0}:_,g=t.config,h=g===void 0?d:g,y=t.schema,C=f.logHistory,b=f.transactionQplLogger,v=f.userFlow,S=o("ReStorePersistence").createDbStore(a),R=a.tabTablesNotifier==null?void 0:a.tabTablesNotifier(),L=y.defaults,E=r("createReStoreSubscriptionManager")(y,a.shouldSync,R),k=o("ReStoreHooks").createHookManager(l),I=S.createTransaction("readonly"),T=a.types.includes("indexeddb"),D={background:{first:null,last:null},sync_script:{first:null,last:null},ui:{first:null,last:null}},x="<first_txn>";v==null||v.addPoint("migration_start"),C==null||C.debug("restore migration start");var $=new(o("ReStoreOperationLock")).WaitForPromiseLock(a.types.includes("devtool")?Promise.resolve():S.runExclusively(function(){return Promise.resolve([async function(){v==null||v.addPoint("migration_execute_start");var e=new Map,t=S.createTransaction("readwrite"),n=M(t,e);C==null||C.debug("migration transaction created");var r={changedKeys:e,clearCache:N,hooksManager:k,loggers:f,storeTx:t,transaction:n};try{var a=await y.migrate(r);v==null||v.addPoint("migration_custom_start");var i=await o("ReStoreCustomMigration").runCustomMigration(p,r);if(C==null||C.debug("migration custom end"),v==null||v.addPoint("migration_custom_end"),i===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED&&a===o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){t.close(),C==null||C.debug("restore migration skipped"),v==null||v.addPoint("migration_skipped");return}var l=a!==o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA&&e.size!==0;await t.flush({upgrade:l}),v==null||v.addPoint("migration_execute_end"),C==null||C.debug("restore migration complete")}catch(e){throw t.close(),e}v==null||v.addPoint("migration_end"),C==null||C.debug("restore migration end")},"readwrite"])},"migration").catch(function(e){var t=r("getErrorSafe")(e);throw v==null||v.addAnnotations({string:{migration_error:t.message}}),e instanceof o("ReStoreIndexeddbPersistenceInitFailure").ReStoreIndexeddbPersistenceInitFailure||v==null||v.endFail("migration_error"),C==null||C.debug("restore migration error"),r("FBLogger")("restore_init").catching(t).mustfix("migration failed"),e}));async function P(e,t){var n=new WeakMap;await S.runExclusively(function(){return Promise.resolve([async function(){var r=new Map,a=S.createTransaction("readwrite"),i=M(a,r),l=t.values();await(u||(u=o("PromiseOrValue"))).loop(function(t){if(t.done)return{action:"break",value:void 0};var r=t.value,a=r[0],s=r[1];return(u||(u=o("PromiseOrValue"))).map(u.map(s==null?i.table(e).delete(o("ReStoreUtils").searchKey(y.tableNames[e],a)):i.table(e).put(s),function(){return E.notifyTableAndIndexSubscribers(e,a,s,n)}),function(){return{action:"continue",value:l.next()}})},l.next());try{await a.flush({upgrade:!0})}catch(e){throw a.close(),e}},"readwrite"])},"applyChangesToTable")}function N(){S.clearCache==null||S.clearCache()}function M(e,t,n){return o("ReStoreUtils").createReStoreTransaction(y,L,k,E,e,t,n)}var w;function A(e,t,n,r){return new Promise(function(o,a){h.enableRejectingTransaction&&(w=a);var i=function(){return x=r,e().then(o,a).finally(function(){return x=void 0})};D[t].last==null?D[t].first=D[t].last={value:{code:i,writemode:n}}:D[t].last=D[t].last.next={value:{code:i,writemode:n}}})}function F(e){return S.runExclusively(function(){var e=D.ui.first!=null?D.ui:D.sync_script.first!=null?D.sync_script:D.background;if(e.first==null)return r("FBLogger")(h.fbLoggerProject).mustfix("Expected work is missing"),Promise.resolve([function(){return Promise.resolve({})},"readonly"]);var t=e.first;return e.first===e.last&&(e.last=null),e.first=e.first.next,Promise.resolve([t.value.code,t.value.writemode])},e)}async function O(e,t,n,o){var a;n===void 0&&(n="background"),o===void 0&&(o={source:"unknown",type:"user_initiated"});var i,l=(a=arguments[4])!=null?a:"<unknown callsite>";l==="<unknown callsite>"&&o.type!=="test_env"&&r("FBLogger")(h.fbLoggerProject).info("Unknown callsite for runInTransaction, action source %s",o.source),o.type==="maw_ui_bridge"&&(l=l+":"+o.events.map(function(e){var t=e.tag;return t}).join(","));try{i=await B(e,t,n,o,l)}catch(e){throw e instanceof c?r("FBLogger")(h.fbLoggerProject).blameToPreviousFrame().mustfixThrow("ReStore transaction took too long to execute: %s",l):e}return i}async function B(t,a,i,l,s){var c;i===void 0&&(i="background");var d,p,_,f,g,y=b==null?void 0:b.startTracking(T,i);n("cr:1088")&&(d=Date.now()),y==null||y.addAnnotations({string:{currentlyExecutingModuleAndLineNo:x,moduleAndLineNo:s}});async function C(){y==null||y.mark("execute_start"),n("cr:1088")&&(p=Date.now());var a={ref:void 0},i=new Map,c=S.createTransaction("readwrite",s),m;n("cr:1088")==null||n("cr:1088").trackingStoredProceduresForNewTransaction(l),n("cr:1088")==null||n("cr:1088").recordModuleName(s);try{var C=M(c,i,{qplFlow:y});(e||(e=r("ExecutionEnvironment"))).isInBrowser?m=await Promise.race([t(C),q(a,y,s)]):m=await t(C),a.ref!=null&&r("clearTimeout")(a.ref),y==null||y.mark("execute_end"),y==null||y.mark("flush_start"),await c.flush({actionSource:l,qplFlow:y}),y==null||y.mark("flush_end"),n("cr:1088")&&(_=Date.now())}catch(e){a.ref!=null&&r("clearTimeout")(a.ref);var b=r("getErrorSafe")(e);throw c.close(),y==null||y.fail(b),r("FBLogger")(h.fbLoggerProject).catching(b).mustfix("Transaction failed: %s",s),n("cr:1088")==null||n("cr:1088").recordRestoreTransaction({broadcast:f,complete:_,flush:g,queue:d,start:p},{changedKeys:i}),e}finally{n("cr:1088")==null||n("cr:1088").stopTrackingStoredProcedures()}n("cr:1088")&&(g=Date.now()),y==null||y.mark("broadcast_start");var v=new WeakMap,R=new Map;for(var L of i){var I=L[0],T=L[1],D=JSON.parse(I),x=D[0],$=D[1],P=R.get(x);P==null&&(P=[],R.set(x,P));var N=T[0],w=T[1],A=k.beforeNotify({newValue:w,prevValue:N,tableName:x}),F=A.newValue,O=A.prevValue;P.push([O,F])}var B=R.entries();if(await(u||(u=o("PromiseOrValue"))).loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,n=t[0],r=t[1],a=r.values();return(u||(u=o("PromiseOrValue"))).map(u.loop(function(e){if(e.done)return{action:"break",value:void 0};var t=e.value,r=t[0],i=t[1];return(u||(u=o("PromiseOrValue"))).map(E.notifyTableAndIndexSubscribers(n,r,i,v),function(){return{action:"continue",value:a.next()}})},a.next()),function(){return{action:"continue",value:B.next()}})},B.next()),E.notifyTableV2(R,"notifyTableV2"),E.notifyTableV2(R,"notifyInMemoryTable"),E.notifyCommit(),n("cr:1088")){f=Date.now();var W={broadcast:f,complete:_,flush:g,queue:d,start:p};n("cr:1088").recordRestoreTransaction(W,{changedKeys:i})}return y==null||y.mark("broadcast_end"),y==null||y.mark("post_commit_start"),r("setImmediate")(function(){y==null||y.mark("post_commit_end"),y==null||y.end()}),m}await r("ReStoreTransactionDelay")(i);var v=A(C,i,a,s);if(y==null||y.mark("enqueued"),y==null||y.addAnnotations({string:{actionSourceSource:l.source,actionSourceType:l.type},string_array:{actionSourceEvents:(c=l.events)==null?void 0:c.map(function(e){return e.tag}),actionSourceTaskNames:l.taskNames}}),r("promiseDone")(F(s),function(){},function(e){w==null||w(e)}),!(e||(e=r("ExecutionEnvironment"))).isInBrowser)return v;var R=r("setTimeout")(function(){var t,o,a;r("FBLogger")("messenger_web").mustfix("Transaction not resolved after %s ms. Source: %s; currently processing: %s. Native ops: %s. Executed SP: %s, isInWorker: %s",m,s,x,(t=r("JSONStringifyBigIntSafe")(n("cr:6665")==null?void 0:n("cr:6665").getCurrentlyExecutingNativeOps()))!=null?t:"<devtools not running>",(o=n("cr:1088")==null||(a=n("cr:1088").getStoredProcedureCallLog())==null?void 0:a.sp.map(function(e){return e.spName}).join(","))!=null?o:"<devtools not running>",(e||(e=r("ExecutionEnvironment"))).isInWorker)},m);return v.finally(function(){return r("clearTimeout")(R)})}(e||(e=r("ExecutionEnvironment"))).isInBrowser&&R!=null&&R.onEventReceive("notifyInMemoryTable",function(e){r("promiseDone")((async function(){for(var t of e){var n=t[0],r=t[1];a.shouldApplySync("notifyInMemoryTable",n)&&await P(n,r)}E.notifyCommit()})())});var W=Object.keys(y.tableNames).reduce(function(e,t){var n;return babelHelpers.extends({},e,(n={},n[t]=new(o("ReStoreTable")).ReStoreTable(y.tableNames[t],k,$,I,E),n))},{});return{clearCacheIfSupported:N,closeDb:function(){var e=S;e instanceof Object&&e.close!==void 0&&e.close()},getCustomMigrationVersion:async function(){var e=await new(o("ReStorePersistedMetadata")).ReStorePersistedCustomMigrationVersion().read(S.createTransaction("readonly"));return e==null?void 0:e.customMigrationVersion},getTableData:function(){return y},isClosed:function(){return S.isClosed()},isPersistenceSupported:function(){var e=S;return e instanceof Object&&e.isPersistenceSupported!==void 0&&e.isPersistenceSupported instanceof Function?e.isPersistenceSupported():Promise.resolve(!0)},persistence:a,persistenceTypes:a.types,runInTransaction:O,subscribeToCommit:function(t){return E.subscribeToCommit(t)},subscriptionManager:E,table:function(t){return W[t]},tables:W,uniqueId:a.uniqueId};function q(t,a,i){return h.enableTransactionTimeout?new Promise(function(e,n){var o=5e3;t.ref=r("setTimeout")(function(){a==null||a.mark("slow_transaction"),n(new c)},o)}):new Promise(function(){var a=3e4;t.ref=r("setTimeout")(function(){var t;r("FBLogger")(h.fbLoggerProject).mustfix("ReStore transaction took longer than 30000ms to execute, check it: %s. Executed SP: %s. isInWorker: %s.",i,n("cr:1088")==null||(t=n("cr:1088").getStoredProcedureCallLog())==null?void 0:t.sp.map(function(e){return e.spName}).join(","),(e||(e=r("ExecutionEnvironment"))).isInWorker),(s||(s=o("ODS"))).bumpEntityKey(h.odsCategoryID,"messenger.restore.transaction","timeout_"+(i||"").replace(/:/g,"_"),1)},a)})}}l.default=p}),98);
__d("ReStoreInstrumentation",["JSONStringifyBigIntSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){return e.set(t.uniqueId,{instance:t,persistence:t.persistence,tableNames:t.getTableData().tableNames}),t}function u(){return Array.from(e.entries()).map(function(e){var t=e[0],n=e[1];return{key:t,value:JSON.parse(r("JSONStringifyBigIntSafe")(n.tableNames))}})}l.instrument=s,l.getReStoreTables=u,l.reStoreInstancesMap=e}),98);
__d("LSReStoreWrapper",["LSReStoreQplLogger","MessengerLogHistory","ReStore","ReStoreInstrumentation","gkx","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){n===void 0&&(n=[]);var l=o("ReStoreInstrumentation").instrument(r("ReStore")({config:{enableRejectingTransaction:r("gkx")("8566"),enableTransactionTimeout:r("gkx")("2947"),fbLoggerProject:"maw_db",odsCategoryID:3185},customMigration:a,hooks:n,loggers:{logHistory:o("MessengerLogHistory").getInstance("db_init"),transactionQplLogger:o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25306500,"1488")),userFlow:i},persistence:e,schema:t}));return l}l.createLSReStore=e}),98);
__d("ReStoreVaulting",["cr:2075","cr:2151","cr:2203"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return n("cr:2075")!=null?n("cr:2075").vault(e):e}function s(e){return n("cr:2075")!=null?n("cr:2075").unvault(e):e}function u(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").unvaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}function c(e,t){return n("cr:2151")!=null&&n("cr:2203")!=null?n("cr:2151").vaultDbRow(e,t,n("cr:2203").PERSISTED_DB_VAULT_DEFINITIONS):e}l.maybeVault=e,l.maybeUnvault=s,l.maybeUnvaultDbRow=u,l.maybeVaultDbRow=c}),98);
__d("MAWLSVaultingHooks",["ReStoreVaulting"],(function(t,n,r,o,a,i,l){"use strict";var e={onAfterEntriesNext:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onAfterGet:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeVaultDbRow(n,e)},onBeforeAdd:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeNotify:function(t){var e=t.newValue,n=t.prevValue,r=t.tableName;return{newValue:o("ReStoreVaulting").maybeVaultDbRow(e,r),prevValue:o("ReStoreVaulting").maybeVaultDbRow(n,r)}},onBeforePut:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)},onBeforeUpsert:function(t){var e=t.tableName,n=t.value;return o("ReStoreVaulting").maybeUnvaultDbRow(n,e)}};l.default=e}),98);
__d("createReStoreEphemeralPersistence",["FBLogger","Promise","ReStorePersistence","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return(e.has(t)?e:e.set(t,n())).get(t)}function u(t,a){var i=(e||(e=n("Promise"))).resolve(),l=new Map;function u(e){return s(l,e,function(){return new Map})}return{flush:function(r){return r.forEach(function(e,t){var n=u(t);e.forEach(function(e,t){o("ReStorePersistence").isDeletedValue(e)?n.delete(t):n.set(t,e)})}),(e||(e=n("Promise"))).resolve()},get:function(t,n,r){var e=u(n);return e.get(r)},logError:function(t,n,o,a){if(o==="dbCorruption"){var e,i;throw r("FBLogger")("messenger_web").mustfixThrow("Got unexpected undefined in edb, mode: %s, table: %s, id: %s, deletedInThisTxn: %s",n,t,(e=a==null?void 0:a.id)!=null?e:"",(i=a==null?void 0:a.deletedInThisTxn)!=null?i:"")}},permitsSynchronousIO:function(t){return!0},queueCommitWork:void 0,runExclusively:function(r){var t=a==null?void 0:a.startTracking(!1);return t==null||t.addAnnotations({string:{source:"createReStoreEphemeralPersistence",type:"runExclusivelyPromiseChain"}}),new(e||(e=n("Promise")))(function(e,o){i=i.then(n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var n=yield r(),a=n[0],i=n[1];try{e(yield a()),t==null||t.end()}catch(e){o(e),t==null||t.fail()}})).catch(function(e){o(e)})})},shouldApplySync:function(){return!1},shouldInline:function(t,n){return!0},shouldSync:function(){return!1},types:["ephemeral"],uniqueId:t}}l.default=u}),98);
__d("createLSReStoreEphemeralPersistence",["LSReStoreQplLogger","MAWCurrentUser","createReStoreEphemeralPersistence","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MAWCurrentUser").getID();return r("createReStoreEphemeralPersistence")("LSEphemeral "+e,o("LSReStoreQplLogger").createQplLogger(r("qpl")._(25303045,"817")))}l.createLSReStoreEphemeralPersistence=e}),98);
__d("LSJSInMemoryStorage",["LSPlatformLsInitLog","LSReStoreWrapper","MAWLSVaultingHooks","createLSReStoreEphemeralPersistence"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("LSReStoreWrapper").createLSReStore(o("createLSReStoreEphemeralPersistence").createLSReStoreEphemeralPersistence(),e,[r("MAWLSVaultingHooks")],void 0,o("LSPlatformLsInitLog").lsInitLogger)}l.default=e}),98);
__d("ReStoreVersionedSchemaProvider",["FBLogger","Promise","ReStoreDefaultValueMigration","ReStoreIndicesMigration","ReStoreMigrateUtil","ReStorePersistedMetadata","ReStoreVersionedSchemaProviderUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n){this.defaults={},this.$1="",this.$1=e,this.$2=t;var r=t.versions[t.targetVersion],a=o("ReStoreVersionedSchemaProviderUtil").getTableData(r.tables,n),i=a.defaults,l=a.tableData;this.tableNames=l.tableNames,this.tableIds=l.tableIds,this.defaults=i}var a=t.prototype;return a.$3=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n,r,a,i;(n=t.loggers.logHistory)==null||n.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from scratch..."),(r=t.loggers.userFlow)==null||r.addPoint(this.$1+"_migration_versioned_from_scratch");var l={tableIds:this.tableIds,tableNames:this.tableNames};return yield o("ReStoreDefaultValueMigration").runMigrationForTableDefaultValuesIfNeeded(t.transaction,l,e,this.defaults),(a=t.loggers.logHistory)==null||a.debug("migration default values finished"),yield o("ReStoreIndicesMigration").runMigrationForIndicesIfNeeded(t,l,this.defaults,e),(i=t.loggers.logHistory)==null||i.debug("migration indices finished"),e?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function t(t,n){return e.apply(this,arguments)}return t})(),a.$4=function(o){var t=this,a=this.$2.versionOrder.indexOf(o);if(a===-1)throw r("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot resolve version %s",this.$1,o);return(e||(e=n("Promise"))).all(this.$2.versionOrder.slice(a,this.$2.versionOrder.indexOf(this.$2.targetVersion)+1).map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){if(e in t.$2.versions)return{meta:t.$2.versions[e],version:e};if(e in t.$2.legacyVersions)return{meta:yield t.$2.legacyVersions[e].load(),version:e};throw r("FBLogger")("ReStoreVersionedSchemaProvider").mustfixThrow("[%s][ReStoreVersionedSchemaProvider] Cannot find version %s in either versions or legacyVersions",t.$1,e)});return function(t){return e.apply(this,arguments)}})()))},a.$5=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n){var a,i,l,s=this.$2.targetVersion,u=this.$2.versions[s].revision;if((a=n.loggers)==null||(a=a.logHistory)==null||a.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] currentVersion: "+e+"R"+t+", targetVersion: "+s+"R"+u),s===e&&u===t){var c;return(c=n.loggers)==null||(c=c.logHistory)==null||c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] DB already up to date, skipping migration"),o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED}(i=n.loggers.logHistory)==null||i.debug("migration versioned incremental"),(l=n.loggers.userFlow)==null||l.addPoint(this.$1+"_migration_versioned_incremental");var d=yield this.$4(e);if(d.length===0||t>u)return r("FBLogger")("ReStoreVersionedSchemaProvider","migrate").mustfix("[%s][ReStoreVersionedSchemaProvider][DANGEROUS] Backward migration required from %sR%s to %sR%s, running #migrateFromScratch",this.$1,e,""+t,s,""+u),this.$3(!1,n);for(var m of d)for(var p=m.meta,_=m.version,f=_===e?t+1:0;f<=p.revision;f++){var g,h,y,C,b,v,S;(g=n.loggers)==null||(g=g.logHistory)==null||g.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating to "+_+"R"+f),(h=n.loggers.userFlow)==null||h.addPoint(this.$1+"_migration_versioned_"+_+"{$revision}_start"),yield(y=(C=p.upgrade)[f])==null?void 0:y.call(C,n),yield(b=(v=p.afterUpgrade)[f])==null?void 0:b.call(v,n.transaction),(S=n.loggers.userFlow)==null||S.addPoint(this.$1+"_migration_versioned_"+_+"{$revision}_end")}return o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE});function t(t,n,r){return e.apply(this,arguments)}return t})(),a.$6=function(r,a,i,l,s){var t;if((t=s.loggers.userFlow)==null||t.addPoint(this.$1+"_migration_versioned_hash_start"),a===i&&r===l){var u,c;return(u=s.loggers.userFlow)==null||u.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"no_changes"}})),(c=s.loggers)==null||(c=c.logHistory)==null||c.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, no changes are detected"),(e||(e=n("Promise"))).resolve(o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA)}else{var d,m;return(d=s.loggers.userFlow)==null||d.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{fromHashSchemaProvider:"changes"}})),(m=s.loggers)==null||(m=m.logHistory)==null||m.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Migrating from Hash schema provider, changed detected, calling #migrateFromScratch"),this.$3(!1,s)}},a.migrate=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i,l,s,u,c;(t=e.loggers.logHistory)==null||t.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] Start migration"),(n=e.loggers.userFlow)==null||n.addPoint(this.$1+"_migration_versioned_start");var d=o("ReStorePersistedMetadata").ReStorePersistedDefaultValuesVersion.hash(this.defaults),m=o("ReStorePersistedMetadata").ReStorePersistedSchemaVersion.hash({tableIds:this.tableIds,tableNames:this.tableNames}),p=new(o("ReStorePersistedMetadata")).ReStorePersistedSchemaVersion(this.$1),_=new(o("ReStorePersistedMetadata")).ReStorePersistedDefaultValuesVersion(this.$1),f=yield p.read(e.storeTx),g=(r=yield _.read(e.storeTx))==null?void 0:r.defaultValuesVersion,h=this.$2.versions[this.$2.targetVersion];(a=e.loggers.userFlow)==null||a.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{int:{defaultValuesVersion:d,schemaVersion:m,storeDefaultValuesVersion:g,storeRevision:f==null?void 0:f.revision,storeSchemaVersion:f==null?void 0:f.schemaVersion,targetRevision:h.revision},string:{schemaProviderType:"versioned",storeVersion:f==null?void 0:f.version,targetVersion:this.$2.targetVersion}})),(i=e.loggers.logHistory)==null||i.debug("storeSchemaVersion: "+((l=f==null?void 0:f.schemaVersion)!=null?l:"null")),(s=e.loggers.logHistory)==null||s.debug("storeDefaultValuesVersion: "+(g!=null?g:"null"));var y=yield f!=null&&f.revision!=null&&f.version!=null?this.$5(f.version,f.revision,e):(f==null?void 0:f.schemaVersion)!=null?this.$6(g,f.schemaVersion,m,d,e):this.$3(!0,e);if(y!==o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED){var C;p.write(e.storeTx,{revision:h.revision,schemaVersion:m,version:this.$2.targetVersion}),_.write(e.storeTx,{defaultValuesVersion:d}),(C=e.loggers.logHistory)==null||C.debug("version is written")}return(u=e.loggers.logHistory)==null||u.debug("["+this.$1+"][ReStoreVersionedSchemaProvider] End Migration. Result: "+y+", SchemaVersion: "+m+", Version: "+this.$2.targetVersion+", Revision: "+h.revision),(c=e.loggers.userFlow)==null||c.addPoint(this.$1+"_migration_versioned_end"),y});function t(t){return e.apply(this,arguments)}return t})(),t})();l.default=s}),98);
__d("LSVersionedSchemaProvider",["LSConstants","LSDb","LSDbForeignKeys","ReStoreVersionedSchemaProvider"],(function(t,n,r,o,a,i,l){"use strict";var e=new(r("ReStoreVersionedSchemaProvider"))(o("LSConstants").LS_SCHEMA_NAME,o("LSDb").Versions,r("LSDbForeignKeys"));l.schemaProvider=e}),98);
__d("ReStoreHashSchemaProvider",["ReStoreHashMigration","ReStoreMetadata","ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){var r=t.tableIds,a=t.tableNames;n===void 0&&(n={}),this.$1=e,this.tableNames=babelHelpers.extends({},a,o("ReStoreMetadata").RESTORE_METADATA_TABLES),this.tableIds=r,this.defaults=n!=null?n:{}}var t=e.prototype;return t.migrate=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t,n,r,a,i;(t=e.loggers.logHistory)==null||t.debug("["+this.$1+"][ReStoreHashSchemaProvider] Start migration"),(n=e.loggers.userFlow)==null||n.addAnnotations(o("ReStoreMigrateUtil").prefixAnnotations(this.$1,{string:{schemaProviderType:"hash"}})),(r=e.loggers.userFlow)==null||r.addPoint(this.$1+"_migration_hash_start");var l=yield o("ReStoreHashMigration").runHashMigration(this.$1,{tableIds:this.tableIds,tableNames:this.tableNames},this.defaults,e);return(a=e.loggers.logHistory)==null||a.debug("["+this.$1+"][ReStoreHashSchemaProvider] End migration. Result: "+l),(i=e.loggers.userFlow)==null||i.addPoint(this.$1+"_migration_hash_end"),l});function t(t){return e.apply(this,arguments)}return t})(),e})();l.default=e}),98);
__d("ReStoreSchemaProvider",["ReStoreMigrateUtil","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return{defaults:babelHelpers.extends({},e.defaults,t.defaults),migrate:(function(){var r=n("asyncToGeneratorRuntime").asyncToGenerator(function*(n){var r=yield e.migrate(n),a=yield t.migrate(n);return r===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE||a===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPGRADE_COMPLETE:r===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA||a===o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA?o("ReStoreMigrateUtil").ReStoreMigrateResult.UPDATE_METADATA:o("ReStoreMigrateUtil").ReStoreMigrateResult.NO_UPGRADE_NEEDED});function a(e){return r.apply(this,arguments)}return a})(),tableIds:babelHelpers.extends({},e.tableIds,t.tableIds),tableNames:babelHelpers.extends({},e.tableNames,t.tableNames)}}l.mergeSchemaProviders=e}),98);
__d("LSMetadata",["LSClientSchemaType","LSDbSchema","LSVersionedSchemaProvider","ReStoreHashSchemaProvider","ReStoreMetadata","ReStoreSchemaProvider"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("ReStoreSchemaProvider").mergeSchemaProviders(e,s)}var s=new(r("ReStoreHashSchemaProvider"))(o("LSClientSchemaType").MAW_SCHEMA_NAME,o("ReStoreMetadata").getBuildTableData({})([o("LSDbSchema").clientSchema])),u=e(o("LSVersionedSchemaProvider").schemaProvider);l.buildSchema=e,l.schema=u}),98);
__d("QPLFlow",["QPLUserFlow","Random","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s="FinalizationRegistry"in self?new FinalizationRegistry(function(e){var t=e.notClosedEvent;t()}):null;function u(e,t){if(s!=null){var n=s,o=e.getQPLAttrs().instanceKey;n.register(e,{notClosedEvent:function(){r("QPLUserFlow").endFailure(t,"event-not-closed",{instanceKey:o})}})}}function c(e,t){var n=m(e,t);return n.start(t==null?void 0:t.annotations),n}function d(e,t){return m(e,t)}function m(t,n){var o,a=(o=n==null?void 0:n.instanceKey)!=null?o:e++,i=n==null?void 0:n.timeoutInMs,l=!1,c={addAnnotations:function(n){r("QPLUserFlow").addAnnotations(t,n,{instanceKey:a})},addPoint:function(n,o){r("QPLUserFlow").addPoint(t,n,{instanceKey:a}),o!=null&&t!=null&&r("QPLUserFlow").addAnnotations(t,o,{instanceKey:a})},endCancel:function(n,o){r("QPLUserFlow").endCancel(t,{annotations:o,cancelReason:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},endFail:function(n,o){r("QPLUserFlow").endFailure(t,n,{annotations:o,instanceKey:a}),l=!1,s==null||s.unregister(c)},endSuccess:function(n){r("QPLUserFlow").endSuccess(t,{annotations:n,instanceKey:a}),l=!1,s==null||s.unregister(c)},getQPLAttrs:function(){return{instanceKey:a}},isActive:function(){return l},start:function(n){l=!0,r("QPLUserFlow").start(t,{annotations:n,instanceKey:a,timeoutInMs:i!=null?i:void 0}),u(c,t)}};return c}function p(){var e=!0;return{addAnnotations:function(t){},addPoint:function(t,n){},endCancel:function(t){},endFail:function(n,r){e=!1},endSuccess:function(n){e=!1},getQPLAttrs:function(){return{instanceKey:0}},isActive:function(){return e},start:function(t){}}}function _(e,t,n){return o("Random").coinflip(t)?c(e,n):p()}var f=(function(){function e(e,t){this.qplFlow=e,this.subspanName=t}var t=e.prototype;return t.start=function(t){this.qplFlow.addPoint(this.subspanName+"_start",t)},t.end=function(t){this.qplFlow.addPoint(this.subspanName+"_end",t)},t.endFail=function(t){var e,n=babelHelpers.extends({},t,{bool:babelHelpers.extends({},t==null?void 0:t.bool,(e={},e[this.subspanName+"_failed"]=!0,e))});this.end(n)},e.start=function(n,r){var t=new e(n,r);return t.start(),t},e.wrapInSubspan=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,r){var o=e.start(t,n);try{var a=yield r();return o.end(),a}catch(e){throw o.endFail(),e}});function r(e,n,r){return t.apply(this,arguments)}return r})(),e})();l.startQPLFlow=c,l.continueQPLFlow=d,l.makeQplFlow=m,l.startNoopQPLFlow=p,l.startQplFlowWithCoinflip=_,l.QplSubspan=f}),98);
__d("WABase64",["WALogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=43,u=47,c=61,d=45,m=95,p=3e3,_="data:image/jpeg;base64,",f=function(t){return typeof t=="string"&&/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)};function g(e){return y(e,s,u,!0)}function h(e,t){return t===void 0&&(t=!1),y(e,d,m,t)}function y(e,t,n,r){var o=Array.isArray(e)||e instanceof ArrayBuffer?new Uint8Array(e):e;if(o.length<=p)return C(o,t,n,r);for(var a=[],i=0;i<o.length;i+=p)a.push(C(o.subarray(i,i+p),t,n,r));return a.join("")}function C(e,t,n,r){for(var o=Math.ceil(e.length*4/3),a=4*Math.ceil(e.length/3),i=new Array(a),l=0,s=0;l<a;l+=4,s+=3){var u=e[s]<<16|e[s+1]<<8|e[s+2];i[l]=u>>18,i[l+1]=u>>12&63,i[l+2]=u>>6&63,i[l+3]=u&63}for(var c=0;c<o;c++){var d=i[c];d<26?i[c]=65+d:d<52?i[c]=71+d:d<62?i[c]=d-4:d===62?i[c]=t:i[c]=n}for(var m=o;m<a;m++)i[m]=61;var p=String.fromCharCode.apply(String,i);return r?p:p.substring(0,o)}function b(t,n,r,a){for(var i=t.length,l=new Int32Array(i+i%4),s=0;s<i;s++){var u=t.charCodeAt(s);if(65<=u&&u<=90)l[s]=u-65;else if(97<=u&&u<=122)l[s]=u-71;else if(48<=u&&u<=57)l[s]=u+4;else if(u===n)l[s]=62;else if(u===r)l[s]=63;else if(u===a){i=s;break}else return self.ERROR!=null&&o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Found unexpected character code while decoding B64 at index ",", length ",": ",""])),s,i,u),null}for(var c=l.length/4,d=0,m=0;d<c;d++,m+=4)l[d]=l[m]<<18|l[m+1]<<12|l[m+2]<<6|l[m+3];for(var p=Math.floor(i*3/4),_=new Uint8Array(p),f=0,g=0;g+3<=p;f++,g+=3){var h=l[f];_[g]=h>>16,_[g+1]=h>>8&255,_[g+2]=h&255}switch(p-g){case 2:_[g]=l[f]>>16,_[g+1]=l[f]>>8&255;break;case 1:_[g]=l[f]>>16}return _}function v(e){var t=b(e,s,u,c);if(t)return t.buffer;throw r("err")("Base64.decode given invalid string")}function S(e,t){t===void 0&&(t=!1);var n=b(e,d,m,t?c:-1);if(n)return n.buffer;throw r("err")("Base64.decode given invalid string")}function R(e){var t=e instanceof ArrayBuffer?new Uint8Array(e):b(e,s,u,c);return t&&Array.from(t)}function L(e){return Math.floor(e.length*3/4)}l.BASE64_DATA_URL_SCHEME=_,l.isBase64=f,l.encodeB64=g,l.encodeB64UrlSafe=h,l.decodeB64=v,l.decodeB64UrlSafe=S,l.decodeB64ToJsArray=R,l.sizeWhenB64Decoded=L}),98);
__d("WABinary",["WAHex","err"],(function(t,n,r,o,a,i,l){"use strict";var e=65533,s=10,u=new Uint8Array(s),c=new Uint8Array(0),d=(function(){function e(t,n){var r=this;t===void 0&&(t=c),n===void 0&&(n=!1),this.$1=new Uint8Array(0),this.$2=0,this.$4=0,this.write=function(){for(var t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];typeof n=="string"?r.writeString(n):typeof n=="number"?r.writeUint8(n):n instanceof e?r.writeBinary(n):n instanceof ArrayBuffer?r.writeBuffer(n):n instanceof Uint8Array&&r.writeByteArray(n)}},t instanceof ArrayBuffer?(this.$1=new Uint8Array(t),this.$2=this.$4=t.byteLength):t instanceof Uint8Array&&(this.$1=t,this.$2=this.$4=t.length),this.$5=0,this.$6=this.$3=0,this.$7=null,this.$8=n,this.$9=0,this.$10=0}var t=e.prototype;return t.size=function(){return this.$2-this.$3},t.peek=function(t,n){this.$9++;var e=this.$3,r=this.$5;try{return t(this,n)}finally{this.$9--,this.$3=e-(this.$5-r)}},t.advance=function(t){this.$11(t)},t.readWithViewParser=function(t,n,r,o){return n(this.$12(),this.$11(t),t,r,o)},t.readWithBytesParser=function(t,n,r,o){return n(this.$1,this.$11(t),t,r,o)},t.readUint8=function(){return g(this,1,y,!1)},t.readInt8=function(){return g(this,1,y,!0)},t.readUint16=function(t){return t===void 0&&(t=this.$8),g(this,2,C,t)},t.readInt32=function(t){return t===void 0&&(t=this.$8),g(this,4,b,t)},t.readUint32=function(t){return t===void 0&&(t=this.$8),g(this,4,v,t)},t.readInt64=function(t){return t===void 0&&(t=this.$8),g(this,8,S,j,t)},t.readUint64=function(t){return t===void 0&&(t=this.$8),g(this,8,S,K,t)},t.readLong=function(t,n){return n===void 0&&(n=this.$8),g(this,8,S,t,n)},t.readFloat32=function(t){return t===void 0&&(t=this.$8),g(this,4,R,t)},t.readFloat64=function(t){return t===void 0&&(t=this.$8),g(this,8,L,t)},t.readVarInt=function(t){var e=this.size(),n=h(this,0,E,e);return h(this,n,k,t)},t.readBuffer=function(t){return t===void 0&&(t=this.size()),t===0?new ArrayBuffer(0):h(this,t,I)},t.readByteArrayView=function(t){return t===void 0&&(t=this.size()),t===0?new Uint8Array(0):h(this,t,T)},t.readBinary=function(n,r){if(n===void 0&&(n=this.size()),r===void 0&&(r=this.$8),n===0)return new e(void 0,r);var t=h(this,n,T);return new e(t,r)},t.indexOf=function(t){if(t.length===0)return 0;for(var e=this.$1,n=this.$2,r=this.$3,o=0,a=r,i=r;i<n;i++)if(e[i]===t[o]){if(o===0&&(a=i),o++,o===t.byteLength)return i-r-t.byteLength+1}else o>0&&(o=0,i=a);return-1},t.readString=function(t){return h(this,t,D)},t.ensureCapacity=function(t){this.$13(this.$3+t)},t.ensureAdditionalCapacity=function(t){this.$13(this.$4+t)},t.writeToView=function(t,n,r,o){var e=this.$14(t);return n(this.$12(),e,t,r,o)},t.writeToBytes=function(t,n,r,o){var e=this.$14(t);return n(this.$1,e,t,r,o)},t.writeUint8=function(t){G(t,0,256,"uint8"),$(this,1,P,t,!1)},t.writeInt8=function(t){G(t,-128,128,"signed int8"),$(this,1,P,t,!0)},t.writeUint16=function(t,n){n===void 0&&(n=this.$8),G(t,0,65536,"uint16"),x(this,2,N,t,n)},t.writeInt16=function(t,n){n===void 0&&(n=this.$8),G(t,-32768,32768,"signed int16"),x(this,2,M,t,n)},t.writeUint32=function(t,n){n===void 0&&(n=this.$8),G(t,0,4294967296,"uint32"),x(this,4,w,t,n)},t.writeInt32=function(t,n){n===void 0&&(n=this.$8),G(t,-2147483648,2147483648,"signed int32"),x(this,4,A,t,n)},t.writeUint64=function(t,n){n===void 0&&(n=this.$8),G(t,0,18446744073709552e3,"uint64"),x(this,8,F,t,n)},t.writeInt64=function(t,n){n===void 0&&(n=this.$8),G(t,-9223372036854776e3,9223372036854776e3,"signed int64"),x(this,8,F,t,n)},t.writeFloat32=function(t,n){n===void 0&&(n=this.$8),x(this,4,O,t,n)},t.writeFloat64=function(t,n){n===void 0&&(n=this.$8),x(this,8,B,t,n)},t.writeVarInt=function(t){G(t,-9223372036854776e3,9223372036854776e3,"varint (signed int64)");var e=t<0,n=e?-t:t,r=Math.floor(n/4294967296),o=n-r*4294967296;e&&(r=~r,o===0?r++:o=-o);var a=H(r,o);$(this,a,W,r,o)},t.writeVarIntFromHexLong=function(t){for(var e=o("WAHex").hexLongIsNegative(t),n=e?o("WAHex").negateHexLong(t):t,r=o("WAHex").hexLongToHex(n),a=0,i=0,l=0;l<o("WAHex").NUM_HEX_IN_LONG;l++)a=a<<4|i>>>28,i=i<<4|o("WAHex").hexAt(r,l);e&&(a=~a,i===0?a++:i=-i);var s=H(a,i);$(this,s,W,a,i)},t.writeBinary=function(t){var e=t.peek(function(e){return e.readByteArrayView()});if(e.length){var n=this.$14(e.length);this.$1.set(e,n)}},t.writeBuffer=function(t){this.writeByteArray(new Uint8Array(t))},t.writeByteArray=function(t){var e=this.$14(t.length);this.$1.set(t,e)},t.writeBufferView=function(t){this.writeByteArray(new Uint8Array(t.buffer,t.byteOffset,t.byteLength))},t.writeString=function(t){$(this,_(t),q,t)},t.writeHexLong=function(t,n){n===void 0&&(n=this.$8),x(this,8,U,t,n)},t.writeBytes=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r++)G(t[r],0,256,"byte");$(this,t.length,V,t)},t.writeAtomically=function(t,n){this.$10++;var e=this.$4,r=this.$5;try{var o=t(this,n);return e=this.$4,r=this.$5,o}finally{this.$10--,this.$4=e-(this.$5-r)}},t.writeWithVarIntLength=function(t,n){var e=this.$4,r=this.writeAtomically(t,n),o=this.$4;this.writeVarInt(o-e);for(var a=this.$4-o,i=this.$1,l=0;l<a;l++)u[l]=i[o+l];for(var s=o-1;s>=e;s--)i[s+a]=i[s];for(var c=0;c<a;c++)i[e+c]=u[c];return r},e.build=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0,a=0;a<n.length;a++){var i=n[a];typeof i=="string"?o+=_(i):typeof i=="number"?o++:i instanceof e?o+=i.size():i instanceof ArrayBuffer?o+=i.byteLength:i instanceof Uint8Array&&(o+=i.length)}var l=new e;return l.ensureCapacity(o),l.write.apply(l,arguments),l},t.$12=function(){return this.$7||(this.$7=new DataView(this.$1.buffer,this.$1.byteOffset))},t.$11=function(t){if(t<0)throw r("err")("ReadError: given negative number of bytes to read");var e=this.$3,n=e+t;if(n>this.$2)throw r("err")(e===this.$2?"ReadError: tried to read from depleted binary":"ReadError: tried to read beyond end of binary");return this.$3=n,this.$9||(this.$6=n),e},t.$13=function(t){var e=this.$1;if(t<=e.length)return t;var n=this.$6,r=t-n,o=Math.max(r,2*(e.length-n),64),a=new Uint8Array(o);return n?(a.set(e.subarray(n)),this.$5+=n,this.$3-=n,this.$2-=n,this.$4-=n,this.$6=0):a.set(e),this.$1=a,this.$7=null,r},t.$14=function(t){var e=this.$13(this.$4+t),n=this.$4;return this.$4=e,this.$10||(this.$2=e),n},e})(),m="",p=0;function _(e){if(e===m)return p;for(var t=e.length,n=0,r=0;r<t;r++){var o=e.charCodeAt(r);if(o<128)n++;else if(o<2048)n+=2;else if(o<55296||57344<=o&&o<=65535)n+=3;else if(55296<=o&&o<56320&&r+1!==t){var a=e.charCodeAt(r+1);56320<=a&&a<57344?(r++,n+=4):n+=3}else n+=3}return m=e,p=n}function f(e,t,n){var r=t>>21;if(e){var o=t&2097151,a=!!(o||n);return r===0||r===-1&&a}else return r===0}function g(e,t,n,r,o){return e.readWithViewParser(t,n,r,o)}function h(e,t,n,r,o){return e.readWithBytesParser(t,n,r,o)}function y(e,t,n,r){return r?e.getInt8(t):e.getUint8(t)}function C(e,t,n,r){return e.getUint16(t,r)}function b(e,t,n,r){return e.getInt32(t,r)}function v(e,t,n,r){return e.getUint32(t,r)}function S(e,t,n,r,o){var a=e.getInt32(o?t+4:t,o),i=e.getInt32(o?t:t+4,o);return r(a,i)}function R(e,t,n,r){return e.getFloat32(t,r)}function L(e,t,n,r){return e.getFloat64(t,r)}function E(e,t,n,o){for(var a=Math.min(o,s),i=0,l=128;i<a&&l&128;)l=e[t+i++];if(i===s&&l>1)throw r("err")("ParseError: varint exceeds 64 bits");return l&128?i+1:i}function k(e,t,n,r){var o=0,a=0,i=n;n===s&&(i--,a=e[t+i]&1);for(var l=i-1;l>=0;l--)o=o<<7|a>>>25,a=a<<7|e[t+l]&127;return r(o,a)}function I(e,t,n){var r=t+e.byteOffset,o=e.buffer;return r===0&&n===o.byteLength?o:o.slice(r,r+n)}function T(e,t,n){return e.subarray(t,t+n)}function D(t,n,r){for(var o=n+r,a=[],i=null,l=n;l<o;l++){a.length>5e3&&(i||(i=[]),i.push(String.fromCharCode.apply(String,a)),a=[]);var s=t[l]|0;if((s&128)===0)a.push(s);else if((s&224)===192){var u=Q(t,l+1,o);if(u){l++;var c=(s&31)<<6|u&63;c>=128?a.push(c):a.push(e)}else a.push(e)}else if((s&240)===224){var d=Q(t,l+1,o),m=Q(t,l+2,o);if(d&&m){l+=2;var p=(s&15)<<12|(d&63)<<6|m&63;p>=2048&&!(55296<=p&&p<57344)?a.push(p):a.push(e)}else d&&l++,a.push(e)}else if((s&248)===240){var _=Q(t,l+1,o),f=Q(t,l+2,o),g=Q(t,l+3,o);if(_&&f&&g){l+=3;var h=(s&7)<<18|(_&63)<<12|(f&63)<<6|g&63;if(h>=65536&&h<=1114111){var y=h-65536;a.push(55296|y>>10,56320|y&1023)}else a.push(e)}else _&&f?(l+=2,a.push(e)):(_&&l++,a.push(e))}else a.push(e)}var C=String.fromCharCode.apply(String,a);return i?(i.push(C),i.join("")):C}function x(e,t,n,r,o){return e.writeToView(t,n,r,o)}function $(e,t,n,r,o){return e.writeToBytes(t,n,r,o)}function P(e,t,n,r){e[t]=r}function N(e,t,n,r,o){e.setUint16(t,r,o)}function M(e,t,n,r,o){e.setInt16(t,r,o)}function w(e,t,n,r,o){e.setUint32(t,r,o)}function A(e,t,n,r,o){e.setInt32(t,r,o)}function F(e,t,n,r,o){var a=r<0,i=a?-r:r,l=Math.floor(i/4294967296),s=i-l*4294967296;a&&(l=~l,s===0?l++:s=-s),e.setUint32(o?t+4:t,l,o),e.setUint32(o?t:t+4,s,o)}function O(e,t,n,r,o){e.setFloat32(t,r,o)}function B(e,t,n,r,o){e.setFloat64(t,r,o)}function W(e,t,n,r,o){for(var a=r,i=o,l=t+n-1,s=t;s<l;s++)e[s]=128|i&127,i=a<<25|i>>>7,a>>>=7;e[l]=i}function q(e,t,n,r){for(var o=t,a=r.length,i=0;i<a;i++){var l=r.charCodeAt(i);if(l<128)e[o++]=l;else if(l<2048)e[o++]=192|l>>6,e[o++]=128|l&63;else if(l<55296||57344<=l)e[o++]=224|l>>12,e[o++]=128|l>>6&63,e[o++]=128|l&63;else if(55296<=l&&l<56320&&i+1!==a){var s=r.charCodeAt(i+1);if(56320<=s&&s<57344){i++;var u=65536+((l&1023)<<10|s&1023);e[o++]=240|u>>18,e[o++]=128|u>>12&63,e[o++]=128|u>>6&63,e[o++]=128|u&63}else e[o++]=239,e[o++]=191,e[o++]=189}else e[o++]=239,e[o++]=191,e[o++]=189}}function U(e,t,n,r,a){for(var i=o("WAHex").hexLongIsNegative(r),l=o("WAHex").hexLongToHex(r),s=0,u=0,c=0;c<16;c++)s=s<<4|u>>>28,u=u<<4|o("WAHex").hexAt(l,c);i&&(s=~s,u===0?s++:u=-u),e.setUint32(a?t+4:t,s,a),e.setUint32(a?t:t+4,u,a)}function V(e,t,n,r){for(var o=0;o<n;o++)e[t+o]=r[o]}function H(e,t){var n,r;for(e?(n=5,r=e>>>3):(n=1,r=t>>>7);r;)n++,r>>>=7;return n}function G(e,t,n,o){if(typeof e!="number"||e!==e||Math.floor(e)!==e||e<t||e>=n)throw r("err")(typeof e=="string"?'TyperError WriteError: string "'+e+'" is not a valid '+o:"TypeError WriteError: "+String(e)+" is not a valid "+o)}function z(e,t,n){var o=f(e,t,n),a;t>=0?a=t:a=e?t:4294967296+t;var i=n>=0?n:4294967296+n,l=a*4294967296+i;if(!o)throw r("err")("ReadError: integer exceeded 53 bits ("+l+")");return l}function j(e,t){return z(!0,e,t)}function K(e,t){return z(!1,e,t)}function Q(e,t,n){if(t>=n)return 0;var r=e[t]|0;return(r&192)===128?r:0}l.Binary=d,l.numUtf8Bytes=_,l.longFitsInDouble=f,l.parseInt64OrThrow=j,l.parseUint64OrThrow=K}),98);
/**
 * License: https://www.facebook.com/legal/license/OKBVmODmb-W/
 */
__d("tweetnacl-1.0.3",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(e){var t=function(e){var t,n=new Float64Array(16);if(e)for(t=0;t<e.length;t++)n[t]=e[t];return n},n=function(){throw new Error("no PRNG")},r=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var a=t(),i=t([1]),l=t([56129,1]),s=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),u=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),c=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),d=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),m=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,n,r){e[t]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=n&255,e[t+4]=r>>24&255,e[t+5]=r>>16&255,e[t+6]=r>>8&255,e[t+7]=r&255}function _(e,t,n,r,o){var a,i=0;for(a=0;a<o;a++)i|=e[t+a]^n[r+a];return(1&i-1>>>8)-1}function f(e,t,n,r){return _(e,t,n,r,16)}function g(e,t,n,r){return _(e,t,n,r,32)}function h(e,t,n,r){for(var o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,a=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,l=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,s=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,u=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,c=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,d=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,m=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,p=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,_=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,f=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,g=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,h=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,y=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,b=o,v=a,S=i,R=l,L=s,E=u,k=c,I=d,T=m,D=p,x=_,$=f,P=g,N=h,M=y,w=C,A,F=0;F<20;F+=2)A=b+P|0,L^=A<<7|A>>>25,A=L+b|0,T^=A<<9|A>>>23,A=T+L|0,P^=A<<13|A>>>19,A=P+T|0,b^=A<<18|A>>>14,A=E+v|0,D^=A<<7|A>>>25,A=D+E|0,N^=A<<9|A>>>23,A=N+D|0,v^=A<<13|A>>>19,A=v+N|0,E^=A<<18|A>>>14,A=x+k|0,M^=A<<7|A>>>25,A=M+x|0,S^=A<<9|A>>>23,A=S+M|0,k^=A<<13|A>>>19,A=k+S|0,x^=A<<18|A>>>14,A=w+$|0,R^=A<<7|A>>>25,A=R+w|0,I^=A<<9|A>>>23,A=I+R|0,$^=A<<13|A>>>19,A=$+I|0,w^=A<<18|A>>>14,A=b+R|0,v^=A<<7|A>>>25,A=v+b|0,S^=A<<9|A>>>23,A=S+v|0,R^=A<<13|A>>>19,A=R+S|0,b^=A<<18|A>>>14,A=E+L|0,k^=A<<7|A>>>25,A=k+E|0,I^=A<<9|A>>>23,A=I+k|0,L^=A<<13|A>>>19,A=L+I|0,E^=A<<18|A>>>14,A=x+D|0,$^=A<<7|A>>>25,A=$+x|0,T^=A<<9|A>>>23,A=T+$|0,D^=A<<13|A>>>19,A=D+T|0,x^=A<<18|A>>>14,A=w+M|0,P^=A<<7|A>>>25,A=P+w|0,N^=A<<9|A>>>23,A=N+P|0,M^=A<<13|A>>>19,A=M+N|0,w^=A<<18|A>>>14;b=b+o|0,v=v+a|0,S=S+i|0,R=R+l|0,L=L+s|0,E=E+u|0,k=k+c|0,I=I+d|0,T=T+m|0,D=D+p|0,x=x+_|0,$=$+f|0,P=P+g|0,N=N+h|0,M=M+y|0,w=w+C|0,e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=v>>>0&255,e[5]=v>>>8&255,e[6]=v>>>16&255,e[7]=v>>>24&255,e[8]=S>>>0&255,e[9]=S>>>8&255,e[10]=S>>>16&255,e[11]=S>>>24&255,e[12]=R>>>0&255,e[13]=R>>>8&255,e[14]=R>>>16&255,e[15]=R>>>24&255,e[16]=L>>>0&255,e[17]=L>>>8&255,e[18]=L>>>16&255,e[19]=L>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=k>>>0&255,e[25]=k>>>8&255,e[26]=k>>>16&255,e[27]=k>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=T>>>0&255,e[33]=T>>>8&255,e[34]=T>>>16&255,e[35]=T>>>24&255,e[36]=D>>>0&255,e[37]=D>>>8&255,e[38]=D>>>16&255,e[39]=D>>>24&255,e[40]=x>>>0&255,e[41]=x>>>8&255,e[42]=x>>>16&255,e[43]=x>>>24&255,e[44]=$>>>0&255,e[45]=$>>>8&255,e[46]=$>>>16&255,e[47]=$>>>24&255,e[48]=P>>>0&255,e[49]=P>>>8&255,e[50]=P>>>16&255,e[51]=P>>>24&255,e[52]=N>>>0&255,e[53]=N>>>8&255,e[54]=N>>>16&255,e[55]=N>>>24&255,e[56]=M>>>0&255,e[57]=M>>>8&255,e[58]=M>>>16&255,e[59]=M>>>24&255,e[60]=w>>>0&255,e[61]=w>>>8&255,e[62]=w>>>16&255,e[63]=w>>>24&255}function y(e,t,n,r){for(var o=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,a=n[0]&255|(n[1]&255)<<8|(n[2]&255)<<16|(n[3]&255)<<24,i=n[4]&255|(n[5]&255)<<8|(n[6]&255)<<16|(n[7]&255)<<24,l=n[8]&255|(n[9]&255)<<8|(n[10]&255)<<16|(n[11]&255)<<24,s=n[12]&255|(n[13]&255)<<8|(n[14]&255)<<16|(n[15]&255)<<24,u=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,c=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,d=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,m=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,p=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,_=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,f=n[16]&255|(n[17]&255)<<8|(n[18]&255)<<16|(n[19]&255)<<24,g=n[20]&255|(n[21]&255)<<8|(n[22]&255)<<16|(n[23]&255)<<24,h=n[24]&255|(n[25]&255)<<8|(n[26]&255)<<16|(n[27]&255)<<24,y=n[28]&255|(n[29]&255)<<8|(n[30]&255)<<16|(n[31]&255)<<24,C=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,b=o,v=a,S=i,R=l,L=s,E=u,k=c,I=d,T=m,D=p,x=_,$=f,P=g,N=h,M=y,w=C,A,F=0;F<20;F+=2)A=b+P|0,L^=A<<7|A>>>25,A=L+b|0,T^=A<<9|A>>>23,A=T+L|0,P^=A<<13|A>>>19,A=P+T|0,b^=A<<18|A>>>14,A=E+v|0,D^=A<<7|A>>>25,A=D+E|0,N^=A<<9|A>>>23,A=N+D|0,v^=A<<13|A>>>19,A=v+N|0,E^=A<<18|A>>>14,A=x+k|0,M^=A<<7|A>>>25,A=M+x|0,S^=A<<9|A>>>23,A=S+M|0,k^=A<<13|A>>>19,A=k+S|0,x^=A<<18|A>>>14,A=w+$|0,R^=A<<7|A>>>25,A=R+w|0,I^=A<<9|A>>>23,A=I+R|0,$^=A<<13|A>>>19,A=$+I|0,w^=A<<18|A>>>14,A=b+R|0,v^=A<<7|A>>>25,A=v+b|0,S^=A<<9|A>>>23,A=S+v|0,R^=A<<13|A>>>19,A=R+S|0,b^=A<<18|A>>>14,A=E+L|0,k^=A<<7|A>>>25,A=k+E|0,I^=A<<9|A>>>23,A=I+k|0,L^=A<<13|A>>>19,A=L+I|0,E^=A<<18|A>>>14,A=x+D|0,$^=A<<7|A>>>25,A=$+x|0,T^=A<<9|A>>>23,A=T+$|0,D^=A<<13|A>>>19,A=D+T|0,x^=A<<18|A>>>14,A=w+M|0,P^=A<<7|A>>>25,A=P+w|0,N^=A<<9|A>>>23,A=N+P|0,M^=A<<13|A>>>19,A=M+N|0,w^=A<<18|A>>>14;e[0]=b>>>0&255,e[1]=b>>>8&255,e[2]=b>>>16&255,e[3]=b>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=x>>>0&255,e[9]=x>>>8&255,e[10]=x>>>16&255,e[11]=x>>>24&255,e[12]=w>>>0&255,e[13]=w>>>8&255,e[14]=w>>>16&255,e[15]=w>>>24&255,e[16]=k>>>0&255,e[17]=k>>>8&255,e[18]=k>>>16&255,e[19]=k>>>24&255,e[20]=I>>>0&255,e[21]=I>>>8&255,e[22]=I>>>16&255,e[23]=I>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=D>>>0&255,e[29]=D>>>8&255,e[30]=D>>>16&255,e[31]=D>>>24&255}function C(e,t,n,r){h(e,t,n,r)}function b(e,t,n,r){y(e,t,n,r)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function S(e,t,n,r,o,a,i){var l=new Uint8Array(16),s=new Uint8Array(64),u,c;for(c=0;c<16;c++)l[c]=0;for(c=0;c<8;c++)l[c]=a[c];for(;o>=64;){for(C(s,l,i,v),c=0;c<64;c++)e[t+c]=n[r+c]^s[c];for(u=1,c=8;c<16;c++)u=u+(l[c]&255)|0,l[c]=u&255,u>>>=8;o-=64,t+=64,r+=64}if(o>0)for(C(s,l,i,v),c=0;c<o;c++)e[t+c]=n[r+c]^s[c];return 0}function R(e,t,n,r,o){var a=new Uint8Array(16),i=new Uint8Array(64),l,s;for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=r[s];for(;n>=64;){for(C(i,a,o,v),s=0;s<64;s++)e[t+s]=i[s];for(l=1,s=8;s<16;s++)l=l+(a[s]&255)|0,a[s]=l&255,l>>>=8;n-=64,t+=64}if(n>0)for(C(i,a,o,v),s=0;s<n;s++)e[t+s]=i[s];return 0}function L(e,t,n,r,o){var a=new Uint8Array(32);b(a,r,o,v);for(var i=new Uint8Array(8),l=0;l<8;l++)i[l]=r[l+16];return R(e,t,n,i,a)}function E(e,t,n,r,o,a,i){var l=new Uint8Array(32);b(l,a,i,v);for(var s=new Uint8Array(8),u=0;u<8;u++)s[u]=a[u+16];return S(e,t,n,r,o,s,l)}var k=function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var t,n,r,o,a,i,l,s;t=e[0]&255|(e[1]&255)<<8,this.r[0]=t&8191,n=e[2]&255|(e[3]&255)<<8,this.r[1]=(t>>>13|n<<3)&8191,r=e[4]&255|(e[5]&255)<<8,this.r[2]=(n>>>10|r<<6)&7939,o=e[6]&255|(e[7]&255)<<8,this.r[3]=(r>>>7|o<<9)&8191,a=e[8]&255|(e[9]&255)<<8,this.r[4]=(o>>>4|a<<12)&255,this.r[5]=a>>>1&8190,i=e[10]&255|(e[11]&255)<<8,this.r[6]=(a>>>14|i<<2)&8191,l=e[12]&255|(e[13]&255)<<8,this.r[7]=(i>>>11|l<<5)&8065,s=e[14]&255|(e[15]&255)<<8,this.r[8]=(l>>>8|s<<8)&8191,this.r[9]=s>>>5&127,this.pad[0]=e[16]&255|(e[17]&255)<<8,this.pad[1]=e[18]&255|(e[19]&255)<<8,this.pad[2]=e[20]&255|(e[21]&255)<<8,this.pad[3]=e[22]&255|(e[23]&255)<<8,this.pad[4]=e[24]&255|(e[25]&255)<<8,this.pad[5]=e[26]&255|(e[27]&255)<<8,this.pad[6]=e[28]&255|(e[29]&255)<<8,this.pad[7]=e[30]&255|(e[31]&255)<<8};k.prototype.blocks=function(e,t,n){for(var r=this.fin?0:2048,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R=this.h[0],L=this.h[1],E=this.h[2],k=this.h[3],I=this.h[4],T=this.h[5],D=this.h[6],x=this.h[7],$=this.h[8],P=this.h[9],N=this.r[0],M=this.r[1],w=this.r[2],A=this.r[3],F=this.r[4],O=this.r[5],B=this.r[6],W=this.r[7],q=this.r[8],U=this.r[9];n>=16;)o=e[t+0]&255|(e[t+1]&255)<<8,R+=o&8191,a=e[t+2]&255|(e[t+3]&255)<<8,L+=(o>>>13|a<<3)&8191,i=e[t+4]&255|(e[t+5]&255)<<8,E+=(a>>>10|i<<6)&8191,l=e[t+6]&255|(e[t+7]&255)<<8,k+=(i>>>7|l<<9)&8191,s=e[t+8]&255|(e[t+9]&255)<<8,I+=(l>>>4|s<<12)&8191,T+=s>>>1&8191,u=e[t+10]&255|(e[t+11]&255)<<8,D+=(s>>>14|u<<2)&8191,c=e[t+12]&255|(e[t+13]&255)<<8,x+=(u>>>11|c<<5)&8191,d=e[t+14]&255|(e[t+15]&255)<<8,$+=(c>>>8|d<<8)&8191,P+=d>>>5|r,m=0,p=m,p+=R*N,p+=L*(5*U),p+=E*(5*q),p+=k*(5*W),p+=I*(5*B),m=p>>>13,p&=8191,p+=T*(5*O),p+=D*(5*F),p+=x*(5*A),p+=$*(5*w),p+=P*(5*M),m+=p>>>13,p&=8191,_=m,_+=R*M,_+=L*N,_+=E*(5*U),_+=k*(5*q),_+=I*(5*W),m=_>>>13,_&=8191,_+=T*(5*B),_+=D*(5*O),_+=x*(5*F),_+=$*(5*A),_+=P*(5*w),m+=_>>>13,_&=8191,f=m,f+=R*w,f+=L*M,f+=E*N,f+=k*(5*U),f+=I*(5*q),m=f>>>13,f&=8191,f+=T*(5*W),f+=D*(5*B),f+=x*(5*O),f+=$*(5*F),f+=P*(5*A),m+=f>>>13,f&=8191,g=m,g+=R*A,g+=L*w,g+=E*M,g+=k*N,g+=I*(5*U),m=g>>>13,g&=8191,g+=T*(5*q),g+=D*(5*W),g+=x*(5*B),g+=$*(5*O),g+=P*(5*F),m+=g>>>13,g&=8191,h=m,h+=R*F,h+=L*A,h+=E*w,h+=k*M,h+=I*N,m=h>>>13,h&=8191,h+=T*(5*U),h+=D*(5*q),h+=x*(5*W),h+=$*(5*B),h+=P*(5*O),m+=h>>>13,h&=8191,y=m,y+=R*O,y+=L*F,y+=E*A,y+=k*w,y+=I*M,m=y>>>13,y&=8191,y+=T*N,y+=D*(5*U),y+=x*(5*q),y+=$*(5*W),y+=P*(5*B),m+=y>>>13,y&=8191,C=m,C+=R*B,C+=L*O,C+=E*F,C+=k*A,C+=I*w,m=C>>>13,C&=8191,C+=T*M,C+=D*N,C+=x*(5*U),C+=$*(5*q),C+=P*(5*W),m+=C>>>13,C&=8191,b=m,b+=R*W,b+=L*B,b+=E*O,b+=k*F,b+=I*A,m=b>>>13,b&=8191,b+=T*w,b+=D*M,b+=x*N,b+=$*(5*U),b+=P*(5*q),m+=b>>>13,b&=8191,v=m,v+=R*q,v+=L*W,v+=E*B,v+=k*O,v+=I*F,m=v>>>13,v&=8191,v+=T*A,v+=D*w,v+=x*M,v+=$*N,v+=P*(5*U),m+=v>>>13,v&=8191,S=m,S+=R*U,S+=L*q,S+=E*W,S+=k*B,S+=I*O,m=S>>>13,S&=8191,S+=T*F,S+=D*A,S+=x*w,S+=$*M,S+=P*N,m+=S>>>13,S&=8191,m=(m<<2)+m|0,m=m+p|0,p=m&8191,m=m>>>13,_+=m,R=p,L=_,E=f,k=g,I=h,T=y,D=C,x=b,$=v,P=S,t+=16,n-=16;this.h[0]=R,this.h[1]=L,this.h[2]=E,this.h[3]=k,this.h[4]=I,this.h[5]=T,this.h[6]=D,this.h[7]=x,this.h[8]=$,this.h[9]=P},k.prototype.finish=function(e,t){var n=new Uint16Array(10),r,o,a,i;if(this.leftover){for(i=this.leftover,this.buffer[i++]=1;i<16;i++)this.buffer[i]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,i=2;i<10;i++)this.h[i]+=r,r=this.h[i]>>>13,this.h[i]&=8191;for(this.h[0]+=r*5,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,n[0]=this.h[0]+5,r=n[0]>>>13,n[0]&=8191,i=1;i<10;i++)n[i]=this.h[i]+r,r=n[i]>>>13,n[i]&=8191;for(n[9]-=8192,o=(r^1)-1,i=0;i<10;i++)n[i]&=o;for(o=~o,i=0;i<10;i++)this.h[i]=this.h[i]&o|n[i];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,a=this.h[0]+this.pad[0],this.h[0]=a&65535,i=1;i<8;i++)a=(this.h[i]+this.pad[i]|0)+(a>>>16)|0,this.h[i]=a&65535;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},k.prototype.update=function(e,t,n){var r,o;if(this.leftover){for(o=16-this.leftover,o>n&&(o=n),r=0;r<o;r++)this.buffer[this.leftover+r]=e[t+r];if(n-=o,t+=o,this.leftover+=o,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(n>=16&&(o=n-n%16,this.blocks(e,t,o),t+=o,n-=o),n){for(r=0;r<n;r++)this.buffer[this.leftover+r]=e[t+r];this.leftover+=n}};function I(e,t,n,r,o,a){var i=new k(a);return i.update(n,r,o),i.finish(e,t),0}function T(e,t,n,r,o,a){var i=new Uint8Array(16);return I(i,0,n,r,o,a),f(e,t,i,0)}function D(e,t,n,r,o){var a;if(n<32)return-1;for(E(e,0,t,0,n,r,o),I(e,16,e,32,n-32,e),a=0;a<16;a++)e[a]=0;return 0}function x(e,t,n,r,o){var a,i=new Uint8Array(32);if(n<32||(L(i,0,32,r,o),T(t,16,t,32,n-32,i)!==0))return-1;for(E(e,0,t,0,n,r,o),a=0;a<32;a++)e[a]=0;return 0}function $(e,t){var n;for(n=0;n<16;n++)e[n]=t[n]|0}function P(e){var t,n,r=1;for(t=0;t<16;t++)n=e[t]+r+65535,r=Math.floor(n/65536),e[t]=n-r*65536;e[0]+=r-1+37*(r-1)}function N(e,t,n){for(var r,o=~(n-1),a=0;a<16;a++)r=o&(e[a]^t[a]),e[a]^=r,t[a]^=r}function M(e,n){var r,o,a,i=t(),l=t();for(r=0;r<16;r++)l[r]=n[r];for(P(l),P(l),P(l),o=0;o<2;o++){for(i[0]=l[0]-65517,r=1;r<15;r++)i[r]=l[r]-65535-(i[r-1]>>16&1),i[r-1]&=65535;i[15]=l[15]-32767-(i[14]>>16&1),a=i[15]>>16&1,i[14]&=65535,N(l,i,1-a)}for(r=0;r<16;r++)e[2*r]=l[r]&255,e[2*r+1]=l[r]>>8}function w(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return M(n,e),M(r,t),g(n,0,r,0)}function A(e){var t=new Uint8Array(32);return M(t,e),t[0]&1}function F(e,t){var n;for(n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}function O(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]+n[r]}function B(e,t,n){for(var r=0;r<16;r++)e[r]=t[r]-n[r]}function W(e,t,n){var r,o,a=0,i=0,l=0,s=0,u=0,c=0,d=0,m=0,p=0,_=0,f=0,g=0,h=0,y=0,C=0,b=0,v=0,S=0,R=0,L=0,E=0,k=0,I=0,T=0,D=0,x=0,$=0,P=0,N=0,M=0,w=0,A=n[0],F=n[1],O=n[2],B=n[3],W=n[4],q=n[5],U=n[6],V=n[7],H=n[8],G=n[9],z=n[10],j=n[11],K=n[12],Q=n[13],X=n[14],Y=n[15];r=t[0],a+=r*A,i+=r*F,l+=r*O,s+=r*B,u+=r*W,c+=r*q,d+=r*U,m+=r*V,p+=r*H,_+=r*G,f+=r*z,g+=r*j,h+=r*K,y+=r*Q,C+=r*X,b+=r*Y,r=t[1],i+=r*A,l+=r*F,s+=r*O,u+=r*B,c+=r*W,d+=r*q,m+=r*U,p+=r*V,_+=r*H,f+=r*G,g+=r*z,h+=r*j,y+=r*K,C+=r*Q,b+=r*X,v+=r*Y,r=t[2],l+=r*A,s+=r*F,u+=r*O,c+=r*B,d+=r*W,m+=r*q,p+=r*U,_+=r*V,f+=r*H,g+=r*G,h+=r*z,y+=r*j,C+=r*K,b+=r*Q,v+=r*X,S+=r*Y,r=t[3],s+=r*A,u+=r*F,c+=r*O,d+=r*B,m+=r*W,p+=r*q,_+=r*U,f+=r*V,g+=r*H,h+=r*G,y+=r*z,C+=r*j,b+=r*K,v+=r*Q,S+=r*X,R+=r*Y,r=t[4],u+=r*A,c+=r*F,d+=r*O,m+=r*B,p+=r*W,_+=r*q,f+=r*U,g+=r*V,h+=r*H,y+=r*G,C+=r*z,b+=r*j,v+=r*K,S+=r*Q,R+=r*X,L+=r*Y,r=t[5],c+=r*A,d+=r*F,m+=r*O,p+=r*B,_+=r*W,f+=r*q,g+=r*U,h+=r*V,y+=r*H,C+=r*G,b+=r*z,v+=r*j,S+=r*K,R+=r*Q,L+=r*X,E+=r*Y,r=t[6],d+=r*A,m+=r*F,p+=r*O,_+=r*B,f+=r*W,g+=r*q,h+=r*U,y+=r*V,C+=r*H,b+=r*G,v+=r*z,S+=r*j,R+=r*K,L+=r*Q,E+=r*X,k+=r*Y,r=t[7],m+=r*A,p+=r*F,_+=r*O,f+=r*B,g+=r*W,h+=r*q,y+=r*U,C+=r*V,b+=r*H,v+=r*G,S+=r*z,R+=r*j,L+=r*K,E+=r*Q,k+=r*X,I+=r*Y,r=t[8],p+=r*A,_+=r*F,f+=r*O,g+=r*B,h+=r*W,y+=r*q,C+=r*U,b+=r*V,v+=r*H,S+=r*G,R+=r*z,L+=r*j,E+=r*K,k+=r*Q,I+=r*X,T+=r*Y,r=t[9],_+=r*A,f+=r*F,g+=r*O,h+=r*B,y+=r*W,C+=r*q,b+=r*U,v+=r*V,S+=r*H,R+=r*G,L+=r*z,E+=r*j,k+=r*K,I+=r*Q,T+=r*X,D+=r*Y,r=t[10],f+=r*A,g+=r*F,h+=r*O,y+=r*B,C+=r*W,b+=r*q,v+=r*U,S+=r*V,R+=r*H,L+=r*G,E+=r*z,k+=r*j,I+=r*K,T+=r*Q,D+=r*X,x+=r*Y,r=t[11],g+=r*A,h+=r*F,y+=r*O,C+=r*B,b+=r*W,v+=r*q,S+=r*U,R+=r*V,L+=r*H,E+=r*G,k+=r*z,I+=r*j,T+=r*K,D+=r*Q,x+=r*X,$+=r*Y,r=t[12],h+=r*A,y+=r*F,C+=r*O,b+=r*B,v+=r*W,S+=r*q,R+=r*U,L+=r*V,E+=r*H,k+=r*G,I+=r*z,T+=r*j,D+=r*K,x+=r*Q,$+=r*X,P+=r*Y,r=t[13],y+=r*A,C+=r*F,b+=r*O,v+=r*B,S+=r*W,R+=r*q,L+=r*U,E+=r*V,k+=r*H,I+=r*G,T+=r*z,D+=r*j,x+=r*K,$+=r*Q,P+=r*X,N+=r*Y,r=t[14],C+=r*A,b+=r*F,v+=r*O,S+=r*B,R+=r*W,L+=r*q,E+=r*U,k+=r*V,I+=r*H,T+=r*G,D+=r*z,x+=r*j,$+=r*K,P+=r*Q,N+=r*X,M+=r*Y,r=t[15],b+=r*A,v+=r*F,S+=r*O,R+=r*B,L+=r*W,E+=r*q,k+=r*U,I+=r*V,T+=r*H,D+=r*G,x+=r*z,$+=r*j,P+=r*K,N+=r*Q,M+=r*X,w+=r*Y,a+=38*v,i+=38*S,l+=38*R,s+=38*L,u+=38*E,c+=38*k,d+=38*I,m+=38*T,p+=38*D,_+=38*x,f+=38*$,g+=38*P,h+=38*N,y+=38*M,C+=38*w,o=1,r=a+o+65535,o=Math.floor(r/65536),a=r-o*65536,r=i+o+65535,o=Math.floor(r/65536),i=r-o*65536,r=l+o+65535,o=Math.floor(r/65536),l=r-o*65536,r=s+o+65535,o=Math.floor(r/65536),s=r-o*65536,r=u+o+65535,o=Math.floor(r/65536),u=r-o*65536,r=c+o+65535,o=Math.floor(r/65536),c=r-o*65536,r=d+o+65535,o=Math.floor(r/65536),d=r-o*65536,r=m+o+65535,o=Math.floor(r/65536),m=r-o*65536,r=p+o+65535,o=Math.floor(r/65536),p=r-o*65536,r=_+o+65535,o=Math.floor(r/65536),_=r-o*65536,r=f+o+65535,o=Math.floor(r/65536),f=r-o*65536,r=g+o+65535,o=Math.floor(r/65536),g=r-o*65536,r=h+o+65535,o=Math.floor(r/65536),h=r-o*65536,r=y+o+65535,o=Math.floor(r/65536),y=r-o*65536,r=C+o+65535,o=Math.floor(r/65536),C=r-o*65536,r=b+o+65535,o=Math.floor(r/65536),b=r-o*65536,a+=o-1+37*(o-1),o=1,r=a+o+65535,o=Math.floor(r/65536),a=r-o*65536,r=i+o+65535,o=Math.floor(r/65536),i=r-o*65536,r=l+o+65535,o=Math.floor(r/65536),l=r-o*65536,r=s+o+65535,o=Math.floor(r/65536),s=r-o*65536,r=u+o+65535,o=Math.floor(r/65536),u=r-o*65536,r=c+o+65535,o=Math.floor(r/65536),c=r-o*65536,r=d+o+65535,o=Math.floor(r/65536),d=r-o*65536,r=m+o+65535,o=Math.floor(r/65536),m=r-o*65536,r=p+o+65535,o=Math.floor(r/65536),p=r-o*65536,r=_+o+65535,o=Math.floor(r/65536),_=r-o*65536,r=f+o+65535,o=Math.floor(r/65536),f=r-o*65536,r=g+o+65535,o=Math.floor(r/65536),g=r-o*65536,r=h+o+65535,o=Math.floor(r/65536),h=r-o*65536,r=y+o+65535,o=Math.floor(r/65536),y=r-o*65536,r=C+o+65535,o=Math.floor(r/65536),C=r-o*65536,r=b+o+65535,o=Math.floor(r/65536),b=r-o*65536,a+=o-1+37*(o-1),e[0]=a,e[1]=i,e[2]=l,e[3]=s,e[4]=u,e[5]=c,e[6]=d,e[7]=m,e[8]=p,e[9]=_,e[10]=f,e[11]=g,e[12]=h,e[13]=y,e[14]=C,e[15]=b}function q(e,t){W(e,t,t)}function U(e,n){var r=t(),o;for(o=0;o<16;o++)r[o]=n[o];for(o=253;o>=0;o--)q(r,r),o!==2&&o!==4&&W(r,r,n);for(o=0;o<16;o++)e[o]=r[o]}function V(e,n){var r=t(),o;for(o=0;o<16;o++)r[o]=n[o];for(o=250;o>=0;o--)q(r,r),o!==1&&W(r,r,n);for(o=0;o<16;o++)e[o]=r[o]}function H(e,n,r){var o=new Uint8Array(32),a=new Float64Array(80),i,s,u=t(),c=t(),d=t(),m=t(),p=t(),_=t();for(s=0;s<31;s++)o[s]=n[s];for(o[31]=n[31]&127|64,o[0]&=248,F(a,r),s=0;s<16;s++)c[s]=a[s],m[s]=u[s]=d[s]=0;for(u[0]=m[0]=1,s=254;s>=0;--s)i=o[s>>>3]>>>(s&7)&1,N(u,c,i),N(d,m,i),O(p,u,d),B(u,u,d),O(d,c,m),B(c,c,m),q(m,p),q(_,u),W(u,d,u),W(d,c,p),O(p,u,d),B(u,u,d),q(c,u),B(d,m,_),W(u,d,l),O(u,u,m),W(d,d,u),W(u,m,_),W(m,c,a),q(c,p),N(u,c,i),N(d,m,i);for(s=0;s<16;s++)a[s+16]=u[s],a[s+32]=d[s],a[s+48]=c[s],a[s+64]=m[s];var f=a.subarray(32),g=a.subarray(16);return U(f,f),W(g,g,f),M(e,g),0}function G(e,t){return H(e,t,o)}function z(e,t){return n(t,32),G(e,t)}function j(e,t,n){var o=new Uint8Array(32);return H(o,n,t),b(e,r,o,v)}var K=D,Q=x;function X(e,t,n,r,o,a){var i=new Uint8Array(32);return j(i,o,a),K(e,t,n,r,i)}function Y(e,t,n,r,o,a){var i=new Uint8Array(32);return j(i,o,a),Q(e,t,n,r,i)}var J=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Z(e,t,n,r){for(var o=new Int32Array(16),a=new Int32Array(16),i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P=e[0],N=e[1],M=e[2],w=e[3],A=e[4],F=e[5],O=e[6],B=e[7],W=t[0],q=t[1],U=t[2],V=t[3],H=t[4],G=t[5],z=t[6],j=t[7],K=0;r>=128;){for(L=0;L<16;L++)E=8*L+K,o[L]=n[E+0]<<24|n[E+1]<<16|n[E+2]<<8|n[E+3],a[L]=n[E+4]<<24|n[E+5]<<16|n[E+6]<<8|n[E+7];for(L=0;L<80;L++)if(i=P,l=N,s=M,u=w,c=A,d=F,m=O,p=B,_=W,f=q,g=U,h=V,y=H,C=G,b=z,v=j,k=B,I=j,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=(A>>>14|H<<18)^(A>>>18|H<<14)^(H>>>9|A<<23),I=(H>>>14|A<<18)^(H>>>18|A<<14)^(A>>>9|H<<23),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=A&F^~A&O,I=H&G^~H&z,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=J[L*2],I=J[L*2+1],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=o[L%16],I=a[L%16],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,S=x&65535|$<<16,R=T&65535|D<<16,k=S,I=R,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=(P>>>28|W<<4)^(W>>>2|P<<30)^(W>>>7|P<<25),I=(W>>>28|P<<4)^(P>>>2|W<<30)^(P>>>7|W<<25),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,k=P&N^P&M^N&M,I=W&q^W&U^q&U,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,p=x&65535|$<<16,v=T&65535|D<<16,k=u,I=h,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=S,I=R,T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,u=x&65535|$<<16,h=T&65535|D<<16,N=i,M=l,w=s,A=u,F=c,O=d,B=m,P=p,q=_,U=f,V=g,H=h,G=y,z=C,j=b,W=v,L%16===15)for(E=0;E<16;E++)k=o[E],I=a[E],T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=o[(E+9)%16],I=a[(E+9)%16],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,S=o[(E+1)%16],R=a[(E+1)%16],k=(S>>>1|R<<31)^(S>>>8|R<<24)^S>>>7,I=(R>>>1|S<<31)^(R>>>8|S<<24)^(R>>>7|S<<25),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,S=o[(E+14)%16],R=a[(E+14)%16],k=(S>>>19|R<<13)^(R>>>29|S<<3)^S>>>6,I=(R>>>19|S<<13)^(S>>>29|R<<3)^(R>>>6|S<<26),T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,o[E]=x&65535|$<<16,a[E]=T&65535|D<<16;k=P,I=W,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[0],I=t[0],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[0]=P=x&65535|$<<16,t[0]=W=T&65535|D<<16,k=N,I=q,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[1],I=t[1],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[1]=N=x&65535|$<<16,t[1]=q=T&65535|D<<16,k=M,I=U,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[2],I=t[2],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[2]=M=x&65535|$<<16,t[2]=U=T&65535|D<<16,k=w,I=V,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[3],I=t[3],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[3]=w=x&65535|$<<16,t[3]=V=T&65535|D<<16,k=A,I=H,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[4],I=t[4],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[4]=A=x&65535|$<<16,t[4]=H=T&65535|D<<16,k=F,I=G,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[5],I=t[5],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[5]=F=x&65535|$<<16,t[5]=G=T&65535|D<<16,k=O,I=z,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[6],I=t[6],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[6]=O=x&65535|$<<16,t[6]=z=T&65535|D<<16,k=B,I=j,T=I&65535,D=I>>>16,x=k&65535,$=k>>>16,k=e[7],I=t[7],T+=I&65535,D+=I>>>16,x+=k&65535,$+=k>>>16,D+=T>>>16,x+=D>>>16,$+=x>>>16,e[7]=B=x&65535|$<<16,t[7]=j=T&65535|D<<16,K+=128,r-=128}return r}function ee(e,t,n){var r=new Int32Array(8),o=new Int32Array(8),a=new Uint8Array(256),i,l=n;for(r[0]=1779033703,r[1]=3144134277,r[2]=1013904242,r[3]=2773480762,r[4]=1359893119,r[5]=2600822924,r[6]=528734635,r[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,Z(r,o,t,n),n%=128,i=0;i<n;i++)a[i]=t[l-n+i];for(a[n]=128,n=256-128*(n<112?1:0),a[n-9]=0,p(a,n-8,l/536870912|0,l<<3),Z(r,o,a,n),i=0;i<8;i++)p(e,8*i,r[i],o[i]);return 0}function te(e,n){var r=t(),o=t(),a=t(),i=t(),l=t(),s=t(),c=t(),d=t(),m=t();B(r,e[1],e[0]),B(m,n[1],n[0]),W(r,r,m),O(o,e[0],e[1]),O(m,n[0],n[1]),W(o,o,m),W(a,e[3],n[3]),W(a,a,u),W(i,e[2],n[2]),O(i,i,i),B(l,o,r),B(s,i,a),O(c,i,a),O(d,o,r),W(e[0],l,s),W(e[1],d,c),W(e[2],c,s),W(e[3],l,d)}function ne(e,t,n){var r;for(r=0;r<4;r++)N(e[r],t[r],n)}function re(e,n){var r=t(),o=t(),a=t();U(a,n[2]),W(r,n[0],a),W(o,n[1],a),M(e,o),e[31]^=A(r)<<7}function oe(e,t,n){var r,o;for($(e[0],a),$(e[1],i),$(e[2],i),$(e[3],a),o=255;o>=0;--o)r=n[o/8|0]>>(o&7)&1,ne(e,t,r),te(t,e),te(e,e),ne(e,t,r)}function ae(e,n){var r=[t(),t(),t(),t()];$(r[0],c),$(r[1],d),$(r[2],i),W(r[3],c,d),oe(e,r,n)}function ie(e,r,o){var a=new Uint8Array(64),i=[t(),t(),t(),t()],l;for(o||n(r,32),ee(a,r,32),a[0]&=248,a[31]&=127,a[31]|=64,ae(i,a),re(e,i),l=0;l<32;l++)r[l+32]=e[l];return 0}var le=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function se(e,t){var n,r,o,a;for(r=63;r>=32;--r){for(n=0,o=r-32,a=r-12;o<a;++o)t[o]+=n-16*t[r]*le[o-(r-32)],n=Math.floor((t[o]+128)/256),t[o]-=n*256;t[o]+=n,t[r]=0}for(n=0,o=0;o<32;o++)t[o]+=n-(t[31]>>4)*le[o],n=t[o]>>8,t[o]&=255;for(o=0;o<32;o++)t[o]-=n*le[o];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=t[r]&255}function ue(e){var t=new Float64Array(64),n;for(n=0;n<64;n++)t[n]=e[n];for(n=0;n<64;n++)e[n]=0;se(e,t)}function ce(e,n,r,o){var a=new Uint8Array(64),i=new Uint8Array(64),l=new Uint8Array(64),s,u,c=new Float64Array(64),d=[t(),t(),t(),t()];ee(a,o,32),a[0]&=248,a[31]&=127,a[31]|=64;var m=r+64;for(s=0;s<r;s++)e[64+s]=n[s];for(s=0;s<32;s++)e[32+s]=a[32+s];for(ee(l,e.subarray(32),r+32),ue(l),ae(d,l),re(e,d),s=32;s<64;s++)e[s]=o[s];for(ee(i,e,r+64),ue(i),s=0;s<64;s++)c[s]=0;for(s=0;s<32;s++)c[s]=l[s];for(s=0;s<32;s++)for(u=0;u<32;u++)c[s+u]+=i[s]*a[u];return se(e.subarray(32),c),m}function de(e,n){var r=t(),o=t(),l=t(),u=t(),c=t(),d=t(),p=t();return $(e[2],i),F(e[1],n),q(l,e[1]),W(u,l,s),B(l,l,e[2]),O(u,e[2],u),q(c,u),q(d,c),W(p,d,c),W(r,p,l),W(r,r,u),V(r,r),W(r,r,l),W(r,r,u),W(r,r,u),W(e[0],r,u),q(o,e[0]),W(o,o,u),w(o,l)&&W(e[0],e[0],m),q(o,e[0]),W(o,o,u),w(o,l)?-1:(A(e[0])===n[31]>>7&&B(e[0],a,e[0]),W(e[3],e[0],e[1]),0)}function me(e,n,r,o){var a,i=new Uint8Array(32),l=new Uint8Array(64),s=[t(),t(),t(),t()],u=[t(),t(),t(),t()];if(r<64||de(u,o))return-1;for(a=0;a<r;a++)e[a]=n[a];for(a=0;a<32;a++)e[a+32]=o[a];if(ee(l,e,r),ue(l),oe(s,u,l),ae(u,n.subarray(32)),te(s,u),re(i,s),r-=64,g(n,0,i,0)){for(a=0;a<r;a++)e[a]=0;return-1}for(a=0;a<r;a++)e[a]=n[a+64];return r}var pe=32,_e=24,fe=32,ge=16,he=32,ye=32,Ce=32,be=32,ve=32,Se=_e,Re=fe,Le=ge,Ee=64,ke=32,Ie=64,Te=32,De=64;e.lowlevel={crypto_core_hsalsa20:b,crypto_stream_xor:E,crypto_stream:L,crypto_stream_salsa20_xor:S,crypto_stream_salsa20:R,crypto_onetimeauth:I,crypto_onetimeauth_verify:T,crypto_verify_16:f,crypto_verify_32:g,crypto_secretbox:D,crypto_secretbox_open:x,crypto_scalarmult:H,crypto_scalarmult_base:G,crypto_box_beforenm:j,crypto_box_afternm:K,crypto_box:X,crypto_box_open:Y,crypto_box_keypair:z,crypto_hash:ee,crypto_sign:ce,crypto_sign_keypair:ie,crypto_sign_open:me,crypto_secretbox_KEYBYTES:pe,crypto_secretbox_NONCEBYTES:_e,crypto_secretbox_ZEROBYTES:fe,crypto_secretbox_BOXZEROBYTES:ge,crypto_scalarmult_BYTES:he,crypto_scalarmult_SCALARBYTES:ye,crypto_box_PUBLICKEYBYTES:Ce,crypto_box_SECRETKEYBYTES:be,crypto_box_BEFORENMBYTES:ve,crypto_box_NONCEBYTES:Se,crypto_box_ZEROBYTES:Re,crypto_box_BOXZEROBYTES:Le,crypto_sign_BYTES:Ee,crypto_sign_PUBLICKEYBYTES:ke,crypto_sign_SECRETKEYBYTES:Ie,crypto_sign_SEEDBYTES:Te,crypto_hash_BYTES:De,gf:t,D:s,L:le,pack25519:M,unpack25519:F,M:W,A:O,S:q,Z:B,pow2523:V,add:te,set25519:$,modL:se,scalarmult:oe,scalarbase:ae};function xe(e,t){if(e.length!==pe)throw new Error("bad key size");if(t.length!==_e)throw new Error("bad nonce size")}function $e(e,t){if(e.length!==Ce)throw new Error("bad public key size");if(t.length!==be)throw new Error("bad secret key size")}function Pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ne(e){for(var t=0;t<e.length;t++)e[t]=0}e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,n){Pe(e,t,n),xe(n,t);for(var r=new Uint8Array(fe+e.length),o=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+fe]=e[a];return D(o,r,r.length,t,n),o.subarray(ge)},e.secretbox.open=function(e,t,n){Pe(e,t,n),xe(n,t);for(var r=new Uint8Array(ge+e.length),o=new Uint8Array(r.length),a=0;a<e.length;a++)r[a+ge]=e[a];return r.length<32||x(o,r,r.length,t,n)!==0?null:o.subarray(fe)},e.secretbox.keyLength=pe,e.secretbox.nonceLength=_e,e.secretbox.overheadLength=ge,e.scalarMult=function(e,t){if(Pe(e,t),e.length!==ye)throw new Error("bad n size");if(t.length!==he)throw new Error("bad p size");var n=new Uint8Array(he);return H(n,e,t),n},e.scalarMult.base=function(e){if(Pe(e),e.length!==ye)throw new Error("bad n size");var t=new Uint8Array(he);return G(t,e),t},e.scalarMult.scalarLength=ye,e.scalarMult.groupElementLength=he,e.box=function(t,n,r,o){var a=e.box.before(r,o);return e.secretbox(t,n,a)},e.box.before=function(e,t){Pe(e,t),$e(e,t);var n=new Uint8Array(ve);return j(n,e,t),n},e.box.after=e.secretbox,e.box.open=function(t,n,r,o){var a=e.box.before(r,o);return e.secretbox.open(t,n,a)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(Ce),t=new Uint8Array(be);return z(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(Pe(e),e.length!==be)throw new Error("bad secret key size");var t=new Uint8Array(Ce);return G(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=Ce,e.box.secretKeyLength=be,e.box.sharedKeyLength=ve,e.box.nonceLength=Se,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(Pe(e,t),t.length!==Ie)throw new Error("bad secret key size");var n=new Uint8Array(Ee+e.length);return ce(n,e,e.length,t),n},e.sign.open=function(e,t){if(Pe(e,t),t.length!==ke)throw new Error("bad public key size");var n=new Uint8Array(e.length),r=me(n,e,e.length,t);if(r<0)return null;for(var o=new Uint8Array(r),a=0;a<o.length;a++)o[a]=n[a];return o},e.sign.detached=function(t,n){for(var r=e.sign(t,n),o=new Uint8Array(Ee),a=0;a<o.length;a++)o[a]=r[a];return o},e.sign.detached.verify=function(e,t,n){if(Pe(e,t,n),t.length!==Ee)throw new Error("bad signature size");if(n.length!==ke)throw new Error("bad public key size");var r=new Uint8Array(Ee+e.length),o=new Uint8Array(Ee+e.length),a;for(a=0;a<Ee;a++)r[a]=t[a];for(a=0;a<e.length;a++)r[a+Ee]=e[a];return me(o,r,r.length,n)>=0},e.sign.keyPair=function(){var e=new Uint8Array(ke),t=new Uint8Array(Ie);return ie(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(Pe(e),e.length!==Ie)throw new Error("bad secret key size");for(var t=new Uint8Array(ke),n=0;n<t.length;n++)t[n]=e[32+n];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(Pe(e),e.length!==Te)throw new Error("bad seed size");for(var t=new Uint8Array(ke),n=new Uint8Array(Ie),r=0;r<32;r++)n[r]=e[r];return ie(t,n,!0),{publicKey:t,secretKey:n}},e.sign.publicKeyLength=ke,e.sign.secretKeyLength=Ie,e.sign.seedLength=Te,e.sign.signatureLength=Ee,e.hash=function(e){Pe(e);var t=new Uint8Array(De);return ee(t,e,e.length),t},e.hash.hashLength=De,e.verify=function(e,t){return Pe(e,t),e.length===0||t.length===0||e.length!==t.length?!1:_(e,0,t,0,e.length)===0},e.setPRNG=function(e){n=e},(function(){var t=typeof self!="undefined"?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){var n=65536;e.setPRNG(function(e,r){var o,a=new Uint8Array(r);for(o=0;o<r;o+=n)t.getRandomValues(a.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)e[o]=a[o];Ne(a)})}else t&&t.randomBytes&&e.setPRNG(function(e,n){var r,o=t.randomBytes(n);for(r=0;r<n;r++)e[r]=o[r];Ne(o)})})()})(typeof l!="undefined"&&l.exports?l.exports:self.nacl=self.nacl||{})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("tweetnacl",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i){"use strict";a.exports=n("tweetnacl-1.0.3")()}),null);
__d("WACryptoDependencies",["tweetnacl"],(function(t,n,r,o,a,i,l){"use strict";var e=self.crypto;function s(t){e=t;var n=65536;o("tweetnacl").setPRNG(function(e,r){var o,a=new Uint8Array(r);for(o=0;o<r;o+=n)t.getRandomValues(a.subarray(o,o+Math.min(r-o,n)));for(o=0;o<r;o++)e[o]=a[o];for(var i=0;i<a.length;i++)a[i]=0})}function u(){return e}l.setCrypto=s,l.getCrypto=u}),98);
__d("WACryptoSha256",["WABase64","WACryptoDependencies"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WACryptoDependencies").getCrypto().subtle.digest({name:"SHA-256"},e)}function s(t){return e(t).then(o("WABase64").encodeB64)}function u(e){return s(c(e))}function c(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,o=e.length;r<o;r++)n[r]=e.charCodeAt(r);return t}l.sha256=e,l.sha256Base64=s,l.sha256Str=u}),98);
__d("WACryptoSha256Builder",["WABinary"],(function(t,n,r,o,a,i,l){"use strict";var e=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=64,u=4,c=(function(){function t(){this.h0=0,this.h1=0,this.h2=0,this.h3=0,this.h4=0,this.h5=0,this.h6=0,this.h7=0,this.tail=new Uint8Array(0),this.size=0,this.reset()}var n=t.prototype;return n.reset=function(){this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225,this.tail=new Uint8Array(0),this.size=0},n.update=function(t){var e=new Uint8Array(this.tail.length+t.length);for(e.set(this.tail),e.set(t,this.tail.length),this.size+=t.length*8;e.length>=s;){var n=e.subarray(0,s);this.$1(n),e=e.slice(s)}return this.tail=e,this},n.$2=function(){var e=new Uint8Array(64);if(e.set(this.tail),e.set(new Uint8Array([128]),this.tail.length),this.tail.length+9>s){this.$1(e);var t=g(new Uint8Array(0),this.size);this.$1(t)}else{var n=g(e,this.size);this.$1(n)}},n.finish=function(){this.$2();var e=new(o("WABinary")).Binary;return e.writeUint32(this.h0),e.writeUint32(this.h1),e.writeUint32(this.h2),e.writeUint32(this.h3),e.writeUint32(this.h4),e.writeUint32(this.h5),e.writeUint32(this.h6),e.writeUint32(this.h7),this.reset(),e.readByteArrayView()},n.$1=function(n){for(var t=[],r=0;r<16;r++){var o=n.subarray(r*u,u*(r+1)),a=o[0]<<24|o[1]<<16|o[2]<<8|o[3];t.push(a)}for(var i=16;i<64;i++){var l=d(t[i-15]),s=m(t[i-2]),c=t[i-16]+(t[i-7]+l+s)>>>0;t.push(c)}for(var _=this.h0,f=this.h1,g=this.h2,h=this.h3,y=this.h4,C=this.h5,b=this.h6,v=this.h7,S=0;S<64;S++){var R=p(y,6)^p(y,11)^p(y,25),L=y&C^~y&b,E=p(_,2)^p(_,13)^p(_,22),k=_&f^_&g^f&g,I=v+R+L+e[S]+t[S],T=E+k;v=b,b=C,C=y,y=h+I>>>0,h=g,g=f,f=_,_=I+T>>>0}this.h0=this.h0+_>>>0,this.h1=this.h1+f>>>0,this.h2=this.h2+g>>>0,this.h3=this.h3+h>>>0,this.h4=this.h4+y>>>0,this.h5=this.h5+C>>>0,this.h6=this.h6+b>>>0,this.h7=this.h7+v>>>0},t})();function d(e){var t=p(e,7),n=p(e,18),r=_(e,3);return t^n^r}function m(e){var t=p(e,17),n=p(e,19),r=_(e,10);return t^n^r}function p(e,t){return e>>>t|e<<32-t}function _(e,t){return e>>>t}function f(e){return new Uint8Array(new Uint32Array([e]).buffer)}function g(e,t){var n=new Uint8Array(s);n.set(e);var r=f(t);return n.set(r.subarray(0,1),n.length-1),n.set(r.subarray(1,2),n.length-2),n.set(r.subarray(2,3),n.length-3),n.set(r.subarray(3,4),n.length-4),n.set(r.subarray(4,5),n.length-5),n.set(r.subarray(5,6),n.length-6),n.set(r.subarray(6,7),n.length-7),n.set(r.subarray(7,8),n.length-8),n}l.Sha256Builder=c,l.sigma0=d,l.sigma1=m,l.rotateRight=p,l.shiftRight=_}),98);
__d("WACryptoSha256HmacBuilder",["WACryptoSha256Builder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=new(o("WACryptoSha256Builder")).Sha256Builder,this.$2=new Uint8Array(0),this.reset(e)}var t=e.prototype;return t.reset=function(t){this.$2=new Uint8Array(64),t.length>64?this.$2.set(new(o("WACryptoSha256Builder")).Sha256Builder().update(t).finish(),0):this.$2.set(t,0);var e=this.$2.map(function(e){return e^54});this.$1=new(o("WACryptoSha256Builder")).Sha256Builder().update(e)},t.update=function(t){return this.$1.update(t),this},t.finish=function(){var e=this.$2.map(function(e){return e^92}),t=this.$1.finish();return new(o("WACryptoSha256Builder")).Sha256Builder().update(e).update(t).finish()},e})();l.Sha256HMacBuilder=e}),98);
__d("WAIDBTypes",[],(function(t,n,r,o,a,i){"use strict";function e(){return indexedDB}i.idb=e}),66);
__d("WormDump",["FBLogger","Promise","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return e}function u(e){return"redacted:"+String(e).length}function c(e,t,n){return d.apply(this,arguments)}function d(){return d=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,o,a){var i=yield o.runInTransaction(a,"readonly",function(o){return(e||(e=n("Promise"))).all(a.map((function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var n=t[e],a=yield o.stores[e].readAll({limit:n==null?void 0:n.limit,order:"desc"});return[e,a.map(function(e){var t={};return Object.keys(e).forEach(function(o){var a,i=n==null||(a=n.customFields)==null?void 0:a[o];if(i)try{t[o]=i(e[o])}catch(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Failed to process special handling for DB dump")}else t[o]=u(e[o])}),t})]});return function(t){return e.apply(this,arguments)}})()))},"dump"),l={};return i.forEach(function(e){var t=e[0],n=e[1];l[t]=n}),l}),d.apply(this,arguments)}l.wormNonSensitiveField=s,l.wormRedact=u,l.dump=c}),98);
__d("Worm",["FBLogger","QPLFlow","WormDump","WormReadOnlyStoreAccessor","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1e4,s=(function(){function t(e,t){this.$2=e,this.$1=t}var a=t.prototype;return a.init=function(t){return this.$2.init(t)},a.close=function(){this.$2.close()},a.store=function(t){return new(o("WormReadOnlyStoreAccessor")).ReadOnlyStoreAccessor(this.$2,t,this.$1)},a.dump=function(t){var e=Object.keys(this.$2.getSchema());return o("WormDump").dump(t,this,e)},a.runInTransaction=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,n,a,i){var l=this.$1!=null?o("QPLFlow").startQPLFlow(this.$1,{annotations:{bool:{isReadonly:n==="readonly"},string:{dbAlias:this.$2.getDbAlias(),operationType:i}},timeoutInMs:e}):void 0;try{var s=yield this.$2.runInTransaction(t,n,a,{eventFlow:l});return l==null||l.endSuccess(),s}catch(e){throw l==null||l.endFail("error"),r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error performing %s",i),e}});function a(e,n,r,o){return t.apply(this,arguments)}return a})(),t})();l.OP_TIMEOUT_MS=e,l.WormDatabase=s}),98);
__d("WormPromise",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=typeof self=="object"?self.Promise:typeof globalThis=="object"?globalThis.Promise:e||(e=n("Promise"));i.WormPromise=l}),66);
__d("WormRangeIterator",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=t.map(function(t){return e[t]});return n}function l(t,n,r,o){var a=t.at(0),i=t.at(-1);return{endCursor:i&&e(i,n),hasNext:r,hasPrevious:o,startCursor:a&&e(a,n)}}function s(e,t,n,r){var o=e.flatMap(function(e){return e.data}).sort(function(e,r){return u(e,r,t)*(n==="asc"?1:-1)}).slice(0,r+1),a=o.slice(0,r),i=o.length>r,s=e.some(function(e){return e.cursorInfo.hasPrevious}),c=l(a,t,i,s);return{cursorInfo:c,data:a}}function u(t,n,r){for(var o=e(t,r),a=e(n,r),i=0;i<o.length;i++)if(o[i]!==a[i]){var l=o[i]>a[i];return l?1:-1}return 0}i.makeCursor=e,i.makeCursorInfoFromList=l,i.mergeRanges=s}),66);
__d("WormStoreFunctions",["WormPromise","WormRangeIterator","asyncToGeneratorRuntime","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a=[];return o("WormPromise").WormPromise.all(r.map(function(t){var r=t.selector;return e.getByIndex(n,r)})).then(function(n){var i=[],l=[];return n.forEach(function(e,n){var o=r[n].item;if(e){var s=babelHelpers.extends({},o),u=e[t.primaryKey];s[t.primaryKey]=u,i.push(s),a.push(u)}else l.push(o),a.push(null)}),o("WormPromise").WormPromise.all([e.bulkPut(i),e.bulkAdd(l).then(function(e){var t=0;a.forEach(function(n,r){n==null&&(a[r]=e[t++])})})])}).then(function(){return a.filter(Boolean)})}function s(e,t,n,r){return e.readIndex(t,n,babelHelpers.extends({},r,{limit:1})).then(function(e){var t;return(t=e[0])!=null?t:null})}var u=(function(){function e(e,t,n,r,o,a){this.query=e,this.indexName=n,this.storeSchema=t,this.order=r,this.filter=a,this.boundaries=o,(o==null?void 0:o.greaterThan)!=null?this.lowerBoundary={greaterThan:o.greaterThan}:(o==null?void 0:o.greaterThanOrEqual)!=null&&(this.lowerBoundary={greaterThanOrEqual:o.greaterThanOrEqual}),(o==null?void 0:o.lessThan)!=null?this.upperBoundary={lessThan:o.lessThan}:(o==null?void 0:o.lessThanOrEqual)!=null&&(this.upperBoundary={lessThanOrEqual:o.lessThanOrEqual})}var t=e.prototype;return t.read=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=this.order==="asc",a;e==null?a=this.boundaries:n?a=babelHelpers.extends({},this.upperBoundary,{greaterThan:e}):a=babelHelpers.extends({},this.lowerBoundary,{lessThan:e});var i=yield this.query(a,{filter:this.filter,limit:t+1,order:this.order}),l,s=null;if(i.length<=t)l=i;else if(i.length===t+1)l=i.slice(0,t),s=i[t];else throw r("err")("unreachable");var u=o("WormRangeIterator").makeCursorInfoFromList(l,this.storeSchema.indexes[this.indexName].fields,s!=null,e!=null);return{cursorInfo:u,data:l}});function t(t,n){return e.apply(this,arguments)}return t})(),e})();function c(e,t,n,o,a,i){var l=t.indexes;if(l==null)throw r("err")("No indexes found");var s=l[n];if(s==null)throw r("err")("Index not found");return new u(function(t,r){return e(n,t!=null?t:void 0,r)},t,n,o,a,i)}l.bulkUpsert=e,l.getByIndex=s,l.getIndexRangeIterator=c}),98);
__d("WormReadOnlyStoreAccessor",["FBLogger","QPLFlow","Worm","WormStoreFunctions","asyncToGeneratorRuntime","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.$4=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){var n=this.$2+"."+t+"_inline",a=this.$3!=null?o("QPLFlow").startQPLFlow(this.$3,{annotations:{string:{operationType:n}},timeoutInMs:o("Worm").OP_TIMEOUT_MS}):void 0;try{var i=yield this.$1.runInTransaction([this.$2],"readonly",e,{eventFlow:a});return a==null||a.endSuccess(),i}catch(e){a==null||a.endFail("error");var l=r("getErrorSafe")(e);throw r("FBLogger")("worm").catching(l).mustfix("Error performing %s",n),l}});function t(t,n){return e.apply(this,arguments)}return t})(),t.bulkGet=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].bulkGet(t)},"bulkGet")},t.count=function(){var e=this;return this.$4(function(t){return t.stores[e.$2].count()},"count")},t.get=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].get(t)},"get")},t.getByIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].getByIndex(t,n,r)},"getByIndex")},t.getIndexRangeIterator=function(t,n,r,a){var e=this;return o("WormStoreFunctions").getIndexRangeIterator(function(t,n,r){return e.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"getIndexRangeIterator")},this.$1.getSchema()[this.$2],t,n,r,a)},t.readAll=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readAll(t)},"readAll")},t.readByKeyRange=function(t,n){var e=this;return this.$4(function(r){return r.stores[e.$2].readByKeyRange(t,n)},"readByKeyRange")},t.readIndex=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndex(t,n,r)},"readIndex")},t.readIndexAnyOf=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexAnyOf(t,n,r)},"readIndexAnyOf")},t.readIndexKeys=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexKeys(t,n,r)},"readIndexKeys")},t.readIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readIndexRange(t,n,r)},"readIndexRange")},t.readKeys=function(t){var e=this;return this.$4(function(n){return n.stores[e.$2].readKeys(t)},"readKeys")},t.readKeysByIndexRange=function(t,n,r){var e=this;return this.$4(function(o){return o.stores[e.$2].readKeysByIndexRange(t,n,r)},"readKeysByIndexRange")},e})();l.ReadOnlyStoreAccessor=e}),98);
__d("WormEncoding",["msgpack-msgpack"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=new(o("msgpack-msgpack")).ExtensionCodec,t=0;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset)},encode:function(t){if(t instanceof ArrayBuffer)return o("msgpack-msgpack").encode(new Uint8Array(t))},type:t});var n=1;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Uint8Array(e.buffer.slice(e.byteOffset,e.byteLength+e.byteOffset))},encode:function(t){if(t instanceof Uint8Array)return o("msgpack-msgpack").encode(t)},type:n});var r=2;e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return BigInt(e)},encode:function(t){if(typeof t=="bigint")return o("msgpack-msgpack").encode(String(t))},type:r});var a=3;return e.register({decode:function(t){var e=o("msgpack-msgpack").decode(t);return new Set(e)},encode:function(t){if(t instanceof Set)return o("msgpack-msgpack").encode(Array.from(t))},type:a}),{decode:function(n){return o("msgpack-msgpack").decode(n,{extensionCodec:e})},encode:function(n){return o("msgpack-msgpack").encode(n,{extensionCodec:e,ignoreUndefined:!0})}}}l.createEncoding=e}),98);
__d("WormIDbGetMinMaxKeySelector",[],(function(t,n,r,o,a,i){"use strict";var e=-1/0,l,s=function(){if(l!=null)return l;try{return IDBKeyRange.only([[]]),l=[[]],l}catch(t){var e="\uFFFF";return l=e,e}};i.MIN_KEY=e,i.getMaxSelector=s}),66);
__d("WormEAR",["FBLogger","Promise","WABinary","WACryptoDependencies","WACryptoSha256","WACryptoSha256HmacBuilder","WATimeUtils","WormEncoding","WormIDbGetMinMaxKeySelector","asyncToGeneratorRuntime","getErrorSafe","memoizeStringOnly","tweetnacl"],(function(t,n,r,o,a,i,l){"use strict";var e,s="_encryptedContent",u=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="WormEAREncryptionError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(function(e){function t(t,n,r){var o;return o=e.call(this,t)||this,o.name="WormEARDecryptionError",o.message=t,o.store=n,o.maybeHashedPk=r,o}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));function d(e,t,n){if(typeof e=="number")return e;var r=t.encode(e),a=new(o("WACryptoSha256HmacBuilder")).Sha256HMacBuilder(new Uint8Array(n)).update(r).finish();return a.buffer}var m=32,p=2,_=128,f=12,g=256,h=new Uint8Array(0).buffer,y="AES-GCM",C="HKDF",b="SHA-256",v=3600,S=24*v,R=0,L=S*30*6,E=(function(){function t(e,t,n,a){var i=this,l;this.$7=0,this.$9=!1,this.$10=!1,this.$11=r("memoizeStringOnly")(function(e){var t=i.$2[e].nonEncryptedFields;if(t!=null)return new Set(t)}),this.$2=e,this.$1=t,this.$8=(l=a==null?void 0:a.encKeyTtl)!=null?l:L,this.$3=o("WormEncoding").createEncoding(),this.$4=n,this.$6=crypto.subtle.importKey("raw",n,{name:y},!1,["encrypt","decrypt"]),this.$5=new Map}var a=t.prototype;return a.isSecureStore=function(t){return this.$2[t].secure!==!1},a.$12=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){return(yield o("WACryptoSha256").sha256Base64(this.$4)).substring(0,5)});function t(){return e.apply(this,arguments)}return t})(),a.prepareNewKeyVersion=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(){var e=o("WACryptoDependencies").getCrypto(),t=e.getRandomValues(new Uint8Array(m)).buffer,n=e.getRandomValues(new Uint8Array(m)).buffer,r=e.getRandomValues(new Uint8Array(f)),a=yield this.$6,i=yield e.subtle.encrypt({iv:r,name:y,tagLength:_},a,n);return{clientKey:t,expiration:o("WATimeUtils").castToUnixTime(o("WATimeUtils").unixTime()+this.$8),keyHash:yield this.$12(),salt:o("WABinary").Binary.build(r,i).readBuffer()}});function t(){return e.apply(this,arguments)}return t})(),a.init=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a,i){var l=this;this.$5=new Map,this.$7=0,this.$9=a.incorrectVersions,this.$10=a.versionsLoss;var s=o("WACryptoDependencies").getCrypto(),u=yield this.$12(),c=!0;try{yield(e||(e=n("Promise"))).all(t.map(function(t){c=c&&t.keyHash===u;var r=t.salt,o=r.slice(0,f),a=r.slice(f);return l.$6.then(function(r){return(e||(e=n("Promise"))).all([s.subtle.importKey("raw",t.clientKey,{name:C},!1,["deriveKey"]),s.subtle.decrypt({iv:new Uint8Array(o),name:y,tagLength:_},r,a)])}).then(function(e){var t=e[0],n=e[1];return s.subtle.deriveKey({hash:{name:b},info:h,name:C,salt:n},t,{length:g,name:y},!0,["encrypt","decrypt"])}).then(function(e){return s.subtle.exportKey("raw",e)}).then(function(e){l.$7=Math.max(l.$7,t.version),l.$5.set(t.version,e)})}))}catch(e){throw r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Error on keychain initialisation keyHashCheck: %s",c),e}finally{var d;i==null||(d=i.eventFlow)==null||d.addAnnotations({bool:{keyHashCheck:c}})}});function a(e,n,r){return t.apply(this,arguments)}return a})(),a.$13=function(t){if(this.$7===0)throw new u("EAR.Encryption. EAR is not initialised ");var e=this.$5.get(this.$7);if(e==null)throw new u("EAR.Encryption.Key does not exist for version");var n=o("tweetnacl").randomBytes(o("tweetnacl").secretbox.nonceLength),r=o("tweetnacl").secretbox(t,n,new Uint8Array(e));return o("WABinary").Binary.build(R,this.$7,n,r).readBuffer()},a.$14=function(t,n,r){var e=t.slice(0,p),a=new DataView(e).getUint8(1),i=this.$5.get(a);if(i==null)throw new c("EAR.Decryption.Key does not exist for version: "+a+"; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);var l=t.slice(p,p+o("tweetnacl").secretbox.nonceLength),s=t.slice(p+o("tweetnacl").secretbox.nonceLength),u=o("tweetnacl").secretbox.open(new Uint8Array(s),new Uint8Array(l),new Uint8Array(i));if(u==null)throw new c("EAR.Decryption. Unable to decrypt; db: "+this.$1+"; store: "+n+"; incorrectVersions: "+this.$9.toString()+" versionsLoss: "+this.$10.toString(),n,r);return u},a.encryptEntity=function(t,n){var e,r=this.$2[n],o=new Set;r.autoIncrement!==!0&&o.add(r.primaryKey);var a=r.indexes;if(a!=null)for(var i of Object.keys(a)){var l=a[i];for(var u of l.fields)o.add(u)}var c={};for(var m of o){var p;c[m]=(p=this.$11(n))!=null&&p.has(m)?t[m]:d(t[m],this.$3,this.$4)}return r.autoIncrement===!0&&t[r.primaryKey]!=null&&(c[r.primaryKey]=t[r.primaryKey]),babelHelpers.extends({},c,(e={},e[s]=this.$13(this.$3.encode(t)),e))},a.$15=function(t,n,o){if((t==null||typeof t!="object")&&r("FBLogger")("worm").mustfix("WORM.EAR: dbRecord is null or not object: %s, store: %s, reason %s",t,n,o),(t==null?void 0:t[s])!=null){var e=t[this.$2[n].primaryKey];return{encrypted:!0,encryptedEntity:t,pk:e}}else return{encrypted:!1,entity:t}},a.maybeDecrypt=function(t,n,r,o,a){if(t==null||this.isSecureStore(n)===!1)return t;var e=this.$15(t,n,r);if(!e.encrypted){if(a!=null&&a.shouldNotFailIfEntityIsNotEncrypted)return t;var i=t[this.$2[n].primaryKey];throw new c("EAR.Decryption. Attempt to decrypt malformed encrypted entity in  db: "+this.$1+", store: "+n+". Missing '"+s+"' property. Pk is "+(i==null?"empty":"not empty"),n,i)}o==null||o.addPoint("decrypt_start");var l=this.decryptEntity(e.encryptedEntity,n,e.pk);o==null||o.addPoint("decrypt_end");var u=this.$2[n];if(u.autoIncrement===!0){var d;return babelHelpers.extends({},l,(d={},d[u.primaryKey]=e.pk,d))}return l},a.maybeEncrypt=function(t,n,r){if(this.isSecureStore(n)===!1)return t;r==null||r.addPoint("encrypt_start");var e=this.encryptEntity(t,n);return r==null||r.addPoint("encrypt_end"),e},a.decryptEntity=function(t,n,r){return this.$3.decode(this.$14(t[s],n,r))},a.hashPk=function(t,n,r){var e;return(e=this.$11(t))!=null&&e.has(n)?r:d(r,this.$3,this.$4)},a.hashSelector=function(t,n,r){for(var e,a,i=[].concat(t),l=(e=(a=this.$2[n].indexes)==null||(a=a[r])==null?void 0:a.fields)!=null?e:[],s=0;s<i.length;s++){var u,c=i[s],m=l[s];c!==o("WormIDbGetMinMaxKeySelector").getMaxSelector()&&c!==-1/0&&((u=this.$11(n))!=null&&u.has(m)||(i[s]=d(c,this.$3,this.$4)))}return i},t})();l.ENCRYPTED_COLUMN_NAME=s,l.EncryptionError=u,l.DecryptionError=c,l.WormEAR=E}),98);
__d("WormIDbConsts",[],(function(t,n,r,o,a,i){"use strict";var e="InvalidStateError",l="AbortError",s="NotFoundError",u="UnknownError",c=new Set([e,l,s,u]);i.IDB_ERROR_INVALID_STATE=e,i.IDB_ERROR_ABORT=l,i.IDB_ERROR_NOT_FOUND=s,i.IDB_ERROR_UNKNOWN=u,i.IDB_ERRORS=c}),66);
__d("WormIDbStore",["Promise","WormIDbGetMinMaxKeySelector","WormPromise","WormStoreFunctions","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){},u=(function(){function t(e,t,n,r,o){var a=this;this.readIndexRange=function(e,t,n){return t==null?a.$11(function(){return a.$1.index(e).openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):a.$11(function(){return a.$1.index(e).openCursor(a.$12(t,e),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},this.$1=t.objectStore(e),this.$2=e,this.$3=r,this.$4=n,this.$5=o}var a=t.prototype;return a.$6=function(t,n){var e,r=(e=this.$4.eventFlow)!=null&&e.isActive()?this.$4.eventFlow:null;r==null||r.addPoint(n+"_start");var o=t();return r==null||r.addPoint(n+"_end"),o},a.$7=function(){return this.$3.isSecureStore(this.$2)},a.$8=function(t){var e=this;return this.$7()?this.$6(function(){return e.$3.hashPk(e.$2,e.$5.primaryKey,t)},"hashPk"):t},a.$9=function(t,n){var e=this;return!this.$7()||t==null?t:this.$6(function(){return e.$3.hashSelector(t,e.$2,n)},"hashSelector")},a.$10=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=t();o.onsuccess=function(){try{n(o.result.map(function(t){return e.$3.maybeDecrypt(t,e.$2,"readArray",e.$4.eventFlow)}))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})},a.$11=function(t,n){var e=this;return new(o("WormPromise")).WormPromise(function(r,o){var a,i=[],l=(n==null?void 0:n.limit)!=null,s=Math.max(0,(a=n==null?void 0:n.limit)!=null?a:0);if(l&&s===0){r(i);return}var u=t();u.onsuccess=function(){var t=u.result;if(t){var a;try{a=e.$3.maybeDecrypt(t.value,e.$2,"readCursor",e.$4.eventFlow)}catch(e){o(e);return}if((!(n!=null&&n.filter)||n.filter(a))&&i.push(a),l&&s===i.length){r(i);return}t.continue()}else r(i)},u.onerror=function(){return o(u.error)}})},a.bulkAdd=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.add(t.$3.maybeEncrypt(e,t.$2,t.$4.eventFlow));o.onsuccess=function(){t.$5.autoIncrement===!0?n(o.result):n(e[t.$5.primaryKey])},o.onerror=function(){return r(o.error)}})}))},a.bulkPut=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o,a=t.$1.put(t.$3.maybeEncrypt(e,t.$2,(o=t.$4.eventFlow)!=null?o:void 0));a.onsuccess=n,a.onerror=function(){return r(a.error)}})})).then(s)},a.bulkUpsert=function(t,n){return o("WormStoreFunctions").bulkUpsert(this,this.$5,t,n)},a.bulkGet=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.get(t.$8(e));o.onsuccess=function(){try{var e;n(t.$3.maybeDecrypt(o.result,t.$2,"bulkGet",(e=t.$4.eventFlow)!=null?e:void 0))}catch(e){r(e)}},o.onerror=function(){return r(o.error)}})}))},a.get=function(t){return this.bulkGet([t]).then(function(e){return e[0]})},a.getByIndex=function(t,n,r){return o("WormStoreFunctions").getByIndex(this,t,n,r)},a.readByKeyRange=function(t,n){var e=this;return t==null?this.$11(function(){return e.$1.openCursor(null,(n==null?void 0:n.order)==="desc"?"prev":"next")},n):this.$11(function(){return e.$1.openCursor(e.$12(t,e.$5.primaryKey),(n==null?void 0:n.order)==="desc"?"prev":"next")},n)},a.$13=function(t,n,a){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var e=this.$5.indexes[t].fields;if(n.length===e.length)return n;var i=e.map(function(e,t){var r;return(r=n[t])!=null?r:a==="max"?o("WormIDbGetMinMaxKeySelector").getMaxSelector():o("WormIDbGetMinMaxKeySelector").MIN_KEY});return i},a.$12=function(t,n){var e,o,a=n===this.$5.primaryKey;if(t.only!=null){if(this.$5.indexes==null)throw r("err")("No indexes found for store");var i=this.$5.indexes[n].fields;return t.only.length===i.length?IDBKeyRange.only(this.$9(t.only,n)):IDBKeyRange.bound(a?this.$8(t.only):this.$9(this.$13(n,t.only,"min"),n),a?this.$8(t.only):this.$9(this.$13(n,t.only,"max"),n),!0,!0)}var l=(e=t.lessThan)!=null?e:t.lessThanOrEqual,s=(o=t.greaterThan)!=null?o:t.greaterThanOrEqual;if(l!=null)return s!=null?IDBKeyRange.bound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.greaterThan!=null,t.lessThan!=null):IDBKeyRange.upperBound(a?this.$8(l):this.$9(this.$13(n,l,"max"),n),t.lessThan!=null);if(s!=null)return IDBKeyRange.lowerBound(a?this.$8(s):this.$9(this.$13(n,s,"min"),n),t.greaterThan!=null);throw r("err")("Invalid range")},a.readIndex=function(t,n,r){var e=this;return(r==null?void 0:r.filter)==null&&(r==null?void 0:r.order)!=="desc"?this.$10(function(){var o;return e.$1.index(t).getAll(e.$9(n,t),(o=r==null?void 0:r.limit)!=null?o:void 0)}):this.$11(function(){return e.$1.index(t).openCursor(e.$9(n,t),(r==null?void 0:r.order)==="desc"?"prev":"next")},r)},a.readIndexAnyOf=function(t,n,a){var e=this;return new(o("WormPromise")).WormPromise(function(i,l){var s,u;if(n.length===0){i([]);return}var c=(a==null?void 0:a.limit)!=null,d=Math.max(0,(s=a==null?void 0:a.limit)!=null?s:0);if(c&&d===0){i([]);return}var m=(u=e.$5.indexes)==null||(u=u[t])==null?void 0:u.fields;if(!m){l(r("err")("No index fields found"));return}var p=n.every(function(e){return Array.isArray(e)?e.length===m.length:!0});if(p){var _=n.map(function(n){return e.$10(function(){return e.$1.index(t).getAll(e.$9(n,t),c?d:void 0)})});o("WormPromise").WormPromise.all(_).then(function(e){var t=e.flat();a!=null&&a.filter&&(t=t.filter(a.filter)),i(t)}).catch(l)}else{var f=n.map(function(n){return e.readIndexRange(t,{only:n},a)});o("WormPromise").WormPromise.all(f).then(function(t){var n=t.flat(),r=new Set;n=n.filter(function(t){var n=t[e.$5.primaryKey];return r.has(n)?!1:(r.add(n),!0)}),i(n)}).catch(l)}})},a.readIndexKeys=function(t,n,r){var e=this;return this.readIndex(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.readKeysByIndexRange=function(t,n,r){var e=this;return this.readIndexRange(t,n,r).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.getIndexRangeIterator=function(t,n,r,a){return o("WormStoreFunctions").getIndexRangeIterator(this.readIndexRange,this.$5,t,n,r,a)},a.readAll=function(t){var e=this;return(t==null?void 0:t.filter)===null&&(t==null?void 0:t.order)!=="desc"?this.$10(function(){var n;return e.$1.getAll((n=t==null?void 0:t.limit)!=null?n:void 0)}):this.$11(function(){return e.$1.openCursor(null,(t==null?void 0:t.order)==="desc"?"prev":"next")},t)},a.readKeys=function(t){var e=this;return this.readAll(t).then(function(t){return t.map(function(t){return t[e.$5.primaryKey]})})},a.bulkDelete=function(r){var t=this;return(e||(e=n("Promise"))).all(r.map(function(e){return new(o("WormPromise")).WormPromise(function(n,r){var o=t.$1.delete(t.$8(e));o.onsuccess=n,o.onerror=function(){return r(o.error)}})})).then(s)},a.delete=function(t){var e=this;return new(o("WormPromise")).WormPromise(function(n,r){var o=e.$1.delete(e.$8(t));o.onsuccess=function(){return n()},o.onerror=function(){return r(o.error)}})},a.clear=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.clear();r.onsuccess=t,r.onerror=function(){return n(r.error)}}).then(s)},a.count=function(){var e=this;return new(o("WormPromise")).WormPromise(function(t,n){var r=e.$1.count();r.onsuccess=function(){return t(r.result)},r.onerror=function(){return n(r.error)}})},t})();l.WormIDbStore=u}),98);
__d("WormIDbTransaction",["WAResolvable","WormIDbStore"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){var t,n="WormUnknownError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),s=(function(e){function t(){var t,n="WormUnknownAbortError";return t=e.call(this,n)||this,t.name=n,t.message=n,t}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),u=(function(){function t(t,n,r,a,i){var l=this;this.$1=t,this.$2=new(o("WAResolvable")).Resolvable,this.$1.oncomplete=function(){l.$2.resolve()},this.$1.onerror=function(t){var n,r,o,a=(n=(r=(o=t.target)==null?void 0:o.error)!=null?r:l.$1.error)!=null?n:new e;l.$2.reject(a)},this.$1.onabort=function(e){var t,n,r,o=(t=(n=(r=e.target)==null?void 0:r.error)!=null?n:l.$1.error)!=null?t:new s;l.$2.reject(o)},this.$3=a.reduce(function(e,t){var a;return babelHelpers.extends({},e,(a={},a[t]=new(o("WormIDbStore")).WormIDbStore(t,l.$1,n,r,i[t]),a))},{})}var n=t.prototype;return n.commit=function(){var e,t;return(e=(t=this.$1).commit)==null||e.call(t),this.$2.promise},n.abort=function(){this.$2.isSettled||this.$1.abort()},babelHelpers.createClass(t,[{key:"stores",get:function(){return this.$3}}])})();l.WormIDbTransaction=u}),98);
__d("WormIDbTypes",[],(function(t,n,r,o,a,i){"use strict";var e="_worm_db_version_",l="_worm_ear_",s="schema_hash",u="creation_ts",c={indexes:{},primaryKey:"key"},d={indexes:{},primaryKey:"version"},m={_worm_db_version_:c,_worm_ear_:d};i.DB_VERSION_STORE=e,i.EAR_STORE=l,i.SCHEMA_HASH_KEY=s,i.DB_CREATION_TS=u,i.sysSchema=m}),66);
__d("WormIDbUtils",["Promise","WAIDBTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return new(e||(e=n("Promise")))(function(e,n){t.onsuccess=function(){return e(t.result)},t.onerror=function(){return n(t.error)}})}function u(t,a,i){var l=a.onBecomeStale,s=a.onClose,u=a.onError,c=a.onUpgrade;return new(e||(e=n("Promise")))(function(e,n){var a=o("WAIDBTypes").idb().open(t,i);c!=null&&(a.onupgradeneeded=function(){if(a.transaction==null)throw r("err")("Transaction is null on upgradeneeded event");c(a.result,a.transaction)}),a.onsuccess=function(){var t=a.result;s!=null&&(t.onclose=s),t.onversionchange=function(){t.close(),l!=null&&l()},e(t)},a.onerror=function(){n(a.error),u!=null&&u(a.error)}})}l.promisifyIDbRequest=s,l.openIDb=u}),98);
__d("WormIDbUpgrade",["WATimeUtils","WormIDbTypes","WormIDbUtils","asyncToGeneratorRuntime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=[],o=[],a=new Map,i=Array.from(Object.keys(n)).map(function(e){return e.toString()}),l=new Set(i);for(var s of Object.keys(n))if(!e.objectStoreNames.contains(s))r.push(s);else{var u,c=n[s],d=(u=c.indexes)!=null?u:{},m=t.objectStore(s),p=m.indexNames,_=new Set(Object.keys(d)),f=[],g=[];for(var h of _)p.contains(h)?m.index(h).unique!==d[h].unique&&(f.push(h),g.push(h)):f.push(h);for(var y=0;y<p.length;y++){var C=p[y];_.has(C)||g.push(C)}(f.length>0||g.length>0)&&a.set(s,{indexesToCreate:f,indexesToDelete:g})}for(var b=0;b<e.objectStoreNames.length;b++){var v=e.objectStoreNames[b];l.has(v)||o.push(v)}return{storesToCreate:r,storesToDelete:o,storesToModify:a}}function s(e,t){return u.apply(this,arguments)}function u(){return u=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t){if(!e.objectStoreNames.contains(o("WormIDbTypes").DB_VERSION_STORE))return{isNewDb:!0,shouldUpgrade:!0};var n=e.transaction(o("WormIDbTypes").DB_VERSION_STORE,"readonly"),r=yield o("WormIDbUtils").promisifyIDbRequest(n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).get(o("WormIDbTypes").SCHEMA_HASH_KEY));return{isNewDb:!1,shouldUpgrade:(r==null?void 0:r.value)!==t}}),u.apply(this,arguments)}function c(e,t,n){for(var r of n){var o=t[r],a=e.createObjectStore(r,{autoIncrement:!!o.autoIncrement,keyPath:o.primaryKey}),i=o.indexes;if(i!=null)for(var l of Object.keys(i)){var s=i[l];a.createIndex(l,s.fields.map(function(e){return e.toString()}),{unique:s.unique})}}}function d(t,n,r,a,i){var l=e(t,n,r),s=l.storesToCreate,u=l.storesToDelete,d=l.storesToModify;if(c(t,r,s),!i.onlyCreateNewStores){for(var m of u)i.safeToDeleteStores.has(m)&&t.deleteObjectStore(m);var p=function(){var e=f[0];_=f[1];var t=_.indexesToCreate,o=_.indexesToDelete;for(var a of o)n.objectStore(e).deleteIndex(a);var l=r[e].indexes;if(l==null)return 1;var s=!1;for(var u of t){var c=l[u];n.objectStore(e).createIndex(u,[].concat(c.fields),{unique:c.unique}),s=!0}if(s&&r[e].secure===!0&&i.maybeEar!=null){var d=e,m=i.maybeEar,p=n.objectStore(d).getAll();p.onsuccess=function(){var t=p.result;t.forEach(function(t){t!=null&&n.objectStore(e).put(m.maybeEncrypt(m.maybeDecrypt(t,d,"dbUpgrade",void 0,{shouldNotFailIfEntityIsNotEncrypted:!0}),d,void 0))})}}},_;for(var f of d)p();n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").SCHEMA_HASH_KEY,value:a}),i.isNewDbInstance&&n.objectStore(o("WormIDbTypes").DB_VERSION_STORE).put({key:o("WormIDbTypes").DB_CREATION_TS,value:o("WATimeUtils").performanceAbsoluteNow()})}}l.shouldUpgradeDb=s,l.createNewStores=c,l.upgradeDb=d}),98);
__d("WormIDbDriver",["FBLogger","Promise","WACryptoSha256","WAResolvable","WATimeUtils","WormIDbConsts","WormIDbTransaction","WormIDbTypes","WormIDbUpgrade","WormIDbUtils","asyncToGeneratorRuntime","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,o,a,i){var l=this,s,u,c;this.$5=null,this.$8=[],this.$13=function(){l.$12.log(l.$3+".error.db_stale")},this.$14=function(){l.$12.log(l.$3+".error.db_close")},this.$15=function(e){r("FBLogger")("worm").catching(r("getErrorSafe")(e)).mustfix("Unexpected error  %s",l.$3)},this.$2=e,this.$3=t,this.$4=n,this.$6=(s=i==null?void 0:i.safeToDeleteStores)!=null?s:new Set,this.$9=i==null?void 0:i.blockingErrorThreshold,this.$10=(u=i==null?void 0:i.onBlockingError)!=null?u:function(){},this.$11=(c=i==null?void 0:i.onTransactionError)!=null?c:function(){},this.$7=o,this.$12=a}var a=t.prototype;return a.getDbAlias=function(){return this.$3},a.getSchema=function(){return this.$4},a.$16=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(this.$5!=null&&(yield this.$5.promise),this.$1==null)throw r("err")("IDB is not initialised: "+this.$3);var i=new(o("WormIDbTransaction")).WormIDbTransaction(this.$1.transaction(e.map(function(e){return e.toString()}),t,{durability:"relaxed"}),a,this.$7,e,this.$4),l;try{l=yield n(i),yield i.commit()}catch(e){var s=r("getErrorSafe")(e);throw o("WormIDbConsts").IDB_ERRORS.has(s.name)||i.abort(),e}return l});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.$17=function(t){var e,n,o;if(this.$9!=null){var a=this.$9,i=(e=(n=(o=t==null?void 0:t.name)!=null?o:t==null?void 0:t.message)!=null?n:t==null?void 0:t.toString())!=null?e:"unknown";if(this.$8.push(i),!(this.$8.length<Math.max(a,1))){var l=this.$8[this.$8.length-1],s=this.$8.every(function(e){return e===l})?l:"mixed";r("FBLogger")("worm").mustfix("Unrecoverable error (%s): %s",this.$3,s),this.$10(s),this.$8=[]}}},a.$18=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,a){if(this.$1==null){var i,l;(i=a.eventFlow)==null||i.addPoint("db_reinit_start",{bool:{isDbNull:!0}}),yield this.$19(),(l=a.eventFlow)==null||l.addPoint("db_reinit_end")}var s;try{s=yield this.$16(e,t,n,a)}catch(i){var u=r("getErrorSafe")(i);if(u.name===o("WormIDbConsts").IDB_ERROR_INVALID_STATE||u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND||u.name===o("WormIDbConsts").IDB_ERROR_UNKNOWN){var c,d;(c=a.eventFlow)==null||c.addPoint("db_reinit_start",{bool:{isDbInvalid:!0}}),yield this.$19({forceUpgrade:u.name===o("WormIDbConsts").IDB_ERROR_NOT_FOUND}),(d=a.eventFlow)==null||d.addPoint("db_reinit_end"),s=yield this.$16(e,t,n,a)}else throw i}return s});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.runInTransaction=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e,t,n,o){var a;try{a=yield this.$18(e,t,n,o),this.$8=[]}catch(e){var i=r("getErrorSafe")(e);throw this.$11(i),this.$17(i),e}return a});function t(t,n,r,o){return e.apply(this,arguments)}return t})(),a.close=function(){var e;(e=this.$1)==null||e.close()},a.init=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t;try{var n;t=yield this.$19({eventFlow:(n=e==null?void 0:e.eventFlow)!=null?n:void 0})}catch(e){var a=r("getErrorSafe")(e);if((a==null?void 0:a.name)===o("WormIDbConsts").IDB_ERROR_INVALID_STATE)t=yield this.$19();else throw e}return t});function t(t){return e.apply(this,arguments)}return t})(),a.$20=function(t,n){var e=t.version;return t.close(),o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(t,r){return o("WormIDbUpgrade").upgradeDb(t,r,o("WormIDbTypes").sysSchema,n,{isNewDbInstance:!1,maybeEar:null,onlyCreateNewStores:!0,safeToDeleteStores:new Set})}},e+1)},a.$19=(function(){var e=n("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var t=this,n=!1;if(this.$5)return n=!0,this.$5.promise;this.$5=new(o("WAResolvable")).Resolvable;var a=!1;this.$1!=null&&(this.$1.close(),this.$1=null,a=!0);var i=!0;try{var l,s,u,c,d=babelHelpers.extends({},this.$4,o("WormIDbTypes").sysSchema),m=JSON.stringify(d);if(m==null)throw r("err")("DB schema cannot be serialized: "+this.$3);var p=yield o("WACryptoSha256").sha256Str(m),_=null,f=yield o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return _={isNewDb:!0,shouldUpgrade:!1},o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:!0,maybeEar:null,onlyCreateNewStores:!1,safeToDeleteStores:t.$6})}});try{if(Object.keys(o("WormIDbTypes").sysSchema).some(function(e){return f.objectStoreNames.contains(e)===!1})){var g,h;e==null||(g=e.eventFlow)==null||g.addPoint("ear_schema_recovery_start"),f=yield this.$20(f,p),e==null||(h=e.eventFlow)==null||h.addPoint("ear_schema_recovery_end")}}catch(t){var y;e==null||(y=e.eventFlow)==null||y.addPoint("ear_schema_recovery_fail"),r("FBLogger")("worm").catching(r("getErrorSafe")(t)).mustfix("EAR initialization error")}this.$1=f,e==null||(l=e.eventFlow)==null||l.addPoint("ear_init_start");try{var C,b,v;yield this.$21((C=(b=_)==null?void 0:b.isNewDb)!=null?C:!1,{eventFlow:(v=e==null?void 0:e.eventFlow)!=null?v:void 0})}catch(t){var S;throw e==null||(S=e.eventFlow)==null||S.addPoint("ear_init_err"),r("FBLogger")("worm").catching(r("getErrorSafe")(t)).mustfix("EAR initialization error"),t}e==null||(s=e.eventFlow)==null||s.addPoint("ear_init_end");var R=_!=null?_:yield o("WormIDbUpgrade").shouldUpgradeDb(f,p);if(i=R.shouldUpgrade||((u=e==null?void 0:e.forceUpgrade)!=null?u:!1),i){this.$1=null;var L=f.version;f.close(),this.$1=yield o("WormIDbUtils").openIDb(this.$2,{onBecomeStale:this.$13,onClose:this.$14,onError:this.$15,onUpgrade:function(n,r){return o("WormIDbUpgrade").upgradeDb(n,r,d,p,{isNewDbInstance:R.isNewDb,maybeEar:t.$7,onlyCreateNewStores:!1,safeToDeleteStores:t.$6})}},L+1)}var E={isNewDb:R.isNewDb,isUpgraded:i};return(c=this.$5)==null||c.resolve(E),E}catch(e){var k;throw(k=this.$5)==null||k.reject(e),e}finally{var I;e==null||(I=e.eventFlow)==null||I.addAnnotations({bool:{isClosingDb:a,isCompetingInit:n,shouldUpgrade:i}}),this.$5=null}});function t(t){return e.apply(this,arguments)}return t})(),a.$21=(function(){var t=n("asyncToGeneratorRuntime").asyncToGenerator(function*(t,a){var i=this,l=yield this.$7.prepareNewKeyVersion(),s=!1,c=!1,d=yield new(e||(e=n("Promise")))(function(e,n){if(i.$1==null)throw r("err")("IDB is not initialised: "+i.$3);var a=[],d=i.$1.transaction(o("WormIDbTypes").EAR_STORE,"readwrite");d.oncomplete=function(){return e(a)},d.onerror=d.onabort=function(){return n(d.error)};var m=d.objectStore(o("WormIDbTypes").EAR_STORE),p=m.getAll();p.onsuccess=function(){var n,r=(n=p.result)!=null?n:[];a=r.filter(u),s=r.length!==a.length,a.sort(function(e,t){return e.version-t.version});var i=a.length===0||!o("WATimeUtils").isInFuture(a[a.length-1].expiration);if(!i){e(a);return}var d=a.length===0?0:a[a.length-1].version;c=!t&&d===0;var _=babelHelpers.extends({},l,{version:d+1});m.add(_),a.push(_)},p.onerror=function(){return n(p.error)}});yield this.$7.init(d,{incorrectVersions:s,versionsLoss:c},{eventFlow:a==null?void 0:a.eventFlow})});function a(e,n){return t.apply(this,arguments)}return a})(),t})();function u(e){return!(e==null||e.version==null||e.expiration==null||e.clientKey==null||e.clientKey.byteLength===0||e.salt==null||e.salt.byteLength===0)}l.WormIDbDriver=s}),98);/*FB_PKG_DELIM*/
__d("IGDSUserFollowPanoOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsxs(o("XPlatReactSVG").G,{stroke:"currentColor",strokeWidth:"2px",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M19.006 8.252a3.5 3.5 0 1 1-3.499-3.5 3.5 3.5 0 0 1 3.5 3.5z",strokeMiterlimit:10,fill:"none"}),s.jsx(o("XPlatReactSVG").Path,{d:"M22 19.5v-.447a4.05 4.05 0 0 0-4.05-4.049h-4.906a4.05 4.05 0 0 0-4.049 4.049v.447",strokeLinejoin:"round",strokeLinecap:"round",fill:"none"}),s.jsx(o("XPlatReactSVG").Path,{strokeLinecap:"round",strokeMiterlimit:10,d:"M5.00085 7.99792 5.00085 14.00305",fill:"none"}),s.jsx(o("XPlatReactSVG").Path,{strokeLinecap:"round",strokeMiterlimit:10,d:"M8.00439 11.0001 2.00281 11.0001",fill:"none"})]})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("IGDSUserFollowingPanoOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsxs(o("XPlatReactSVG").G,{stroke:"currentColor",strokeWidth:"2px",children:[s.jsx(o("XPlatReactSVG").Path,{d:"M19.006 8.252a3.5 3.5 0 1 1-3.499-3.5 3.5 3.5 0 0 1 3.5 3.5z",strokeMiterlimit:10,fill:"none"}),s.jsx(o("XPlatReactSVG").Path,{d:"M22 19.5v-.447a4.05 4.05 0 0 0-4.05-4.049h-4.906a4.05 4.05 0 0 0-4.049 4.049v.447",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}),s.jsx(o("XPlatReactSVG").Path,{strokeLinecap:"round",strokeLinejoin:"round",fill:"none",stroke:"currentColor",strokeWidth:"2px",d:"M8.003 9.198 4.102 13.099 2.003 11"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("InstagramNetegoClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5888"),s=o("FalcoLoggerInternal").create("instagram_netego_click",e),u=s;l.default=u}),98);
__d("InstagramNetegoDeliveryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5887"),s=o("FalcoLoggerInternal").create("instagram_netego_delivery",e),u=s;l.default=u}),98);
__d("InstagramNetegoHideFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6836"),s=o("FalcoLoggerInternal").create("instagram_netego_hide",e),u=s;l.default=u}),98);
__d("InstagramNetegoImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5889"),s=o("FalcoLoggerInternal").create("instagram_netego_impression",e),u=s;l.default=u}),98);
__d("InstagramNetegoInvalidationFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5891"),s=o("FalcoLoggerInternal").create("instagram_netego_invalidation",e),u=s;l.default=u}),98);
__d("InstagramNetegoSubImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5892"),s=o("FalcoLoggerInternal").create("instagram_netego_sub_impression",e),u=s;l.default=u}),98);
__d("PolarisAbraIcebreakersFeedUnit_icebreakers.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAbraIcebreakersFeedUnit_icebreakers",selections:[{alias:null,args:null,concreteType:"XDTAbraPromotionalIcebreakerPrompt",kind:"LinkedField",name:"icebreakers",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersHScroll_icebreakers"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qp_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisAbraIcebreakersNetegoDeliveryLogger_item"}],type:"XDTAbraIcebreakersInFeedUnit",abstractKey:null};a.exports=e}),null);
__d("PolarisAbraIcebreakersHScrollCard_icebreaker.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAbraIcebreakersHScrollCard_icebreaker",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"display_string",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"icebreaker_id",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"deeplink_url",storageKey:null},action:"THROW"}],type:"XDTAbraPromotionalIcebreakerPrompt",abstractKey:null};a.exports=e}),null);
__d("PolarisAbraIcebreakersUtils",["ix"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://www.meta.ai/?utm_source=ig_abra_promo",u=function(t){switch(t){case"1970spickuptruck":return s("903673");case"animeprincesswarrior":return s("903676");case"astronautDJ":return s("903677");case"baroquesandcastle":return s("903678");case"birthdaycakeplanet":return s("903679");case"bunniesgettingmarried":return s("903680");case"cowwithaUFO":return s("903681");case"crayonhouse":return s("903682");case"crochetedwildflowers":return s("903683");case"cyberpunkmermaid":return s("903684");case"dessertlivingroom":return s("903685");case"Frenchbulldogpromqueen":return s("903674");case"frenchgoldfish":return s("903686");case"gargoyleplayingvideogames":return s("903687");case"glassfoods":return s("903688");case"gummytoyinacastleforest":return s("903689");case"icecarinthedesert":return s("903690");case"isometricdragonsplayingcards":return s("903691");case"koalasplayingtennis":return s("903692");case"Llamasonelectricscooters":return s("903675");case"marketlinocut":return s("903693");case"martianharvestingmooncheese":return s("903694");case"mischievouscatanddogduo":return s("903695");case"mysticalblackcat":return s("903696");case"porcelainhelmet":return s("903697");case"renaissancekitty":return s("903698");case"sleepyguydrinkingcoffee":return s("903699");case"statueDJing":return s("903700");case"steampunkredpanda":return s("903701");case"sumiecatoutput":return s("903702");case"superherogalpopart":return s("903703");case"teacupintoflowers":return s("903704");case"test-imaginealien":return s("903705");case"test-imagineanime1":return s("903706");case"test-imaginebunny":return s("903708");case"test-imaginediner1":return s("903709");case"test-imaginedino":return s("903710");case"vacationingchimp":return s("903711");case"vintageanimefairyinadesert":return s("903712");case"voxelfoodtruck":return s("903713");case"wovenbutterfly":return s("903714");default:return null}};l.META_AI_URL=e,l.getAssetURLFromImageAssetHandle=u}),98);
__d("PolarisAbraIcebreakersHScrollCard.react",["CometRelay","IGDSBox.react","IGDSTextVariants.react","Image.react","PolarisAbraIcebreakersHScrollCard_icebreaker.graphql","PolarisAbraIcebreakersUtils","PolarisFastLink.react","react","react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p={container:{paddingBottom:"x1l90r2v",$$css:!0}},_=221,f=153;function g(t){var a=o("react-compiler-runtime").c(25),i=t.fragmentKey,l=t.logCardImpression,s=t.logPress,c=t.position,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAbraIcebreakersHScrollCard_icebreaker.graphql"),i),g=d.deeplink_url,h=d.display_string,y=d.icebreaker_id,C=d.image_url,b=m(!1),v;a[0]!==y||a[1]!==l||a[2]!==c?(v={onVisible:function(){b.current||(l(y,c),b.current=!0)}},a[0]=y,a[1]=l,a[2]=c,a[3]=v):v=a[3];var S=r("useVisibilityObserver")(v),R;a[4]!==y||a[5]!==s||a[6]!==c?(R=function(){s(y,c)},a[4]=y,a[5]=s,a[6]=c,a[7]=R):R=a[7];var L=R,E;a[8]!==C?(E=o("PolarisAbraIcebreakersUtils").getAssetURLFromImageAssetHandle(C),a[8]=C,a[9]=E):E=a[9];var k;a[10]===Symbol.for("react.memo_cache_sentinel")?(k={borderRadius:"11px 11px 0px 0px"},a[10]=k):k=a[10];var I;a[11]!==S||a[12]!==E?(I=u.jsx(r("Image.react"),{ref:S,src:E,style:k,width:f}),a[11]=S,a[12]=E,a[13]=I):I=a[13];var T;a[14]===Symbol.for("react.memo_cache_sentinel")?(T={className:"xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},a[14]=T):T=a[14];var D;a[15]!==h?(D=u.jsx("div",babelHelpers.extends({},T,{children:u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{maxLines:2,children:h})})),a[15]=h,a[16]=D):D=a[16];var x;a[17]!==S||a[18]!==I||a[19]!==D?(x=u.jsxs(r("IGDSBox.react"),{border:!0,containerRef:S,height:_,shape:"extraRounded",xstyle:p.container,children:[I,D]}),a[17]=S,a[18]=I,a[19]=D,a[20]=x):x=a[20];var $;return a[21]!==g||a[22]!==L||a[23]!==x?($=u.jsx(r("PolarisFastLink.react"),{href:g,onClick:L,target:"_blank",children:x}),a[21]=g,a[22]=L,a[23]=x,a[24]=$):$=a[24],$}l.default=g}),98);
__d("PolarisAbraIcebreakersHScroll_icebreakers.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisAbraIcebreakersHScroll_icebreakers",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"icebreaker_id",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersHScrollCard_icebreaker"}],type:"XDTAbraPromotionalIcebreakerPrompt",abstractKey:null};a.exports=e}),null);
__d("PolarisAbraIcebreakersHScroll.react",["CometRelay","IGDSBox.react","PolarisAbraIcebreakersHScrollCard.react","PolarisAbraIcebreakersHScroll_icebreakers.graphql","PolarisHScrollContainer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(5),i=t.fragmentKey,l=t.logCardImpression,s=t.logCardPress,c=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAbraIcebreakersHScroll_icebreakers.graphql"),i),d;a[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x1hq5gj4 xw7yly9"},a[0]=d):d=a[0];var m;return a[1]!==c||a[2]!==l||a[3]!==s?(m=u.jsx("div",babelHelpers.extends({},d,{children:u.jsx(r("PolarisHScrollContainer.react"),{children:u.jsx(r("IGDSBox.react"),{columnGap:3,direction:"row",children:c.map(function(e,t){return u.jsx(r("PolarisAbraIcebreakersHScrollCard.react"),{fragmentKey:e,logCardImpression:l,logPress:s,position:t},e.icebreaker_id)})})})})),a[1]=c,a[2]=l,a[3]=s,a[4]=m):m=a[4],m}l.default=c}),98);
__d("usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisAbraIcebreakersNetegoDeliveryLogger_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],type:"XDTAbraIcebreakersInFeedUnit",abstractKey:null};a.exports=e}),null);
__d("useRunCallbackOnce",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(e){var t=s(!1);return function(){t.current||(e(),t.current=!0)}}l.default=u}),98);
__d("usePolarisAbraIcebreakersNetegoDeliveryLogger",["CometRelay","InstagramNetegoDeliveryFalcoEvent","react-compiler-runtime","usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql","useRunCallbackOnce","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(2);r("vulture")("JXJqgyFikFCD4qNrE4RgZSlvSJI=");var i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisAbraIcebreakersNetegoDeliveryLogger_item.graphql"),t),l;a[0]!==i?(l=function(){if(i!=null){var e=i.feed_item_type,t=i.id,n=i.tracking_token,o={id:t,tracking_token:n,type:e};r("InstagramNetegoDeliveryFalcoEvent").logImmediately(function(){return o})}},a[0]=i,a[1]=l):l=a[1];var s=r("useRunCallbackOnce")(l);s()}l.default=s}),98);
__d("usePolarisNetegoFeedUnitImpressionLogger",["InstagramNetegoImpressionFalcoEvent","InstagramNetegoSubImpressionFalcoEvent","PolarisConfig","react","react-compiler-runtime","usePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=6e4,c=new Map;function d(e,t){c.set(e,t)}function m(e){var t=o("react-compiler-runtime").c(10),n=e.format,a=e.gapToPreviousAd,i=e.gapToPreviousNetego,l=e.id,s=e.netegoType,m=e.position,p=e.trackingToken,_=n===void 0?null:n,f;t[0]!==_||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s||t[5]!==m||t[6]!==p?(f=function(t){var e=t.visibleTime;if(!(l==null||s==null)){var n=o("PolarisConfig").getViewerId(),f={format:_,gap_to_last_ad:a!=null?String(a):null,gap_to_last_netego:i!=null?String(i):null,id:l,pk:n,position:String(m),tracking_token:p,type:s},g=f.id+"-"+String(m),h=c.get(g);h==null?(r("InstagramNetegoImpressionFalcoEvent").logImmediately(function(){return babelHelpers.extends({},f,{ig_userid:n})}),d(g,e)):e-h>u&&(r("InstagramNetegoSubImpressionFalcoEvent").logImmediately(function(){return f}),d(g,e))}},t[0]=_,t[1]=a,t[2]=i,t[3]=l,t[4]=s,t[5]=m,t[6]=p,t[7]=f):f=t[7];var g=f,h;return t[8]!==g?(h={onImpressionStart:g},t[8]=g,t[9]=h):h=t[9],r("usePartialViewImpression")(h)}l.default=m}),98);
__d("useQuickPromotionClientLogsFalcoEvent",["react","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("requireDeferred")("QpClientLogsFalcoEvent").__setRef("useQuickPromotionClientLogsFalcoEvent");function c(e,t){var n=s(function(n){var r,o=n.actionType,a=o===void 0?null:o,i=n.candidateID,l=n.cardPosition,s=l===void 0?null:l,c=n.extraLoggingData,d=c===void 0?null:c,m=n.interaction,p=n.predictedScore,_=n.predictedValue;if(e!=null){var f=(r={},r.action_type=a!=null?a:"not_specified",r.ecvr=p.toString(),r.value=_.toString(),r);s!=null&&(f.horizontal_position=s.toString()),d!=null&&(f.extra_data=d),u.onReady(function(n){n.log(function(){return{candidate_id:i,card_metadata:f,interaction:m,qp_id:e,qp_instance_log_data:{qp_id:e},trigger:t}})})}},[e,t]),r=s(function(){e!=null&&u.onReady(function(n){n.log(function(){return{interaction:"secondary_action_click",qp_id:e,qp_instance_log_data:{qp_id:e},trigger:t}})})},[e,t]),o=s(function(n){e!=null&&u.onReady(function(r){r.log(function(){return{interaction:n,qp_id:e,qp_instance_log_data:{qp_id:e},trigger:t}})})},[e,t]);return{log:n,logHscrollEvent:o,logSecondaryAction:r}}l.default=c}),98);
__d("PolarisAbraIcebreakersFeedUnit.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","Image.react","PolarisAbraIcebreakersFeedUnit_icebreakers.graphql","PolarisAbraIcebreakersHScroll.react","PolarisAbraIcebreakersUtils","PolarisFastLink.react","PolarisLogger","PolarisQPConstants","XPolarisProfileControllerRouteBuilder","bx","react","react-compiler-runtime","usePolarisAbraIcebreakersNetegoDeliveryLogger","usePolarisNetegoFeedUnitImpressionLogger","useQuickPromotionClientLogsFalcoEvent"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useMemo,f={bgGradient:{backgroundColor:"xnz67gz",backgroundSize:"x18d0r48",borderTopColor:"x1gbu3ll",borderInlineEndColor:"xddln23",borderBottomColor:"xnzhmsc",borderInlineStartColor:"x723t9i",borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xt8cgyo",borderInlineEndWidth:"x128c8uf",borderBottomWidth:"x1co6499",borderInlineStartWidth:"xc5fred",paddingBottom:"x1120s5i",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,paddingTop:"x1yrsyyn",$$css:!0},cardContainer:{marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,$$css:!0},endOfHScrollLinearGradient:{background:"x1dk70m8",insetInlineEnd:"xtijo5x",left:null,right:null,marginTop:"xn0ockd",opacity:"x1us6l5c",position:"x10l6tqk",$$css:!0}},g=s._(/*BTDS*/"Meta AI \ub85c\uace0"),h=s._(/*BTDS*/"Meta AI"),y=s._(/*BTDS*/"Meta AI\uc758 \uac00\ub2a5\uc131\uc744 \ub458\ub7ec\ubcf4\uc138\uc694"),C="meta.ai";function b(t){var a=o("react-compiler-runtime").c(46),i=t.fragmentKey,l=t.gapToPreviousAd,u=t.gapToPreviousNetego,d=t.index,m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAbraIcebreakersFeedUnit_icebreakers.graphql"),i),_;a[0]===Symbol.for("react.memo_cache_sentinel")?(_=r("XPolarisProfileControllerRouteBuilder").buildUri({username:C}).toString(),a[0]=_):_=a[0];var b=_,v;a[1]!==m.feed_item_type||a[2]!==m.id||a[3]!==m.tracking_token||a[4]!==l||a[5]!==u||a[6]!==d?(v={gapToPreviousAd:l,gapToPreviousNetego:u,id:m.id,netegoType:m.feed_item_type,position:d,trackingToken:m.tracking_token},a[1]=m.feed_item_type,a[2]=m.id,a[3]=m.tracking_token,a[4]=l,a[5]=u,a[6]=d,a[7]=v):v=a[7];var S=r("usePolarisNetegoFeedUnitImpressionLogger")(v);r("usePolarisAbraIcebreakersNetegoDeliveryLogger")(m);var R=m.qp_id,L=r("useQuickPromotionClientLogsFalcoEvent")(R,"ig_feed_timeline"),E;a[8]===Symbol.for("react.memo_cache_sentinel")?(E={},a[8]=E):E=a[8];var k;if(a[9]!==R){var I;k=(I=R==null?void 0:R.toString())!=null?I:"",a[9]=R,a[10]=k}else k=a[10];var T;a[11]!==k?(T={encrypted_instance_log_data:null,instance_log_data:E,nux_id:12885,promotion_id:k},a[11]=k,a[12]=T):T=a[12];var D=T,x,$;a[13]!==D?(x=function(){o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.view,D)},$=[D],a[13]=D,a[14]=x,a[15]=$):(x=a[14],$=a[15]),p(x,$);var P;a[16]!==L||a[17]!==D?(P=function(t,n){L.log({candidateID:t.toString(),cardPosition:n,interaction:"candidate_primary_click",predictedScore:0,predictedValue:0}),o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,babelHelpers.extends({},D,{instance_log_data:{candidateID:t.toString(),cardPosition:n},object_id:"primary"}))},a[16]=L,a[17]=D,a[18]=P):P=a[18];var N=P,M;a[19]!==L?(M=function(t,n){L.log({candidateID:t.toString(),cardPosition:n,interaction:"candidate_impression",predictedScore:0,predictedValue:0})},a[19]=L,a[20]=M):M=a[20];var w=M,A;a[21]!==D?(A=function(){o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,babelHelpers.extends({},D,{object_id:"secondary"}))},a[21]=D,a[22]=A):A=a[22];var F=A,O;a[23]!==D?(O=function(){o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,babelHelpers.extends({},D,{object_id:"secondary"}))},a[23]=D,a[24]=O):O=a[24];var B=O,W;a[25]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(r("Image.react"),{alt:g,height:24,src:r("bx").getURL(r("bx")("30216")),width:24}),a[25]=W):W=a[25];var q;a[26]!==F?(q=c.jsx(r("PolarisFastLink.react"),{href:b,onClick:F,xstyle:f.bgGradient,children:W}),a[26]=F,a[27]=q):q=a[27];var U;a[28]===Symbol.for("react.memo_cache_sentinel")?(U=c.jsxs(r("IGDSBox.react"),{direction:"column",rowGap:2,width:"100%",children:[c.jsxs(r("IGDSBox.react"),{columnGap:1,direction:"row",children:[c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:h}),c.jsx(r("IGDSVerifiedBadge.react"),{})]}),c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{children:y})]}),a[28]=U):U=a[28];var V;a[29]!==q?(V=c.jsxs(r("IGDSBox.react"),{alignItems:"center",columnGap:4,direction:"row",children:[q,U]}),a[29]=q,a[30]=V):V=a[30];var H;a[31]===Symbol.for("react.memo_cache_sentinel")?(H=s._(/*BTDS*/"\uc0ac\uc6a9\ud574\ubcf4\uae30"),a[31]=H):H=a[31];var G;a[32]!==B?(G=c.jsx(r("IGDSButton.react"),{href:o("PolarisAbraIcebreakersUtils").META_AI_URL,label:H,onClick:B,target:"_blank",variant:"primary_link"}),a[32]=B,a[33]=G):G=a[33];var z;a[34]!==V||a[35]!==G?(z=c.jsxs(r("IGDSBox.react"),{direction:"row",justifyContent:"between",children:[V,G]}),a[34]=V,a[35]=G,a[36]=z):z=a[36];var j;a[37]!==m.icebreakers||a[38]!==w||a[39]!==N?(j=c.jsx(r("PolarisAbraIcebreakersHScroll.react"),{fragmentKey:m.icebreakers,logCardImpression:N,logCardPress:w}),a[37]=m.icebreakers,a[38]=w,a[39]=N,a[40]=j):j=a[40];var K;a[41]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx(r("IGDSBox.react"),{height:152,width:40,xstyle:f.endOfHScrollLinearGradient}),a[41]=K):K=a[41];var Q;return a[42]!==S||a[43]!==z||a[44]!==j?(Q=c.jsxs(r("IGDSBox.react"),{containerRef:S,xstyle:f.cardContainer,children:[z,j,K]}),a[42]=S,a[43]=z,a[44]=j,a[45]=Q):Q=a[45],Q}l.default=b}),226);
__d("PolarisAd4AdFeedUnitCTA_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdFeedUnitCTA_data",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qp_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"am_url",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null}})();a.exports=e}),null);
__d("usePolarisAd4AdCTADominantColor",["DateConsts","PolarisAdCTAViewabilityAction","PolarisFeedCardProvider.react","PolarisUA","PolarisViewpointReact.react","react","react-compiler-runtime","useDebounced"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useRef,m=s.useState,p=4,_=8,f="#0095f6";function g(e){var t=o("react-compiler-runtime").c(17),n=e.id,a=e.isImage,i=m(null),l=i[0],s=i[1],g=m(!1),h=g[0],y=g[1],C=d(!1),b=u(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),v=b.isCaptionMoreClicked,S=b.isMediaRendered,R=(o("PolarisUA").isDesktop()?_:p)*o("DateConsts").MS_PER_SEC,L=r("useDebounced")(s,R),E,k;t[0]!==v||t[1]!==a||t[2]!==S||t[3]!==L||t[4]!==h?(E=function(){if(!((S==null||!S)&&a)){if(v)return s(f);if(h){if(L.isPending())return;C.current===!1?(C.current=!0,L(f)):s(f);return}h||(C.current=!1,L.isPending()?L.reset():s(null))}},k=[h,L,S,v,a],t[0]=v,t[1]=a,t[2]=S,t[3]=L,t[4]=h,t[5]=E,t[6]=k):(E=t[5],k=t[6]),c(E,k);var I;t[7]!==h?(I=o("PolarisAdCTAViewabilityAction").makeAdCTAViewabilityAction(h,y),t[7]=h,t[8]=I):I=t[8];var T;t[9]!==I?(T=[I],t[9]=I,t[10]=T):T=t[10];var D;t[11]!==n||t[12]!==T?(D={action:T,id:n},t[11]=n,t[12]=T,t[13]=D):D=t[13];var x=o("PolarisViewpointReact.react").useViewpoint(D),$;return t[14]!==l||t[15]!==x?($={ctaDominantColor:l,ctaFooterViewpointRef:x},t[14]=l,t[15]=x,t[16]=$):$=t[16],$}l.default=g}),98);
__d("PolarisAd4AdFeedUnitCTA.react",["cx","fbt","CometRelay","IGDSChevronIcon.react","IGDSText.react","InstagramNetegoClickFalcoEvent","PolarisAd4AdFeedUnitCTA_data.graphql","PolarisBoostOkDialog.react","PolarisBoostUtils","PolarisConfig","PolarisGenericStrings","PolarisIGCoreButton.react","PolarisLogger","PolarisMediaConstants","PolarisNavigationUtils","PolarisQPConstants","getPolarisPostIdFromNativeId","react","react-compiler-runtime","usePolarisAd4AdCTADominantColor","usePolarisBoostOpenBoostFlow","usePolarisFeedAnalyticsContext","usePolarisIsFeedMobileLayout","uuidv4"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=o("react")),m=c.useState,p=u._(/*BTDS*/"\ud604\uc7ac \uc774 \uac8c\uc2dc\ubb3c\uc744 \ud64d\ubcf4\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");function _(t){var a=o("react-compiler-runtime").c(52),i=t.fragmentKey,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdFeedUnitCTA_data.graphql"),i),s=m(!1),u=s[0],c=s[1],_=l.action_text,f=l.am_url,g=l.destination,h=l.feed_item_type,y=l.id,C=l.media,b=l.qp_id,v=l.tracking_token,S=C==null?void 0:C.id,R;a[0]!==S?(R=r("getPolarisPostIdFromNativeId")(S),a[0]=S,a[1]=R):R=a[1];var L=R,E=(C==null?void 0:C.media_type)===o("PolarisMediaConstants").MediaTypes.IMAGE,k;a[2]!==L||a[3]!==E?(k={id:L,isImage:E},a[2]=L,a[3]=E,a[4]=k):k=a[4];var I=r("usePolarisAd4AdCTADominantColor")(k),T=I.ctaDominantColor,D=I.ctaFooterViewpointRef,x=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),$=T!=null,P=r("usePolarisBoostOpenBoostFlow")(),N=r("usePolarisFeedAnalyticsContext")(),M;a[5]===Symbol.for("react.memo_cache_sentinel")?(M=r("uuidv4")(),a[5]=M):M=a[5];var w=M,A;a[6]===Symbol.for("react.memo_cache_sentinel")?(A=o("PolarisConfig").getViewerId(),a[6]=A):A=a[6];var F=A,O;a[7]!==g||a[8]!==h||a[9]!==y||a[10]!==L||a[11]!==b||a[12]!==v?(O=function(){var e={format:g,id:y,netego_id:y,pk:F,tracking_token:v,type:h};if(r("InstagramNetegoClickFalcoEvent").logImmediately(function(){return e}),b!=null){var t={encrypted_instance_log_data:null,instance_log_data:{destination:g,media_id:L},nux_id:8637,object_id:"primary",promotion_id:b.toString()};o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.click,t)}},a[7]=g,a[8]=h,a[9]=y,a[10]=L,a[11]=b,a[12]=v,a[13]=O):O=a[13];var B=O,W;a[14]!==f||a[15]!==N||a[16]!==g||a[17]!==B||a[18]!==C||a[19]!==P?(W=function(){if(C==null||C.id==null||g==="ADS_MANAGER"&&f==null){c(!0);return}B(),g==="BOOST"&&P({analyticsContext:N,audioSpec:void 0,flowID:w,mediaIDs:[C.id]}),f!=null&&o("PolarisNavigationUtils").openExternalURL(f,"_blank")},a[14]=f,a[15]=N,a[16]=g,a[17]=B,a[18]=C,a[19]=P,a[20]=W):W=a[20];var q=W,U=$?"web-always-white":"ig-primary-text",V;a[21]!==U?(V=d.jsx(r("IGDSChevronIcon.react"),{alt:o("PolarisGenericStrings").RIGHT_CHEVRON,color:U,direction:"next",size:16}),a[21]=U,a[22]=V):V=a[22];var H=V,G=$?"webAlwaysWhite":"primaryText",z;a[23]!==G||a[24]!==_?(z=d.jsx(r("IGDSText.react"),{color:G,size:"body",textAlign:"center",weight:"semibold",children:_}),a[23]=G,a[24]=_,a[25]=z):z=a[25];var j=z,K;a[26]===Symbol.for("react.memo_cache_sentinel")?(K={__className:"_ad63"},a[26]=K):K=a[26];var Q="_aarz _aar_"+($?" _aceq":""),X;a[27]!==T||a[28]!==$?(X=$?{background:T}:null,a[27]=T,a[28]=$,a[29]=X):X=a[29];var Y;a[30]===Symbol.for("react.memo_cache_sentinel")?(Y={className:"x6s0dn4 x78zum5 x1q0g3np x1qughib x7wppnt xexx8yu x1pic42t x18d9i69 x1onr9mi"},a[30]=Y):Y=a[30];var J;a[31]!==j||a[32]!==H?(J=d.jsxs("div",babelHelpers.extends({},Y,{children:[j,H]})),a[31]=j,a[32]=H,a[33]=J):J=a[33];var Z;a[34]!==Q||a[35]!==X||a[36]!==J?(Z=d.jsx("div",{className:Q,style:X,children:J}),a[34]=Q,a[35]=X,a[36]=J,a[37]=Z):Z=a[37];var ee;a[38]!==q||a[39]!==Z?(ee=d.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,dangerouslySetClassName:K,onClick:q,children:Z}),a[38]=q,a[39]=Z,a[40]=ee):ee=a[40];var te=ee,ne;a[41]===Symbol.for("react.memo_cache_sentinel")?(ne=d.jsx(r("PolarisBoostOkDialog.react"),{body:p,onPress:function(){c(!1)},title:o("PolarisBoostUtils").BOOST_UNAVAILABLE_TEXT}),a[41]=ne):ne=a[41];var re=ne,oe;a[42]!==$?(oe={0:{className:"xvbhtw8 x9f619 xt7dq6l xh8yej3"},1:{className:"xvbhtw8 x9f619 xt7dq6l xh8yej3 x1xp8e9x x13fuv20 x178xt8z"}}[!$<<0],a[42]=$,a[43]=oe):oe=a[43];var ae;a[44]!==x?(ae=x&&d.jsx("div",{className:"xh05dso x1q0q8m5 xso031l x9f619 xh8yej3"}),a[44]=x,a[45]=ae):ae=a[45];var ie=u&&re,le;return a[46]!==te||a[47]!==D||a[48]!==oe||a[49]!==ae||a[50]!==ie?(le=d.jsxs("div",babelHelpers.extends({},oe,{ref:D,children:[te,ae,ie]})),a[46]=te,a[47]=D,a[48]=oe,a[49]=ae,a[50]=ie,a[51]=le):le=a[51],le}l.default=_}),226);
__d("PolarisAd4AdFeedUnitHeader_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdFeedUnitHeader_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("PolarisAd4AdFeedUnitHeader.react",["fbt","CometRelay","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSTextVariants.react","PolarisAd4AdFeedUnitHeader_data.graphql","PolarisPostModalContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"\uc635\uc158 \ub354 \ubcf4\uae30"),m="ad4ad";function p(t){var a=o("react-compiler-runtime").c(17),i=t.fragmentKey,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdFeedUnitHeader_data.graphql"),i),s=o("PolarisPostModalContext.react").useSetPostModal(),u=l.body,p=l.title,f;a[0]!==s?(f=function(){s(m)},a[0]=s,a[1]=f):f=a[1];var g=f,h;a[2]!==p?(h=c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:p}),a[2]=p,a[3]=h):h=a[3];var y=h,C;a[4]!==u?(C=c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{children:u}),a[4]=u,a[5]=C):C=a[5];var b=C,v;a[6]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(r("IGDSMoreHorizontalPanoOutlineIcon.react"),{alt:d}),a[6]=v):v=a[6];var S=v,R;a[7]===Symbol.for("react.memo_cache_sentinel")?(R=c.jsx(r("IGDSBox.react"),{xstyle:_.icon,children:S}),a[7]=R):R=a[7];var L;a[8]!==g?(L=c.jsx(r("IGDSIconButton.react"),{onClick:g,xstyle:_.menuButton,children:R}),a[8]=g,a[9]=L):L=a[9];var E=L,k;a[10]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x78zum5 x1q0g3np x1qughib"},a[10]=k):k=a[10];var I;a[11]!==b||a[12]!==y?(I=c.jsxs(r("IGDSBox.react"),{rowGap:2,children:[y,b]}),a[11]=b,a[12]=y,a[13]=I):I=a[13];var T;return a[14]!==E||a[15]!==I?(T=c.jsxs("div",babelHelpers.extends({},k,{children:[I,E]})),a[14]=E,a[15]=I,a[16]=T):T=a[16],T}var _={icon:{alignItems:"x6s0dn4",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},menuButton:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};l.default=p}),226);
__d("PolarisAd4AdFeedUnit_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdFeedUnit_data",selections:[{args:null,kind:"FragmentSpread",name:"PolarisAd4AdFeedUnitHeader_data"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaHeader_data"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreative_data"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdFeedUnitCTA_data"},{args:null,kind:"FragmentSpread",name:"usePolarisAd4AdNetegoDeliveryLogger_item"},e,{alias:null,args:null,kind:"ScalarField",name:"sponsor_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_state_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"qp_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[e,{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaFooter_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostModalContext_media"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null}})();a.exports=e}),null);
__d("PolarisAd4AdMediaCarousel_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCarousel_media",selections:[e,{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreativeImage_media"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreativeVideo_media"}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisAd4AdMediaCreativeImage_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCreativeImage_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPhotoWrapper_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisAd4AdMediaCreativeImage.react",["CometRelay","FBLogger","PolarisAd4AdMediaCreativeImage_media.graphql","PolarisFeedCardProvider.react","PolarisPhoto.react","PolarisPhotoWrapper.next.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext;function p(t){var a,i,l,s=o("react-compiler-runtime").c(15),c=t.mediaFragmentKey,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaCreativeImage_media.graphql"),c),p=d.accessibility_caption,_=d.image_versions2,f=_==null||(a=_.candidates)==null?void 0:a[0].url,g=_==null||(i=_.candidates)==null?void 0:i[0].height,h=_==null||(l=_.candidates)==null?void 0:l[0].width;if(f==null||g==null||h==null)throw r("FBLogger")("ad4ad").mustfixThrow("Cannot render image without media data");var y=m(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),C;s[0]!==y?(C=function(){y.setIsMediaRendered==null||y.setIsMediaRendered(!0)},s[0]=y,s[1]=C):C=s[1];var b=C,v;s[2]!==g||s[3]!==h?(v={height:g,width:h},s[2]=g,s[3]=h,s[4]=v):v=s[4];var S;s[5]!==p||s[6]!==b||s[7]!==f||s[8]!==v?(S={accessibilityCaption:p,dimensions:v,onPhotoRendered:b,src:f},s[5]=p,s[6]=b,s[7]=f,s[8]=v,s[9]=S):S=s[9];var R=S,L;s[10]!==R?(L=u.jsx(r("PolarisPhoto.react"),babelHelpers.extends({},R)),s[10]=R,s[11]=L):L=s[11];var E;return s[12]!==d||s[13]!==L?(E=u.jsx(r("PolarisPhotoWrapper.next.react"),{media$key:d,children:L}),s[12]=d,s[13]=L,s[14]=E):E=s[14],E}l.default=p}),98);
__d("PolarisAd4AdMediaCreativeVideo_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},n=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCreativeVideo_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},t,{alias:null,args:null,kind:"ScalarField",name:"can_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaAttribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boosted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boost_unavailable_identifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boost_unavailable_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"background_color_alpha",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_color",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text_size",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsAppAttribution",kind:"LinkedField",name:"clips_attribution_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTClipsPivotPageHeader",kind:"LinkedField",name:"pivot_page_header",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"content_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_app_name",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_audio",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:n,storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_bitrates",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_codec",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},{alias:null,args:null,concreteType:"XDTCrosspostMetadataDict",kind:"LinkedField",name:"crosspost_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feedback_aggregated",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_seen",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaAttributionData",kind:"LinkedField",name:"media_attributions_data",plural:!0,selections:n,storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"overlay_layout",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"organic_tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_subtitles_confidence",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_subtitles_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_subtitles_uri",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMediaVideoPlayerFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostMediaVideoPlayerWrapper"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisAd4AdMediaCreativeVideo.react",["CometRelay","PolarisAd4AdMediaCreativeVideo_media.graphql","PolarisMediaVideoPlayer.react","PolarisPostContext.react","PolarisPostMediaVideoPlayerWrapper.react","PolarisPostVideoPlayerSurface.react","filterObject","polarisAdsSelectors.react","polarisGetPostFromMediaDict","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a=o("react-compiler-runtime").c(14),i=t.mediaFragmentKey,l=t.trackingToken,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaCreativeVideo_media.graphql"),i),d=s.pk,f=c(o("PolarisPostContext.react").PolarisPostContext),g=f.shouldCapHeight,h=o("polarisAdsSelectors.react").useFeedAdInfo(d,p),y;a[0]!==s||a[1]!==l?(y=_(s,l),a[0]=s,a[1]=l,a[2]=y):y=a[2];var C=y,b;a[3]!==h||a[4]!==C?(b=u.jsx(r("PolarisPostVideoPlayerSurface.react"),{adInfo:h,analyticsContext:"feedPage",autoplay:!0,isVisible:!0,onLoop:m,post:C}),a[3]=h,a[4]=C,a[5]=b):b=a[5];var v;a[6]!==s||a[7]!==b||a[8]!==l?(v=u.jsx(r("PolarisMediaVideoPlayer.react"),{loopCount:-1,queryReference:s,trackingToken:l,children:b}),a[6]=s,a[7]=b,a[8]=l,a[9]=v):v=a[9];var S;return a[10]!==s||a[11]!==g||a[12]!==v?(S=u.jsx(r("PolarisPostMediaVideoPlayerWrapper.react"),{queryReference:s,shouldCapHeight:g,children:v}),a[10]=s,a[11]=g,a[12]=v,a[13]=S):S=a[13],S}function m(){}function p(e){return e}function _(e,t){var n,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L=e.pk,E=L,k={accessibilityCaption:e.accessibility_caption,attribution:(n=e.attribution)==null?void 0:n.name,boostedStatus:e.boosted_status,boostUnavailableIdentifier:e.boost_unavailable_identifier,boostUnavailableReason:e.boost_unavailable_reason,canSeeInsightsAsBrand:(a=e.can_see_insights_as_brand)!=null?a:!1,caption:(i=e.caption)==null?void 0:i.text,captionBackgroundColor:(l=e.caption)==null?void 0:l.background_color,captionBackgroundColorAlpha:(s=e.caption)==null?void 0:s.background_color_alpha,captionCommentId:(u=e.caption)==null?void 0:u.pk,captionCreatedAt:(c=e.caption)==null?void 0:c.created_at,captionHasTranslation:(d=e.caption)==null?void 0:d.has_translation,captionIsEdited:e.caption_is_edited,captionTextColor:(m=e.caption)==null?void 0:m.text_color,captionTextSize:(p=e.caption)==null?void 0:p.text_size,clipsAttributionInfo:e==null?void 0:e.clips_attribution_info,code:(_=e.code)!=null?_:void 0,commentingDisabledForViewer:e.commenting_disabled_for_viewer,commentsDisabled:e.comments_disabled||!1,dashInfo:{is_dash_eligible:e.is_dash_eligible===1,number_of_qualities:e.number_of_qualities,video_dash_manifest:e.video_dash_manifest},expiringAt:e.expiring_at,hasAudio:(f=e.has_audio)!=null?f:!1,hasRankedComments:!0,id:E,isFeedbackAggregated:(g=(h=e.crosspost_metadata)==null?void 0:h.is_feedback_aggregated)!=null?g:void 0,isSeen:e.is_seen===!0,isSponsored:!1,likedByViewer:e.has_liked,mediaOverlayInfo:o("polarisGetPostFromMediaDict").getMediaOverlayInfoFromMediaOverlayPayloadSchema(e.media_overlay_info),mediaPreview:e.preview,numComments:e.comment_count,numLikes:e.like_count,numPreviewLikes:e.like_count,ownerId:(y=e.user)==null?void 0:y.id,postedAt:(C=e.taken_at)!=null?C:void 0,productType:e.product_type,relatedMedia:[],sensitivityFrictionInfo:null,title:e.title,trackingToken:(b=e.organic_tracking_token)!=null?b:t,videoDuration:e.video_duration,videoSubtitlesConfidence:e==null?void 0:e.video_subtitles_confidence,videoSubtitlesEnabled:e==null?void 0:e.video_subtitles_enabled,videoSubtitlesUri:e==null?void 0:e.video_subtitles_uri,videoUrl:(v=e==null||(S=e.video_versions)==null||(S=S[0])==null?void 0:S.url)!=null?v:void 0,videoViews:(R=e.view_count)!=null?R:0};return r("filterObject")(k,function(e){return e!==void 0})}l.default=d}),98);
__d("PolarisAd4AdMediaCarousel.react",["CometRelay","FBLogger","PolarisAd4AdMediaCarousel_media.graphql","PolarisAd4AdMediaCreativeImage.react","PolarisAd4AdMediaCreativeVideo.react","PolarisMediaConstants","PolarisSidecar_DEPRECATED.react","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useCallback,d=.75,m=1,p=1;function _(t){var a,i=o("react-compiler-runtime").c(12),l=t.mediaFragmentKey,s=t.mediaWidthStyleOverride,c=t.trackingToken,_;i[0]===Symbol.for("react.memo_cache_sentinel")?(_=r("qex")._("2314"),i[0]=_):_=i[0];var h=_===!0,y=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaCarousel_media.graphql"),l),C=y.carousel_media;if(C==null)throw r("FBLogger")("ad4ad").mustfixThrow("Cannot render carousel without media items");var b;i[1]!==C||i[2]!==s||i[3]!==c?(b=function(t,n,a){return C==null?void 0:C.map(function(e){var n,i,l=e.media_type===o("PolarisMediaConstants").MediaTypes.IMAGE?u.jsx(r("PolarisAd4AdMediaCreativeImage.react"),{mediaFragmentKey:e}):e.media_type===o("PolarisMediaConstants").MediaTypes.VIDEO?u.jsx(r("PolarisAd4AdMediaCreativeVideo.react"),{mediaFragmentKey:e,trackingToken:c}):null,_=((n=e.original_width)!=null?n:m)/((i=e.original_height)!=null?i:m),f=_<d?_/(a!=null?a:p):m;return h?u.jsx("div",{style:babelHelpers.extends({alignItems:"center",display:"flex",height:"100%",justifyContent:"center"},s!=null?s:{width:t}),children:u.jsx("div",{style:{maxHeight:"100%",maxWidth:"100%",width:f*100+"%"},children:l})},e.id):u.jsx("div",{style:s!=null?s:{width:t},children:l},e.id)})},i[1]=C,i[2]=s,i[3]=c,i[4]=b):b=i[4];var v=b,S;i[5]!==C?(S=C==null?void 0:C.map(g),i[5]=C,i[6]=S):S=i[6];var R=S,L;i[7]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1iyjqo2"},i[7]=L):L=i[7];var E=(a=C==null?void 0:C.length)!=null?a:0,k;i[8]!==R||i[9]!==v||i[10]!==E?(k=u.jsx("div",babelHelpers.extends({},L,{children:u.jsx(o("PolarisSidecar_DEPRECATED.react").Sidecar,{dimensions:R,initialCarouselIndex:0,initialMediaWidthGuess:void 0,numSidecarChildren:E,onChildIndexChange:f,renderAllSidecarChildren:void 0,renderSidecarChildren:v})})),i[8]=R,i[9]=v,i[10]=E,i[11]=k):k=i[11];var I=k;return I}function f(){}function g(e){var t=e.original_height,n=e.original_width;return{height:t!=null?t:0,width:n!=null?n:0}}l.default=_}),98);
__d("PolarisAd4AdMediaCreative_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaCreative_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreativeImage_media"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCarousel_media"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdMediaCreativeVideo_media"}],storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("PolarisAd4AdMediaCreative.react",["CometRelay","PolarisAd4AdMediaCarousel.react","PolarisAd4AdMediaCreativeImage.react","PolarisAd4AdMediaCreativeVideo.react","PolarisAd4AdMediaCreative_data.graphql","PolarisFeedContext.react","PolarisMediaConstants","react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=2;function m(t){var a=o("react-compiler-runtime").c(14),i=t.fragmentKey,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaCreative_data.graphql"),i),s=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),m=c(o("PolarisFeedContext.react").PolarisFeedContext),p=m.feedMediaWidth,_;a[0]!==p||a[1]!==s?(_=p!=null?{width:s?p:"calc("+p+" - "+d+"px)"}:void 0,a[0]=p,a[1]=s,a[2]=_):_=a[2];var f=_,g=l.media,h=l.tracking_token;if(g==null)return null;var y=g.media_type,C;e:switch(y){case o("PolarisMediaConstants").MediaTypes.IMAGE:{var b;a[3]!==g?(b=u.jsx(r("PolarisAd4AdMediaCreativeImage.react"),{mediaFragmentKey:g}),a[3]=g,a[4]=b):b=a[4],C=b;break e}case o("PolarisMediaConstants").MediaTypes.CAROUSEL_V2:{var v;a[5]!==g||a[6]!==h?(v=u.jsx(r("PolarisAd4AdMediaCarousel.react"),{mediaFragmentKey:g,trackingToken:h}),a[5]=g,a[6]=h,a[7]=v):v=a[7],C=v;break e}case o("PolarisMediaConstants").MediaTypes.VIDEO:{var S;a[8]!==g||a[9]!==h?(S=u.jsx(r("PolarisAd4AdMediaCreativeVideo.react"),{mediaFragmentKey:g,trackingToken:h}),a[8]=g,a[9]=h,a[10]=S):S=a[10],C=S;break e}default:C=null}var R;return a[11]!==f||a[12]!==C?(R=u.jsx("div",{style:f,children:C}),a[11]=f,a[12]=C,a[13]=R):R=a[13],R}l.default=m}),98);
__d("PolarisAd4AdMediaFooter_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaFooter_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisAd4AdMediaFooter.react",["CometRelay","IGDSBox.react","IGDSText.react","IGDSVerifiedBadge.react","InstagramODS","PolarisAd4AdMediaFooter_media.graphql","PolarisFeedCardProvider.react","PolarisTruncatedText.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a=o("react-compiler-runtime").c(17),i=t.mediaFragmentKey,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaFooter_media.graphql"),i),s=c(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),d=s.setIsCaptionMoreClicked;if(l==null)return r("InstagramODS").incr("web.ad4ad.feed.media_footer.no_media"),null;var m=l.caption,p=l.user;if(m==null||m.text==null||p==null||p.username==null)return r("InstagramODS").incr("web.ad4ad.feed.media_footer.no_caption_or_user_info"),null;var _;a[0]!==d?(_=function(){d(!0),o("PolarisUA").isMobile()?r("InstagramODS").incr("web.ad4ad.feed.media_footer.mobile_caption_more_click"):r("InstagramODS").incr("web.ad4ad.feed.media_footer.desktop_caption_more_click")},a[0]=d,a[1]=_):_=a[1];var f=_,g=p.username,h=p.is_verified===!0,y;a[2]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5 x1q0g3np"},a[2]=y):y=a[2];var C;a[3]!==g?(C=u.jsx(r("IGDSText.react"),{size:"body",weight:"semibold",zeroMargin:!0,children:g}),a[3]=g,a[4]=C):C=a[4];var b;a[5]!==h?(b=h&&u.jsx(r("IGDSBox.react"),{marginStart:1,children:u.jsx(r("IGDSVerifiedBadge.react"),{size:"small"})}),a[5]=h,a[6]=b):b=a[6];var v;a[7]!==C||a[8]!==b?(v=u.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginEnd:1,children:u.jsxs("div",babelHelpers.extends({},y,{children:[C,b]}))}),a[7]=C,a[8]=b,a[9]=v):v=a[9];var S=v,R=m.text,L=m.pk!=null&&m.show_translation===!0&&m.translated_text!=null?m.translated_text:R,E;a[10]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1rg5ohu x193iq5w"},a[10]=E):E=a[10];var k;a[11]!==L||a[12]!==f?(k=u.jsx(r("PolarisTruncatedText.react"),{display:"inline",headlineTag:"h1",inlineMoreButton:!0,onMoreClick:f,size:"body",value:L}),a[11]=L,a[12]=f,a[13]=k):k=a[13];var I;return a[14]!==k||a[15]!==S?(I=u.jsxs("div",babelHelpers.extends({},E,{children:[S,k]})),a[14]=k,a[15]=S,a[16]=I):I=a[16],I}l.default=d}),98);
__d("PolarisAd4AdMediaHeader_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdMediaHeader_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"sponsor_text",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("PolarisAd4AdMediaHeader.react",["CometRelay","IGDSBox.react","IGDSTextVariants.react","PolarisAd4AdMediaHeader_data.graphql","PolarisIGCoreConstants","PolarisPanavisionQEHelpers","PolarisUA","PolarisUserAvatar.react","react","react-compiler-runtime","usePolarisIsOnAdsActivityPage","usePolarisIsOnFeedPage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react"));function c(t){var a,i,l,s,c=o("react-compiler-runtime").c(29),m=t.fragmentKey,p=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdMediaHeader_data.graphql"),m),_=r("usePolarisIsOnFeedPage")(),f=r("usePolarisIsOnAdsActivityPage")(),g;c[0]!==f||c[1]!==_?(g=(_||f)&&o("PolarisUA").isDesktop(),c[0]=f,c[1]=_,c[2]=g):g=c[2];var h=g,y;c[3]!==p?(y=p!=null?p:{},c[3]=p,c[4]=y):y=c[4];var C=y,b=C.media,v=C.sponsor_text,S=(a=b==null||(i=b.user)==null?void 0:i.username)!=null?a:"",R=(l=b==null||(s=b.user)==null?void 0:s.profile_pic_url)!=null?l:"",L;c[5]!==R||c[6]!==S?(L=u.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:R,size:r("PolarisIGCoreConstants").AVATAR_SIZES.small,username:S}),c[5]=R,c[6]=S,c[7]=L):L=c[7];var E=L,k;c[8]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x972fbf x10w94by x1qhh985 x14e42zd x5n08af x1rg5ohu xln7xf2 xk390pu xdj266r x14z9mp xat24cr x1lziwak x193iq5w x1nn3v0j x14vy60q x1120s5i xyiysdx x11njtxf"},c[8]=k):k=c[8];var I;c[9]!==S?(I=u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:"secondaryText",zeroMargin:!0,children:u.jsx("span",babelHelpers.extends({},k,{children:S}))}),c[9]=S,c[10]=I):I=c[10];var T=I,D;c[11]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x5n08af x1fhwpqd x132q4wb"},c[11]=D):D=c[11];var x;c[12]!==v?(x=u.jsx("span",babelHelpers.extends({},D,{children:v})),c[12]=v,c[13]=x):x=c[13];var $=x,P;c[14]!==h?(P=h&&!o("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()&&d.avatar,c[14]=h,c[15]=P):P=c[15];var N;c[16]!==E||c[17]!==P?(N=u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:P,children:E}),c[16]=E,c[17]=P,c[18]=N):N=c[18];var M;c[19]!==T?(M=u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:d.text,children:T}),c[19]=T,c[20]=M):M=c[20];var w;c[21]!==$?(w=u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",xstyle:d.text,children:$}),c[21]=$,c[22]=w):w=c[22];var A;c[23]!==M||c[24]!==w?(A=u.jsxs(r("IGDSBox.react"),{direction:"column",justifyContent:"center",position:"relative",children:[M,w]}),c[23]=M,c[24]=w,c[25]=A):A=c[25];var F;return c[26]!==A||c[27]!==N?(F=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",children:[N,A]}),c[26]=A,c[27]=N,c[28]=F):F=c[28],F}var d={avatar:{paddingInlineEnd:"x14vy60q",paddingInlineStart:"xyiysdx",$$css:!0},text:{marginInlineStart:"xdwrcjd",$$css:!0}};l.default=c}),98);
__d("usePolarisAd4AdNetegoDeliveryLogger_item.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisAd4AdNetegoDeliveryLogger_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("usePolarisAd4AdNetegoDeliveryLogger",["CometRelay","InstagramNetegoDeliveryFalcoEvent","PolarisConfig","react-compiler-runtime","usePolarisAd4AdNetegoDeliveryLogger_item.graphql","useRunCallbackOnce"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(3),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisAd4AdNetegoDeliveryLogger_item.graphql"),t),l;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=o("PolarisConfig").getViewerId(),a[0]=l):l=a[0];var s=l,u;a[1]!==i?(u=function(){if(i!=null){var e=i.destination,t=i.feed_item_type,n=i.id,o=i.tracking_token,a={format:e,id:n,netego_id:n,pk:s,tracking_token:o,type:t};r("InstagramNetegoDeliveryFalcoEvent").logImmediately(function(){return a})}},a[1]=i,a[2]=u):u=a[2];var c=r("useRunCallbackOnce")(u);c()}l.default=s}),98);
__d("PolarisAd4AdFeedUnit.react",["CometErrorBoundary.react","CometRelay","FBLogger","IGDSBox.react","InstagramNetegoInvalidationFalcoEvent","PolarisAd4AdFeedUnitCTA.react","PolarisAd4AdFeedUnitHeader.react","PolarisAd4AdFeedUnit_data.graphql","PolarisAd4AdMediaCreative.react","PolarisAd4AdMediaFooter.react","PolarisAd4AdMediaHeader.react","PolarisConfig","PolarisFeedCardProvider.react","PolarisLogger","PolarisPostModalContext.next.react","PolarisQPConstants","getPolarisPostIdFromNativeId","react","react-compiler-runtime","stylex","usePolarisAd4AdNetegoDeliveryLogger","usePolarisIsFeedMobileLayout","usePolarisNetegoFeedUnitImpressionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect;function _(t){var a=o("react-compiler-runtime").c(26),i=t.fragmentKey,l=t.gapToPreviousAd,s=t.gapToPreviousNetego,u=t.position,d=t.xstyle,m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdFeedUnit_data.graphql"),i),_=m.destination,g=m.feed_item_type,h=m.id,y=m.media,C=m.qp_id,b=m.tracking_token;r("usePolarisAd4AdNetegoDeliveryLogger")(m);var v;a[0]!==_||a[1]!==g||a[2]!==l||a[3]!==s||a[4]!==h||a[5]!==u||a[6]!==b?(v={format:_,gapToPreviousAd:l,gapToPreviousNetego:s,id:h,netegoType:g,position:u,trackingToken:b},a[0]=_,a[1]=g,a[2]=l,a[3]=s,a[4]=h,a[5]=u,a[6]=b,a[7]=v):v=a[7];var S=r("usePolarisNetegoFeedUnitImpressionLogger")(v),R=y==null?void 0:y.id,L;a[8]!==R?(L=r("getPolarisPostIdFromNativeId")(R),a[8]=R,a[9]=L):L=a[9];var E=L,k,I;a[10]!==_||a[11]!==E||a[12]!==C?(k=function(){if(C!=null&&E!==""){var e={encrypted_instance_log_data:null,instance_log_data:{destination:_,media_id:E},nux_id:8637,promotion_id:C.toString()};o("PolarisLogger").logQuickPromotionEvent(o("PolarisQPConstants").LOG_EVENTS.view,e)}},I=[C,E,_],a[10]=_,a[11]=E,a[12]=C,a[13]=k,a[14]=I):(k=a[13],I=a[14]),p(k,I);var T;a[15]!==g||a[16]!==h||a[17]!==b?(T=function(){if(b!=null){var e=o("PolarisConfig").getViewerId(),t={id:h,netego_id:h,pk:e,tracking_token:b,type:g};r("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return t})}},a[15]=g,a[16]=h,a[17]=b,a[18]=T):T=a[18];var D=T,x;a[19]!==m||a[20]!==S||a[21]!==d?(x=c.jsx(f,{data:m,impressionRef:S,xstyle:d}),a[19]=m,a[20]=S,a[21]=d,a[22]=x):x=a[22];var $;return a[23]!==D||a[24]!==x?($=c.jsx(r("CometErrorBoundary.react"),{onError:D,children:x}),a[23]=D,a[24]=x,a[25]=$):$=a[25],$}function f(e){var t=o("react-compiler-runtime").c(46),n=e.data,a=e.impressionRef,i=e.xstyle,l=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),u=n.media;if(u==null)throw r("FBLogger")("ad4ad").mustfixThrow("Failed to get media for ad4ad unit");var d;t[0]!==i?(d=(s||(s=r("stylex"))).props(i),t[0]=i,t[1]=d):d=t[1];var m;t[2]!==l?(m={0:{},1:{className:"xf7dkkf xv54qhq xyinxu5"}}[!!l<<0],t[2]=l,t[3]=m):m=t[3];var p;t[4]!==n?(p=c.jsx(r("PolarisAd4AdFeedUnitHeader.react"),{fragmentKey:n}),t[4]=n,t[5]=p):p=t[5];var _;t[6]!==m||t[7]!==p?(_=c.jsx("div",babelHelpers.extends({},m,{children:p})),t[6]=m,t[7]=p,t[8]=_):_=t[8];var f;t[9]!==l?(f={0:{},1:{className:"xf7dkkf xv54qhq"}}[!!l<<0],t[9]=l,t[10]=f):f=t[10];var g;t[11]!==n?(g=c.jsx(r("PolarisAd4AdMediaHeader.react"),{fragmentKey:n}),t[11]=n,t[12]=g):g=t[12];var h;t[13]!==f||t[14]!==g?(h=c.jsx("div",babelHelpers.extends({},f,{children:g})),t[13]=f,t[14]=g,t[15]=h):h=t[15];var y;t[16]!==l?(y={0:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6"},1:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x6ikm8r x10wlt62 x1n2onr6 x5ur3kl x6usi7g x1bs97v6 x18dxpii xjwep3j x1t39747 x1wcsgtt x1pczhz8 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4"}}[!l<<0],t[16]=l,t[17]=y):y=t[17];var C,b;t[18]!==n?(b=c.jsx(r("PolarisAd4AdMediaCreative.react"),{fragmentKey:n}),C=c.jsx(r("PolarisAd4AdFeedUnitCTA.react"),{fragmentKey:n}),t[18]=n,t[19]=C,t[20]=b):(C=t[19],b=t[20]);var v;t[21]!==C||t[22]!==y||t[23]!==b?(v=c.jsxs("div",babelHelpers.extends({},y,{children:[b,C]})),t[21]=C,t[22]=y,t[23]=b,t[24]=v):v=t[24];var S;t[25]!==v||t[26]!==h?(S=c.jsxs(r("IGDSBox.react"),{rowGap:2,children:[h,v]}),t[25]=v,t[26]=h,t[27]=S):S=t[27];var R;t[28]!==l?(R={0:{},1:{className:"xf7dkkf xv54qhq"}}[!!l<<0],t[28]=l,t[29]=R):R=t[29];var L;t[30]!==u?(L=c.jsx(r("PolarisAd4AdMediaFooter.react"),{mediaFragmentKey:u}),t[30]=u,t[31]=L):L=t[31];var E;t[32]!==R||t[33]!==L?(E=c.jsx("div",babelHelpers.extends({},R,{children:L})),t[32]=R,t[33]=L,t[34]=E):E=t[34];var k;t[35]!==S||t[36]!==E||t[37]!==_?(k=c.jsx(o("PolarisFeedCardProvider.react").PolarisFeedCardProvider,{children:c.jsxs(r("IGDSBox.react"),{direction:"column",rowGap:3,children:[_,S,E]})}),t[35]=S,t[36]=E,t[37]=_,t[38]=k):k=t[38];var I;t[39]!==u||t[40]!==k?(I=c.jsx(r("PolarisPostModalContext.next.react"),{queryReference:u,children:k}),t[39]=u,t[40]=k,t[41]=I):I=t[41];var T;return t[42]!==a||t[43]!==d||t[44]!==I?(T=c.jsx("div",babelHelpers.extends({},d,{ref:a,children:I})),t[42]=a,t[43]=d,t[44]=I,t[45]=T):T=t[45],T}l.default=_}),98);
__d("PolarisAd4AdHiddenUnit_data.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisAd4AdHiddenUnit_data",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisAd4AdNetegoHideLogger_item"}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("usePolarisAd4AdNetegoHideLogger_item.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisAd4AdNetegoHideLogger_item",selections:[{alias:null,args:null,kind:"ScalarField",name:"feed_item_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination",storageKey:null}],type:"XDTAd4AdInWebFeedUnit",abstractKey:null};a.exports=e}),null);
__d("usePolarisAd4AdNetegoHideLogger",["CometRelay","InstagramNetegoHideFalcoEvent","PolarisConfig","react-compiler-runtime","usePolarisAd4AdNetegoHideLogger_item.graphql","useRunCallbackOnce"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(3),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisAd4AdNetegoHideLogger_item.graphql"),t),l;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=o("PolarisConfig").getViewerId(),a[0]=l):l=a[0];var s=l,u;a[1]!==i?(u=function(){if(i!=null){var e=i.destination,t=i.feed_item_type,n=i.id,o=i.tracking_token,a={format:e,id:n,netego_id:n!=null?n:"",pk:s,tracking_token:o,type:t};r("InstagramNetegoHideFalcoEvent").logImmediately(function(){return a})}},a[1]=i,a[2]=u):u=a[2];var c=r("useRunCallbackOnce")(u);c()}l.default=s}),98);
__d("PolarisAd4AdHiddenUnit.react",["fbt","CometPressable.react","CometRelay","IGDSBox.react","IGDSDivider.react","IGDSSpinner.react","IGDSTextVariants.react","InstagramODS","PolarisAd4AdHiddenUnit_data.graphql","PolarisGenericStrings","PolarisUA","react","react-compiler-runtime","usePolarisAd4AdNetegoHideLogger","usePolarisHidePost"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useState,_=s._(/*BTDS*/"\uac8c\uc2dc\ubb3c \uc228\uae40"),f=s._(/*BTDS*/"\uc55e\uc73c\ub85c \uc774\uc640 \ube44\uc2b7\ud55c \uac8c\uc2dc\ubb3c\uc774 \ub354 \uc801\uac8c \ucd94\ucc9c\ub429\ub2c8\ub2e4.");function g(t){var a=o("react-compiler-runtime").c(14),i=t.fragmentKey,l=t.postId,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisAd4AdHiddenUnit_data.graphql"),i);r("usePolarisAd4AdNetegoHideLogger")(s);var u;a[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],a[0]=u):u=a[0],m(h,u);var d=p(!1),g=d[0],b=d[1],v;a[1]!==l?(v={inventorySource:"mixed_unconnected",postId:l},a[1]=l,a[2]=v):v=a[2];var S=o("usePolarisHidePost").usePolarisUnhidePost(v),R;a[3]!==S?(R=function(){r("InstagramODS").incr("web.ad4ad.feed.hidden_unit.post_controls.undo_click"),b(!0),S()},a[3]=S,a[4]=R):R=a[4];var L=R,E;a[5]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx(r("IGDSBox.react"),{marginBottom:4,xstyle:C.confirmationTitle,children:c.jsx(o("IGDSTextVariants.react").IGDSTextLabelEmphasized,{color:"primaryText",textAlign:"center",children:_})}),a[5]=E):E=a[5];var k=E,I;a[6]===Symbol.for("react.memo_cache_sentinel")?(I=c.jsx(r("IGDSBox.react"),{marginBottom:6,xstyle:C.confirmationBody,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:f})}),a[6]=I):I=a[6];var T=I,D;a[7]!==L||a[8]!==g?(D=c.jsx(y,{color:"primaryButton",loading:g,onClick:L,title:o("PolarisGenericStrings").UNDO_TEXT}),a[7]=L,a[8]=g,a[9]=D):D=a[9];var x=D,$,P;a[10]===Symbol.for("react.memo_cache_sentinel")?($={0:{className:"x6s0dn4 xnz67gz xl56j7k xh8yej3"},1:{className:"x6s0dn4 xl56j7k xh8yej3 xvbhtw8 x5ur3kl x6usi7g x1bs97v6 x18dxpii x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xod5an3"}}[!!o("PolarisUA").isDesktop()<<0],P=c.jsxs(r("IGDSBox.react"),{marginTop:6,children:[k,T]}),a[10]=$,a[11]=P):($=a[10],P=a[11]);var N;return a[12]!==x?(N=c.jsxs("div",babelHelpers.extends({},$,{children:[P,x]})),a[12]=x,a[13]=N):N=a[13],N}function h(){r("InstagramODS").incr("web.ad4ad.feed.hidden_unit.show")}function y(e){var t=o("react-compiler-runtime").c(8),n=e.color,a=e.loading,i=e.onClick,l=e.title,s=a===void 0?!1:a,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("IGDSDivider.react"),{}),t[0]=u):u=t[0];var d;t[1]!==n||t[2]!==s||t[3]!==l?(d=c.jsx(r("IGDSBox.react"),{xstyle:C.option,children:s?c.jsx(r("IGDSSpinner.react"),{size:"small"}):c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:n,children:l})}),t[1]=n,t[2]=s,t[3]=l,t[4]=d):d=t[4];var m;return t[5]!==i||t[6]!==d?(m=c.jsxs(c.Fragment,{children:[u,c.jsx(r("CometPressable.react"),{expanding:!0,onPress:i,overlayDisabled:!0,children:d})]}),t[5]=i,t[6]=d,t[7]=m):m=t[7],m}var C={confirmationBody:{alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},confirmationTitle:{alignItems:"x6s0dn4",justifyContent:"xl56j7k",$$css:!0},option:{alignItems:"x6s0dn4",justifyContent:"xl56j7k",minHeight:"x1ba4aug",width:"xh8yej3",$$css:!0}};l.default=g}),226);
__d("PolarisBloksNetegoFeedUnit.react",["CometErrorBoundary.react","IGWebBloksApp","InstagramNetegoInvalidationFalcoEvent","react","react-compiler-runtime","stylex","useJSON","usePolarisNetegoFeedUnitImpressionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useMemo;function p(e){var t=o("react-compiler-runtime").c(16),n=e.gapToPreviousAd,a=e.gapToPreviousNetego,i=e.id,l=e.netegoType,s=e.payload,c=e.position,d=e.trackingToken,m=e.xstyle,p;t[0]!==i||t[1]!==l||t[2]!==d?(p=function(){d!=null&&r("InstagramNetegoInvalidationFalcoEvent").logImmediately(function(){return{id:i,tracking_token:d,type:l}})},t[0]=i,t[1]=l,t[2]=d,t[3]=p):p=t[3];var f=p,g;t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==c||t[10]!==d||t[11]!==m?(g=u.jsx(_,{gapToPreviousAd:n,gapToPreviousNetego:a,id:i,netegoType:l,payload:s,position:c,trackingToken:d,xstyle:m}),t[4]=n,t[5]=a,t[6]=i,t[7]=l,t[8]=s,t[9]=c,t[10]=d,t[11]=m,t[12]=g):g=t[12];var h;return t[13]!==f||t[14]!==g?(h=u.jsx(r("CometErrorBoundary.react"),{onError:f,children:g}),t[13]=f,t[14]=g,t[15]=h):h=t[15],h}function _(t){var n=o("react-compiler-runtime").c(17),a=t.gapToPreviousAd,i=t.gapToPreviousNetego,l=t.id,s=t.netegoType,c=t.payload,d=t.position,m=t.trackingToken,p=t.xstyle,_;n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s||n[4]!==d||n[5]!==m?(_={gapToPreviousAd:a,gapToPreviousNetego:i,id:l,netegoType:s,position:d,trackingToken:m},n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=d,n[5]=m,n[6]=_):_=n[6];var f=r("usePolarisNetegoFeedUnitImpressionLogger")(_),g=r("useJSON")(c!=null?c:"{}"),h;n[7]!==g?(h={layout:{bloks_payload:g}},n[7]=g,n[8]=h):h=n[8];var y=h,C;n[9]!==p?(C=(e||(e=r("stylex"))).props(p),n[9]=p,n[10]=C):C=n[10];var b;n[11]!==y?(b=u.jsx(r("IGWebBloksApp"),{payload:y}),n[11]=y,n[12]=b):b=n[12];var v;return n[13]!==f||n[14]!==C||n[15]!==b?(v=u.jsx("div",babelHelpers.extends({},C,{ref:f,children:b})),n[13]=f,n[14]=C,n[15]=b,n[16]=v):v=n[16],v}l.default=p}),98);
__d("PolarisBloksNetegoFeedUnitDeferred.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferredForDisplay")("PolarisBloksNetegoFeedUnit.react").__setRef("PolarisBloksNetegoFeedUnitDeferred.react"));l.default=e}),98);
__d("PolarisEndOfFeedDemarcator.react",["CometImage.react","IGDSBox.react","IGDSTextVariants.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(19),n=e.button,a=e.className,i=e.subheader,l=e.subtitle,u=e.title,c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=o("PolarisUA").isMobile()?{marginBottom:0}:{},d={className:"x6s0dn4 xjbqb8w x9f619 x78zum5 xdt5ytf x1miatn0 xpdmqnj x1gan7if x1g0dm76 xh8yej3"},t[0]=c,t[1]=d):(c=t[0],d=t[1]);var m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(r("IGDSBox.react"),{marginBottom:6,width:56,children:s.jsx(r("CometImage.react"),{src:"/images/instagram/xig/web/illo-confirm-refresh-light.png"})}),t[2]=m):m=t[2];var p;t[3]!==u?(p=s.jsx(r("IGDSBox.react"),{marginBottom:2,children:s.jsx(o("IGDSTextVariants.react").IGDSTextLabelEmphasized,{textAlign:"center",zeroMargin:!0,children:u})}),t[3]=u,t[4]=p):p=t[4];var _;t[5]!==l?(_=s.jsx(r("IGDSBox.react"),{marginBottom:2,children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{textAlign:"center",zeroMargin:!0,children:l})}),t[5]=l,t[6]=_):_=t[6];var f;t[7]!==n?(f=s.jsx(r("IGDSBox.react"),{marginTop:4,paddingX:5,width:"100%",children:n}),t[7]=n,t[8]=f):f=t[8];var g;t[9]!==p||t[10]!==_||t[11]!==f?(g=s.jsxs("div",babelHelpers.extends({},d,{children:[m,p,_,f]})),t[9]=p,t[10]=_,t[11]=f,t[12]=g):g=t[12];var h;t[13]!==a||t[14]!==g?(h=s.jsx("div",{className:a,style:c,children:g}),t[13]=a,t[14]=g,t[15]=h):h=t[15];var y;return t[16]!==i||t[17]!==h?(y=s.jsxs("div",{children:[h,i]}),t[16]=i,t[17]=h,t[18]=y):y=t[18],y}l.default=u}),98);
__d("PolarisCASB976EndOfFeedDemarcator.react",["fbt","IGDSButton.react","PolarisEndOfFeedDemarcator.react","XPolarisCASB976Phase2DayOfDialogControllerRouteBuilder","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.className,a=e.subtitle,i=e.title,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("IGDSButton.react"),{fullWidth:!0,href:r("XPolarisCASB976Phase2DayOfDialogControllerRouteBuilder").buildURL({}),label:s._(/*BTDS*/"\ubd80\ubaa8\ub2d8\uc5d0\uac8c \uc694\uccad\ud558\uae30"),size:"large"}),t[0]=l):l=t[0];var c;return t[1]!==n||t[2]!==a||t[3]!==i?(c=u.jsx(r("PolarisEndOfFeedDemarcator.react"),{button:l,className:n,subtitle:a,title:i}),t[1]=n,t[2]=a,t[3]=i,t[4]=c):c=t[4],c}l.default=c}),226);
__d("PolarisDirectIconRebrandNux.react",["JSResourceForInteraction","PolarisDismissEntry","gkx","justknobx","react","react-compiler-runtime","useIGDSLazyDialog","useSimplifiedDesktopNUX"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(5),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PolarisDirectIconRebrandDialog.react").__setRef("PolarisDirectIconRebrandNux.react"),e[0]=t):t=e[0];var n=r("useIGDSLazyDialog")(t),a=n[0],i=r("useSimplifiedDesktopNUX")(),l=r("gkx")("12998"),u,c;return e[1]!==i||e[2]!==a?(u=function(){r("justknobx")._("5068")===!0&&!o("PolarisDismissEntry").isDismissed(o("PolarisDismissEntry").IG_DIRECT_ICON_REBRAND_NUX_TYPE)&&!i&&l&&a({})},c=[a,i,l],e[1]=i,e[2]=a,e[3]=u,e[4]=c):(u=e[3],c=e[4]),s(u,c),null}l.default=u}),98);
__d("PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisEndOfFeedDemarcatorContainerFragment_demarcator",selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},{alias:null,args:null,concreteType:"XDTGroupSet",kind:"LinkedField",name:"group_set",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],type:"XDTEndOfFeedDemarcator",abstractKey:null};a.exports=e}),null);
__d("PolarisGenericEndOfFeedDemarcator.react",["fbt","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisEndOfFeedDemarcator.react","PolarisFeedHeader.react","PolarisUA","XPolarisFeedControllerRouteBuilder","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"\ucd94\ucc9c \uac8c\uc2dc\ubb3c");function d(e){var t=o("react-compiler-runtime").c(8),n=e.className,a=e.showPastPostsLink,i=e.subtitle,l=e.title,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("PolarisUA").isMobile()?u.jsx("div",{className:"x7a106z xvbhtw8 x9f619 xh8yej3 x1bs97v6 x1q0q8m5 xso031l",children:u.jsx(r("IGDSBox.react"),{paddingX:4,paddingY:3,children:u.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:c})})}):u.jsx(r("IGDSBox.react"),{marginBottom:4,position:"relative",children:u.jsx(r("PolarisFeedHeader.react"),{hasBackButton:!1,text:c})}),t[0]=d):d=t[0];var m=d,p;t[1]!==a?(p=a?u.jsx(r("IGDSButton.react"),{href:r("XPolarisFeedControllerRouteBuilder").buildURL({variant:"past_posts"}),label:s._(/*BTDS*/"\uc774\uc804 \uac8c\uc2dc\ubb3c \ubcf4\uae30"),variant:"primary_link"}):null,t[1]=a,t[2]=p):p=t[2];var _=p,f;return t[3]!==n||t[4]!==_||t[5]!==i||t[6]!==l?(f=u.jsx(r("PolarisEndOfFeedDemarcator.react"),{button:_,className:n,subheader:m,subtitle:i,title:l}),t[3]=n,t[4]=_,t[5]=i,t[6]=l,t[7]=f):f=t[7],f}l.default=d}),226);
__d("PolarisEndOfFeedDemarcatorContainer.react",["CometRelay","PolarisCASB976EndOfFeedDemarcator.react","PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql","PolarisGenericEndOfFeedDemarcator.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="ca_sb_976";function d(t){var a=o("react-compiler-runtime").c(9),i=t.className,l=t.queryRef,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisEndOfFeedDemarcatorContainerFragment_demarcator.graphql"),l),d=s.group_set,m=s.style,p=s.subtitle,_=s.title,f;a[0]!==i||a[1]!==p||a[2]!==_?(f={className:i,subtitle:p,title:_},a[0]=i,a[1]=p,a[2]=_,a[3]=f):f=a[3];var g=f;if(m===c){var h;return a[4]!==g?(h=u.jsx(r("PolarisCASB976EndOfFeedDemarcator.react"),babelHelpers.extends({},g)),a[4]=g,a[5]=h):h=a[5],h}var y=d!=null,C;return a[6]!==g||a[7]!==y?(C=u.jsx(r("PolarisGenericEndOfFeedDemarcator.react"),babelHelpers.extends({},g,{showPastPostsLink:y})),a[6]=g,a[7]=y,a[8]=C):C=a[8],C}l.default=d}),98);
__d("PolarisFeedCardComments_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardComments_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"comments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostPreviewCommentsFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastViewAllComments_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisFeedCardComment_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardComment_comment",selections:[{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"}],type:"XDTCommentDict",abstractKey:null};a.exports=e}),null);
__d("PolarisFeedCardComment.next.react",["CometRelay","IGDSBox.react","PolarisCommentLikeButton.next.react","PolarisFeedCardComment_comment.graphql","PolarisPostCommentContent.next.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(11),i=t.mediaCode,l=t.queryReference,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedCardComment_comment.graphql"),l),c;a[0]!==s||a[1]!==i?(c=u.jsx(r("PolarisPostCommentContent.next.react"),{comment:s,isInlineComment:!0,mediaCode:i,showRestrictedContent:!1}),a[0]=s,a[1]=i,a[2]=c):c=a[2];var d=c,m;a[3]!==d?(m=u.jsx(r("IGDSBox.react"),{display:"block",flex:"grow",marginEnd:1,wrap:!0,children:d}),a[3]=d,a[4]=m):m=a[4];var p;a[5]===Symbol.for("react.memo_cache_sentinel")?(p={className:"xbelrpt"},a[5]=p):p=a[5];var _;a[6]!==s?(_=u.jsx("div",babelHelpers.extends({},p,{children:u.jsx(r("PolarisCommentLikeButton.next.react"),{color:"ig-secondary-text",queryReference:s,size:13})})),a[6]=s,a[7]=_):_=a[7];var f;return a[8]!==m||a[9]!==_?(f=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",marginBottom:1,width:"100%",children:[m,_]}),a[8]=m,a[9]=_,a[10]=f):f=a[10],f}l.default=c}),98);
__d("PolarisPostPreviewCommentsFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostPreviewCommentsFragment_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"comments",plural:!0,selections:[e,{args:null,kind:"FragmentSpread",name:"PolarisPostComment_comment"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardComment_comment"}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostPreviewComments.next.react",["CometRelay","PolarisFeedCardComment.next.react","PolarisPostComment.next.react","PolarisPostPreviewCommentsFragment_media.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(15),i=t.numberToShow,l=t.onFeedCard,s=t.queryReference,c=l===void 0?!1:l,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostPreviewCommentsFragment_media.graphql"),s),m,p;if(a[0]!==d.code||a[1]!==d.comments||a[2]!==d.pk||a[3]!==d.user||a[4]!==i||a[5]!==c){p=Symbol.for("react.early_return_sentinel");e:{var _,f,g=(_=(f=d.comments)==null?void 0:f.slice(0))!=null?_:[],h=g.length,y=i!=null&&h>0?g.slice(Math.max(0,h-i),h):g.reverse();if(h===0){p=null;break e}var C;a[8]!==d.code||a[9]!==d.pk||a[10]!==d.user||a[11]!==c?(C=function(t){return c===!0?u.jsx(r("PolarisFeedCardComment.next.react"),{mediaCode:d.code,queryReference:t},t.pk):u.jsx(r("PolarisPostComment.next.react"),{mediaCode:d.code,mediaId:d.pk,mediaOwnerId:d.user.pk,queryReference:t},t.pk)},a[8]=d.code,a[9]=d.pk,a[10]=d.user,a[11]=c,a[12]=C):C=a[12],m=y.map(C)}a[0]=d.code,a[1]=d.comments,a[2]=d.pk,a[3]=d.user,a[4]=i,a[5]=c,a[6]=m,a[7]=p}else m=a[6],p=a[7];if(p!==Symbol.for("react.early_return_sentinel"))return p;var b;return a[13]!==m?(b=u.jsx("ul",{children:m}),a[13]=m,a[14]=b):b=a[14],b}l.default=c}),98);
__d("PolarisFeedCardComments.next.react",["CometRelay","IGDSBox.react","PolarisFeedCardComments_media.graphql","PolarisPostFastViewAllComments.next.react","PolarisPostPreviewComments.next.react","react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=3;function d(t){var a=o("react-compiler-runtime").c(14),i=t.mediaFragmentKey,l=t.onClick,s=t.onMouseEnter,d=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedCardComments_media.graphql"),i),p=m.comment_count,_=p!=null&&p>0;if(_===!1)return null;var f;if(a[0]!==m.comments){var g;f=(g=m.comments)!=null?g:[],a[0]=m.comments,a[1]=f}else f=a[1];var h=f.length,y=d?1:2,C;a[2]!==m||a[3]!==p||a[4]!==l||a[5]!==s||a[6]!==h?(C=p!=null&&h<p&&u.jsx(r("IGDSBox.react"),{alignItems:"start",marginBottom:h>0?2:0,children:u.jsx(r("PolarisPostFastViewAllComments.next.react"),{fragmentKey:m,onClick:l,onMouseEnter:s})}),a[2]=m,a[3]=p,a[4]=l,a[5]=s,a[6]=h,a[7]=C):C=a[7];var b;a[8]!==m?(b=u.jsx(r("PolarisPostPreviewComments.next.react"),{numberToShow:c,onFeedCard:!0,queryReference:m}),a[8]=m,a[9]=b):b=a[9];var v;return a[10]!==y||a[11]!==C||a[12]!==b?(v=u.jsxs(r("IGDSBox.react"),{marginTop:y,children:[C,b]}),a[10]=y,a[11]=C,a[12]=b,a[13]=v):v=a[13],v}l.default=d}),98);
__d("PolarisFeedCardDetailsSectionCommentInput_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSectionCommentInput_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"THROW"},e,{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commenting_disabled_for_viewer",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostCommentInputPlaceholder.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x1qjc9v5 x972fbf x10w94by x1qhh985 x14e42zd x9f619 x78zum5 xdt5ytf x2lah0s xk390pu x1d6elog x14z9mp xat24cr x1lziwak x1xmf6yo xexx8yu xyri2b x18d9i69 x1c1uobl x1n2onr6 x11njtxf"}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("PolarisFeedCardDetailsSectionCommentInput.react",["CometPlaceholder.react","CometRelay","IGDSBox.react","IGDSText.react","PolarisFeedCardDetailsSectionCommentInput_media.graphql","PolarisGenericStrings","PolarisMediaConstants","PolarisPostCommentInputPlaceholder.react","deferredLoadComponent","polarisAdsSelectors.react","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("PolarisFeedCommentInputRevamped.react").__setRef("PolarisFeedCardDetailsSectionCommentInput.react"));function d(t){var a=o("react-compiler-runtime").c(10),i=t.media$key,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedCardDetailsSectionCommentInput_media.graphql"),i),s=l.commenting_disabled_for_viewer,d=l.comments_disabled,p=l.id,_=l.media_type,f=l.pk,g=l.product_type,h=_===o("PolarisMediaConstants").MediaTypes.CAROUSEL_V2,y=g===o("PolarisMediaConstants").MediaTypes.VIDEO,C=o("polarisAdsSelectors.react").useFeedAdInfo(f,m);if(l.user==null){var b;return a[0]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(u.Fragment,{}),a[0]=b):b=a[0],b}var v=l.user.pk;if(d!==!0)if(s!==!0){var S;a[1]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("PolarisPostCommentInputPlaceholder.react"),{}),a[1]=S):S=a[1];var R;return a[2]!==C||a[3]!==h||a[4]!==y||a[5]!==v||a[6]!==p||a[7]!==f?(R=u.jsx(r("IGDSBox.react"),{marginTop:2,children:u.jsx(r("CometPlaceholder.react"),{fallback:S,name:"post-comment-input",children:u.jsx(c,{adInfo:C,isSidecar:h,isVideo:y,ownerID:v,postID:p,postPK:f,viewerProfilePicture:null})})}),a[2]=C,a[3]=h,a[4]=y,a[5]=v,a[6]=p,a[7]=f,a[8]=R):R=a[8],R}else{var L;return a[9]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsx(r("IGDSBox.react"),{marginBottom:1,marginTop:1,children:u.jsx(r("IGDSText.react"),{color:"tertiaryText",textAlign:"center",children:o("PolarisGenericStrings").COMMENTING_LIMITED})}),a[9]=L):L=a[9],L}return null}function m(e){return e}l.default=d}),98);
__d("PolarisFeedCardDetailsSection_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSection_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostUFI_ad"},{args:null,kind:"FragmentSpread",name:"PolarisPostCaption_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisFeedCardDetailsSection_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCardDetailsSection_media",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardComments_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostUFI_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostSubtextPrompts_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSectionCommentInput_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayCommunityNote_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostCaptionFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionFragment_media",selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[e,t,{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"show_translation",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"translated_text",storageKey:null}]}],storageKey:null},e,{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionUsername_user"},{args:null,kind:"FragmentSpread",name:"PolarisPostSubtextPrompts_media"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"headline",plural:!1,selections:[e,t],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostCaptionUsername_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaptionUsername_user",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostCaptionUsername.next.react",["CometRelay","IGNavChain","InstagramOrganicBrandProfileFalcoEvent","PolarisContainerModuleUtils","PolarisPostCaptionUsername_user.graphql","PolarisUserHoverCard.react","PolarisUserLink.react","isStringNullOrEmpty","react","react-compiler-runtime","usePolarisAnalyticsContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(14),i=t.fragmentKey,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostCaptionUsername_user.graphql"),i),s=l.user,c=s==null?void 0:s.username,d=s==null?void 0:s.pk,m=r("usePolarisAnalyticsContext")();if(s==null||s.is_unpublished===!0||r("isStringNullOrEmpty")(c)||d==null)return null;var p;a[0]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x1rg5ohu x2fvf9"},a[0]=p):p=a[0];var _=s.is_verified===!0,f;a[1]!==m||a[2]!==l.inventory_source||a[3]!==l.logging_info_token||a[4]!==l.pk?(f=function(){r("InstagramOrganicBrandProfileFalcoEvent").log(function(){var e;return{canonical_nav_chain:(e=r("IGNavChain").getInstance())==null?void 0:e.getNavChainForSend(),inventory_source:l.inventory_source,media_id:l.pk,module_name:o("PolarisContainerModuleUtils").getContainerModule(m),ranking_info_token:l.logging_info_token,source_of_action:o("PolarisContainerModuleUtils").getContainerModule(m)}})},a[1]=m,a[2]=l.inventory_source,a[3]=l.logging_info_token,a[4]=l.pk,a[5]=f):f=a[5];var g;a[6]!==_||a[7]!==f||a[8]!==c?(g=u.jsx(r("PolarisUserLink.react"),{color:"ig-primary-text",isVerified:_,onClick:f,username:c}),a[6]=_,a[7]=f,a[8]=c,a[9]=g):g=a[9];var h;return a[10]!==d||a[11]!==g||a[12]!==c?(h=u.jsx("div",babelHelpers.extends({},p,{children:u.jsx(r("PolarisUserHoverCard.react"),{display:"inline",userId:d,username:c,children:g})})),a[10]=d,a[11]=g,a[12]=c,a[13]=h):h=a[13],h}l.default=c}),98);
__d("PolarisPostCaption_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostCaption_ad",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"headline",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostSubtextPrompts_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostSubtextPrompts_media",selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostCaptionTranslationPrompt_items"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"caption_is_edited",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostHeaderTimestamp_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostSubtextPrompts.next.react",["CometRelay","IGDSBox.react","IGDSMiddleDot.react","IGDSTextVariants.react","PolarisPostCaptionTranslationPrompt.next.react","PolarisPostHeaderTimestamp.next.react","PolarisPostStrings","PolarisPostSubtextPrompts_media.graphql","PolarisPostTimestamp.react","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(25),i=t.isOverMedia,l=t.queryReference,s=t.showEditedText,c=t.showTimestamp,d=i===void 0?!1:i,m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostSubtextPrompts_media.graphql"),l),p=m.caption,_=m.caption_is_edited,f=m.code,g=m.product_type,h=m.taken_at,y=m.user,C=_!=null?_:!1,b=p!=null&&p.has_translation===!0&&p.pk!=null&&p.pk!=="";if(!c&&!(s&&C)&&!b)return null;var v;if(a[0]!==p||a[1]!==f||a[2]!==m||a[3]!==b||a[4]!==C||a[5]!==d||a[6]!==g||a[7]!==s||a[8]!==c||a[9]!==h||a[10]!==(y==null?void 0:y.username)){if(v=[],c){var S;if(o("PolarisUA").isMobile()&&f!=null){var R=Number(h),L=y==null?void 0:y.username,E;a[12]!==f||a[13]!==g||a[14]!==R||a[15]!==L?(E=u.jsx(r("PolarisPostTimestamp.react"),{code:f,postedAt:R,productType:g,username:L},"timestamp"),a[12]=f,a[13]=g,a[14]=R,a[15]=L,a[16]=E):E=a[16],S=E}else{var k;a[17]!==m?(k=u.jsx(r("PolarisPostHeaderTimestamp.next.react"),{fragmentKey:m,size:"footnote"},"timestamp"),a[17]=m,a[18]=k):k=a[18],S=k}v.push(S)}if(s&&C){var I;a[19]===Symbol.for("react.memo_cache_sentinel")?(I=u.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:o("PolarisPostStrings").CAPTION_EDITED_TEXT},"edited"),a[19]=I):I=a[19],v.push(I)}if(p!=null&&b){var T;a[20]!==p||a[21]!==d?(T=u.jsx(r("PolarisPostCaptionTranslationPrompt.next.react"),{isOverMedia:d,queryReference:p},"translation"),a[20]=p,a[21]=d,a[22]=T):T=a[22],v.push(T)}a[0]=p,a[1]=f,a[2]=m,a[3]=b,a[4]=C,a[5]=d,a[6]=g,a[7]=s,a[8]=c,a[9]=h,a[10]=y==null?void 0:y.username,a[11]=v}else v=a[11];var D;return a[23]!==v?(D=u.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginTop:o("PolarisUA").isMobile()?1:2,children:v.map(function(e,t){return u.jsxs(u.Fragment,{children:[e,t<v.length-1&&u.jsx(r("IGDSMiddleDot.react"),{color:"secondaryText",size:"small"})]},t)})}),a[23]=v,a[24]=D):D=a[24],D}l.default=c}),98);
__d("PolarisPostCaption.react",["CometRelay","IGDSBox.react","PolarisAdsGatingHelpers","PolarisLineClampText.react","PolarisPostCaptionFragment_media.graphql","PolarisPostCaptionUsername.next.react","PolarisPostCaption_ad.graphql","PolarisPostSubtextPrompts.next.react","PolarisTruncatedText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(e,t,n){var r=e.caption==null||t==null||t==="",o=n==null||n==="";return!r&&!o&&t!=null&&n!=null?n+"\n"+t:r?n:o?t:null}var m={root:{maxWidth:"x193iq5w",$$css:!0}};function p(t){var a,i=o("react-compiler-runtime").c(34),l=t.adFragmentKey,u=t.currSidecarIndex,p=t.hideAndShowTextOnClick,_=t.isImmersiveViewer,f=t.isOverMedia,g=t.onMoreClick,h=t.onTextClick,y=t.queryReference,C=t.showEditedText,b=t.showSubtext,v=t.showTimestamp,S=t.showUsername,R=t.untruncateCaption,L=t.xstyle,E=p===void 0?!1:p,k=f===void 0?!1:f,I=C===void 0?!1:C,T=b===void 0?!0:b,D=R===void 0?!1:R,x=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostCaptionFragment_media.graphql"),y),$=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisPostCaption_ad.graphql"),l),P;i[0]!==$||i[1]!==u?(P=$!=null&&u!=null&&o("PolarisAdsGatingHelpers").enableHeadlineTextIGWebFeed(),i[0]=$,i[1]=u,i[2]=P):P=i[2];var N=P,M=x.caption,w=M==null?void 0:M.text,A=u!=null?$==null||(a=$.items)==null||(a=a[u].headline)==null?void 0:a.text:null,F=(M==null?void 0:M.pk)!=null&&(M==null?void 0:M.show_translation)===!0&&(M==null?void 0:M.translated_text)!=null?M==null?void 0:M.translated_text:w,O;i[3]!==F||i[4]!==x||i[5]!==A||i[6]!==N?(O=N?d(x,F,A):F,i[3]=F,i[4]=x,i[5]=A,i[6]=N,i[7]=O):O=i[7];var B=O;if(B==null||B==="")return null;var W;i[8]!==L?(W=[m.root,L],i[8]=L,i[9]=W):W=i[9];var q;i[10]!==x||i[11]!==S?(q=S&&c.jsx(r("PolarisPostCaptionUsername.next.react"),{fragmentKey:x}),i[10]=x,i[11]=S,i[12]=q):q=i[12];var U;i[13]!==E||i[14]!==_||i[15]!==k||i[16]!==g||i[17]!==h||i[18]!==B||i[19]!==D?(U=D?c.jsx(r("PolarisLineClampText.react"),{value:B}):c.jsx(r("PolarisTruncatedText.react"),{color:k?"ig-text-on-media":void 0,display:"inline",headlineTag:"h1",hideAndShowTextOnClick:E,inlineMoreButton:_,onMoreClick:g,onTextClick:h,size:"body",value:B}),i[13]=E,i[14]=_,i[15]=k,i[16]=g,i[17]=h,i[18]=B,i[19]=D,i[20]=U):U=i[20];var V;i[21]!==U||i[22]!==W||i[23]!==q?(V=c.jsxs(r("IGDSBox.react"),{direction:"row",display:"inlineBlock",xstyle:W,children:[q,U]}),i[21]=U,i[22]=W,i[23]=q,i[24]=V):V=i[24];var H;i[25]!==x||i[26]!==k||i[27]!==I||i[28]!==T||i[29]!==v?(H=T===!0&&c.jsx(r("PolarisPostSubtextPrompts.next.react"),{isOverMedia:k,queryReference:x,showEditedText:I,showTimestamp:v}),i[25]=x,i[26]=k,i[27]=I,i[28]=T,i[29]=v,i[30]=H):H=i[30];var G;return i[31]!==V||i[32]!==H?(G=c.jsxs(c.Fragment,{children:[V,H]}),i[31]=V,i[32]=H,i[33]=G):G=i[33],G}l.default=p}),98);
__d("PolarisFeedCardDetailsSection.react",["CometRelay","InstagramODS","PolarisAdsGatingHelpers","PolarisFeedActionOpenPostModalForId","PolarisFeedCardComments.next.react","PolarisFeedCardDetailsSectionCommentInput.react","PolarisFeedCardDetailsSection_ad.graphql","PolarisFeedCardDetailsSection_media.graphql","PolarisFeedCardProvider.react","PolarisInlineLikeAndCommentGating","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisMediaOverlayCommunityNote","PolarisPostCaption.react","PolarisPostDetailsSectionProvider.react","PolarisPostIdContext.react","PolarisPostImpressionTrackingNode.react","PolarisPostSubtextPrompts.next.react","PolarisPostUFI.next.react","PolarisReactRedux.react","PolarisScrollPositionHistory","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","XPolarisMobileAllCommentsControllerRouteBuilder","browserHistory_DO_NOT_USE","logPolarisPostModalOpen","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisFeedAnalyticsContext","usePolarisIsFeedMobileLayout","usePolarisNavigateToLogin","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useRef,f={feedbackControls:{marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0},likeButton:{marginInlineStart:"x1qfufaz",$$css:!0},marginTop8:{marginTop:"x1xmf6yo",$$css:!0},socialProof:{marginBottom:"xat24cr",$$css:!0}},g=3;function h(t){var a,i,l,u,d,m,h=o("react-compiler-runtime").c(62),C=t.adFragmentKey,b=t.currSidecarIndex,v=t.mediaFragmentKey,S=t.untruncateCaption,R=_(null),L=_(null),E=_(null),k=p(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),I=k.canUserSeePersistentCta,T=r("usePolarisFeedAnalyticsContext")(),D=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedCardDetailsSection_media.graphql"),v),x=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisFeedCardDetailsSection_ad.graphql"),C),$=D.code,P=D.user,N=p(o("PolarisPostIdContext.react").PolarisPostIdContext),M=(a=N.postId)!=null?a:D.pk,w=r("usePolarisViewer")(),A=r("useCometRouterDispatcher")(),F=(i=(l=D==null?void 0:D.media_type)!=null?l:x==null?void 0:x.media_type)!=null?i:0,O;h[0]!==F?(O=o("PolarisInteractionsLogger").getInteractionsMediaTypeFromRelay(F),h[0]=F,h[1]=O):O=h[1];var B=O,W=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),q=r("usePolarisNavigateToLogin")((u=D==null?void 0:D.code)!=null?u:"",D==null||(d=D.user)==null?void 0:d.username),U=q[0],V=q[1],H=o("PolarisReactRedux.react").useDispatch(),G=(m=N.mediaIdUFI)!=null?m:M,z;h[2]!==T||h[3]!==I||h[4]!==$||h[5]!==A||h[6]!==b||h[7]!==H||h[8]!==G||h[9]!==M||h[10]!==B?(z=function(t){if(o("PolarisScrollPositionHistory").saveScrollPosition(o("browserHistory_DO_NOT_USE").browserHistory.location),o("PolarisUA").isDesktop())H(o("PolarisFeedActionOpenPostModalForId").openPostModalForId(M,b,G)),r("logPolarisPostModalOpen")(T,B,t);else if(o("PolarisUA").isMobile()&&A!=null&&$!=null){var e;A.go(r("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((e={},e[o("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=I||void 0,e.shortcode=$,e)),{})}},h[2]=T,h[3]=I,h[4]=$,h[5]=A,h[6]=b,h[7]=H,h[8]=G,h[9]=M,h[10]=B,h[11]=z):z=h[11];var j=z,K;h[12]!==j||h[13]!==U?(K=function(){o("PolarisIsLoggedIn").isLoggedIn()?j("feed_comment"):U("comment")},h[12]=j,h[13]=U,h[14]=K):K=h[14];var Q=K,X;h[15]!==j||h[16]!==U?(X=function(){o("PolarisIsLoggedIn").isLoggedIn()?j("feed_view_all_comments"):U("comment")},h[15]=j,h[16]=U,h[17]=X):X=h[17];var Y=X,J;h[18]!==V?(J=function(){o("PolarisIsLoggedIn").isLoggedIn()||V()},h[18]=V,h[19]=J):J=h[19];var Z=J,ee=y,te=p(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),ne=te.setIsCaptionMoreClicked;if(P==null){var re;return h[20]===Symbol.for("react.memo_cache_sentinel")?(re=c.jsx(c.Fragment,{}),h[20]=re):re=h[20],re}var oe;h[21]!==ne?(oe=function(){ne(!0),o("PolarisUA").isMobile()?r("InstagramODS").incr("web.feed.mobile_caption_more_click"):r("InstagramODS").incr("web.feed.desktop_caption_more_click")},h[21]=ne,h[22]=oe):oe=h[22];var ae;h[23]===Symbol.for("react.memo_cache_sentinel")?(ae=o("PolarisUA").isMobile(),h[23]=ae):ae=h[23];var ie;h[24]!==x||h[25]!==b||h[26]!==D||h[27]!==oe||h[28]!==S?(ie=c.jsx(r("PolarisPostCaption.react"),{adFragmentKey:x,currSidecarIndex:b,maxCaptionLines:g,onMoreClick:oe,onTextClick:ee,queryReference:D,showEditedText:!1,showSubtext:!ae,showTimestamp:!1,showUsername:!0,untruncateCaption:S,xstyle:o("PolarisInlineLikeAndCommentGating").shouldShowInlineLikeCounts()?null:f.marginTop8}),h[24]=x,h[25]=b,h[26]=D,h[27]=oe,h[28]=S,h[29]=ie):ie=h[29];var le=ie,se;h[30]!==x||h[31]!==Q||h[32]!==Z||h[33]!==D||h[34]!==w?(se=c.jsx(r("PolarisPostUFI.next.react"),{adQueryReference:x,facepileSize:"micro",feedbackControlsStaticStyles:f.feedbackControls,likeButtonStaticStyles:f.likeButton,mediaQueryReference:D,onCommentButtonClick:Q,onCommentButtonMouseEnter:Z,socialProofStaticStyles:f.socialProof,viewer:w}),h[30]=x,h[31]=Q,h[32]=Z,h[33]=D,h[34]=w,h[35]=se):se=h[35];var ue=se,ce;h[36]!==x||h[37]!==D?(ce=o("PolarisUA").isMobile()&&D!=null?c.jsx(r("PolarisPostSubtextPrompts.next.react"),{queryReference:D,showEditedText:!1,showTimestamp:x==null}):void 0,h[36]=x,h[37]=D,h[38]=ce):ce=h[38];var de=ce,me;h[39]===Symbol.for("react.memo_cache_sentinel")?(me={className:"xvbhtw8 x78zum5 xdt5ytf x5yr21d x1n2onr6"},h[39]=me):me=h[39];var pe;h[40]!==le?(pe=o("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()?c.jsx(r("PolarisPostImpressionTrackingNode.react"),{childrenRef:E,componentType:"text",elementId:"captionText",trackingNode:"CAPTION",children:c.jsx("div",{ref:E,children:le})}):le,h[40]=le,h[41]=pe):pe=h[41];var _e;h[42]!==Y||h[43]!==Z||h[44]!==D?(_e=!o("PolarisInlineLikeAndCommentGating").shouldShowInlineCommentCounts()&&c.jsx(r("PolarisFeedCardComments.next.react"),{mediaFragmentKey:D,onClick:Y,onMouseEnter:Z}),h[42]=Y,h[43]=Z,h[44]=D,h[45]=_e):_e=h[45];var fe;h[46]!==D?(fe=c.jsx(r("PolarisMediaOverlayCommunityNote"),{queryReference:D}),h[46]=D,h[47]=fe):fe=h[47];var ge;h[48]!==x||h[49]!==W||h[50]!==D?(ge=o("PolarisIsLoggedIn").isLoggedIn()&&(x!=null||!W)&&!o("PolarisInlineLikeAndCommentGating").shouldRemoveAddComment()&&c.jsx(r("PolarisFeedCardDetailsSectionCommentInput.react"),{media$key:D}),h[48]=x,h[49]=W,h[50]=D,h[51]=ge):ge=h[51];var he;h[52]!==de||h[53]!==pe||h[54]!==_e||h[55]!==fe||h[56]!==ge||h[57]!==ue?(he=c.jsx("div",babelHelpers.extends({},me,{ref:R,children:c.jsxs("div",{ref:L,children:[ue,pe,_e,fe,ge,de]})})),h[52]=de,h[53]=pe,h[54]=_e,h[55]=fe,h[56]=ge,h[57]=ue,h[58]=he):he=h[58];var ye;return h[59]!==T||h[60]!==he?(ye=c.jsx(o("PolarisPostDetailsSectionProvider.react").PolarisPostDetailsSectionProvider,{value:T,children:he}),h[59]=T,h[60]=he,h[61]=ye):ye=h[61],ye}function y(){o("PolarisUA").isMobile()?r("InstagramODS").incr("web.feed.mobile_caption_click"):r("InstagramODS").incr("web.feed.desktop_caption_click")}l.default=h}),98);
__d("PolarisFeedCard_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCard_ad",selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMedia_ad"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeader_ad"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSection_ad"},{args:null,kind:"FragmentSpread",name:"PolarisSponsoredFeedCardCTA_items"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisFeedCard_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisFeedCard_media",selections:[e,{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,concreteType:"XDTExploreDict",kind:"LinkedField",name:"explore",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audience",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_seen",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_shared_from_basel",storageKey:null},{alias:null,args:null,concreteType:"XDTLazyFloatingContextItem",kind:"LinkedField",name:"floating_context_items",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisMediaNoteBubbleGroupRelay_floatingContextItems"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeader_media"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCardDetailsSection_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFooterFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostContextFragment"},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayFooterCTAFragment_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisSponsoredFeedCardCTA_items.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredFeedCardCTA_items",selections:[{alias:null,args:null,kind:"ScalarField",name:"lead_gen_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"social_context_type",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("XPolarisAdsLeadGenControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/ads/lead_gen/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("PolarisSponsoredFeedCardCTA.react",["CometRelay","InstagramODS","PolarisAdImpressionAction","PolarisClickEventLoggerProvider.react","PolarisFeedCardProvider.react","PolarisPostFooterCTA.react","PolarisPostIdContext.react","PolarisPostUtils","PolarisReactRedux.react","PolarisSponsoredFeedCardCTA_items.graphql","PolarisTrackingCodeContext","PolarisTrackingNodeProvider.react","PolarisTrackingNodesContext","PolarisUA","XPolarisAdsLeadGenControllerRouteBuilder","polarisPostSelectors","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisSponsoredPostCTAFooterDominantColor","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(t){var a,i,l,s=o("react-compiler-runtime").c(41),d=t.adFragmentKey,f=t.currSidecarIndex,g=r("useCometRouterDispatcher")(),h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisSponsoredFeedCardCTA_items.graphql"),d),y=c(o("PolarisPostIdContext.react").PolarisPostIdContext),C=c(r("PolarisTrackingCodeContext")),b;s[0]!==C?(b=C.filter(_),s[0]=C,s[1]=b):b=s[1];var v=b,S=c(r("PolarisTrackingNodesContext")),R=h.items[0],L=(a=y.postId)!=null?a:R.pk,E;s[2]!==L?(E=function(t){return o("polarisPostSelectors").getPostById(t,L)},s[2]=L,s[3]=E):E=s[3];var k=o("PolarisReactRedux.react").useSelector(E),I;if(s[4]!==f||s[5]!==k){var T;I=k.isSidecar===!0?(T=o("PolarisPostUtils").getCurrentSidecarItemFromPost(k,f))==null?void 0:T.id:k.id,s[4]=f,s[5]=k,s[6]=I}else I=s[6];var D=I,x=c(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),$=x.isMediaRendered,P=$===!0,N;s[7]!==D||s[8]!==k||s[9]!==P?(N={isMediaRendered:P,mediaId:D,post:k},s[7]=D,s[8]=k,s[9]=P,s[10]=N):N=s[10];var M=r("usePolarisSponsoredPostCTAFooterDominantColor")(N),w=M.ctaDominantColor,A=M.ctaFooterViewpointRef,F=h.items.length>1,O=F?h.items[f]:h.items[0];if(O==null)return r("InstagramODS").incr("web.ads.feed.cta.ad_null"),null;var B=O.link,W=O.link_text;if(B==null&&r("InstagramODS").incr("web.ads.feed.cta.external_url_null"),W==null&&r("InstagramODS").incr("web.ads.feed.cta.cta_link_text_null"),B==null||W==null)return null;var q,U;s[11]!==h.lead_gen_form_id?(q=r("uuidv4")(),U=h.lead_gen_form_id!=null?r("XPolarisAdsLeadGenControllerRouteBuilder").buildURL({e:q,lead_gen_form_id:h.lead_gen_form_id}):null,s[11]=h.lead_gen_form_id,s[12]=q,s[13]=U):(q=s[12],U=s[13]);var V=U,H;if(s[14]!==h.lead_gen_form_id||s[15]!==h.tracking_token||s[16]!==g||s[17]!==W||s[18]!==q||s[19]!==R.ad_id||s[20]!==R.image_versions2||s[21]!==R.pk||s[22]!==R.social_context||s[23]!==((i=R.user)==null?void 0:i.profile_pic_url)||s[24]!==((l=R.user)==null?void 0:l.username)||s[25]!==v||s[26]!==S){var G,z;H=function(){var e;if(h.lead_gen_form_id!=null){var t,n,a,i,l=((t=R.image_versions2)==null?void 0:t.candidates)!=null?R.image_versions2.candidates[0]:null;g==null||g.go(r("XPolarisAdsLeadGenControllerRouteBuilder").buildURL({e:q,lead_gen_form_id:h.lead_gen_form_id}),{passthroughProps:{ad_id:R.ad_id,label:W,lead_gen_form_id:h.lead_gen_form_id,m_pk:(n=v[0])==null?void 0:n.m_pk,media_url:l==null?void 0:l.url,profile_pic_url:(a=R.user)==null?void 0:a.profile_pic_url,tracking_codes:v.map(p),tracking_nodes:JSON.stringify(S),username:(i=R.user)==null?void 0:i.username}})}r("InstagramODS").incr("web.ads.feed.link_click");var s=(e=R.social_context)==null?void 0:e.find(m),u=s!=null&&o("PolarisUA").isMobile()?s:null;o("PolarisAdImpressionAction").logCTAClickWithDwellTime(R.pk,h.tracking_token,u==null?void 0:u.social_context_type)},s[14]=h.lead_gen_form_id,s[15]=h.tracking_token,s[16]=g,s[17]=W,s[18]=q,s[19]=R.ad_id,s[20]=R.image_versions2,s[21]=R.pk,s[22]=R.social_context,s[23]=(G=R.user)==null?void 0:G.profile_pic_url,s[24]=(z=R.user)==null?void 0:z.username,s[25]=v,s[26]=S,s[27]=H}else H=s[27];var j=H,K;s[28]!==f?(K=f.toString(),s[28]=f,s[29]=K):K=s[29];var Q;s[30]!==h.lead_gen_form_id||s[31]!==w||s[32]!==W||s[33]!==B||s[34]!==j||s[35]!==V?(Q=function(t){return u.jsx("div",{ref:t,children:u.jsx(r("PolarisPostFooterCTA.react"),{ctaDominantColor:w,"data-testid":void 0,disableAnimation:!1,externalURL:V!=null?V:B,forceBottomBorder:!0,isActive:!0,isForAd:!0,leadGenFormID:h.lead_gen_form_id,onClick:j,showChevron:!0,text:W})})},s[30]=h.lead_gen_form_id,s[31]=w,s[32]=W,s[33]=B,s[34]=j,s[35]=V,s[36]=Q):Q=s[36];var X;return s[37]!==A||s[38]!==Q||s[39]!==K?(X=u.jsx(r("PolarisClickEventLoggerProvider.react"),{children:u.jsx(r("PolarisTrackingNodeProvider.react"),{index:K,ref:A,trackingNode:86,children:Q})}),s[37]=A,s[38]=Q,s[39]=K,s[40]=X):X=s[40],X}function m(e){return e.social_context_type==="followed_by"}function p(e){return e==null?void 0:e.trackingToken}function _(e){return e==null?void 0:e.isSponsored}l.default=d}),98);
__d("PolarisFeedCard.react",["fbt","CometRelay","IGDSBox.react","InstagramSEOCrawlBot","PolarisAdsGatingHelpers","PolarisFeedCardDetailsSection.react","PolarisFeedCardProvider.react","PolarisFeedCard_ad.graphql","PolarisFeedCard_media.graphql","PolarisHeroPageletLogger","PolarisIGCoreConstants","PolarisIsLoggedIn","PolarisMedia.react","PolarisMediaConstants","PolarisMediaNoteBubbleGroupRelay.react","PolarisOrganicImpressionAction","PolarisPanavisionQEHelpers","PolarisPostContext.react","PolarisPostFooter.next.react","PolarisPostHeader.next.react","PolarisPostIdContext.react","PolarisPostSuggestedHeader.react","PolarisPostToast.react","PolarisPostToastProvider.react","PolarisProfileRelayExp","PolarisSponsoredFeedCardCTA.react","PolarisTrackingNodeProvider.react","PolarisViewpointReact.react","PolarisVpvdImpressionAction","hero-tracing","polarisDeveloperSettings","polarisPostSelectors","qex","react","react-compiler-runtime","stylex","useMergeRefs","usePolarisFeedAnalyticsContext","usePolarisIsFeedMobileLayout","usePolarisIsOnFeedPage","usePolarisSelector","usePolarisShouldFeedMediaBeFullHeight"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useState,g=0,h={denserTopContentMobile:{alignItems:"x6s0dn4",display:"x78zum5",minHeight:"xbktkl8",paddingTop:"xexx8yu",paddingInlineEnd:"xpdmqnj",paddingBottom:"x18d9i69",paddingInlineStart:"x1g0dm76",$$css:!0},ifrHeader:{borderBottomStyle:"x1sy0etr",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwxc41k",paddingInlineStart:"xe2zdcy",$$css:!0},ifrHeaderMobile:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},ifrHeaderUpdatedPadding:{paddingTop:"x1y1aw1k",paddingInlineEnd:"x2vl965",paddingBottom:"xwxc41k",paddingInlineStart:"xe2zdcy",$$css:!0},paddingX:{paddingInlineStart:"x114lzvu",paddingInlineEnd:"x1g6009e",paddingLeft:null,paddingRight:null,$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",minWidth:"xa1mljc",width:"xh8yej3",$$css:!0},seenStateDebuggerBorderNotSeen:{borderTopColor:"x1uu1fcu",borderInlineEndColor:"x9cubbk",borderBottomColor:"xud65wk",borderInlineStartColor:"x1777cdg",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0},seenStateDebuggerBorderSeen:{borderTopColor:"xb9njkq",borderInlineEndColor:"xal17m7",borderBottomColor:"x1hnil3p",borderInlineStartColor:"xe6sp5y",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",$$css:!0},topContent:{paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",$$css:!0},topContentMobile:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"xyinxu5",paddingInlineEnd:"xv54qhq",paddingBottom:"x1g2khh7",paddingInlineStart:"xf7dkkf",$$css:!0},topContentUpdatedPadding:{paddingInlineEnd:"x2vl965",paddingLeft:null,paddingRight:null,paddingInlineStart:"x1onr9mi",$$css:!0}};function y(t){var a,i,l=o("react-compiler-runtime").c(84),d=t.adFragmentKey,p=t.adImpressionRefs,y=t.inventorySource,C=t.mediaFragmentKey,b=t.position,v=t.untruncateCaption,S=t.viewpointActionsForSponsoredPost,R=t.xstyle,L=v===void 0?!1:v,E=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedCard_media.graphql"),C),k=o("CometRelay").useFragment(u!==void 0?u:u=n("PolarisFeedCard_ad.graphql"),d),I=_(o("PolarisPostIdContext.react").PolarisPostIdContext),T=k!=null,D=(a=I.postId)!=null?a:E.pk,x;l[0]!==D?(x=function(t){return o("polarisPostSelectors").getPostById(t,D)},l[0]=D,l[1]=x):x=l[1];var $=r("usePolarisSelector")(x),P=r("usePolarisFeedAnalyticsContext")(),N=y!=null?y:E.inventory_source,M=N==="mixed_unconnected",w=r("usePolarisIsOnFeedPage")(),A=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),F=k!=null?k.items:E.carousel_media,O;l[2]!==F||l[3]!==E.main_feed_carousel_starting_media_id?(O=(E==null?void 0:E.main_feed_carousel_starting_media_id)!=null?F==null?void 0:F.findIndex(function(e){var t=e.pk;return t===E.main_feed_carousel_starting_media_id}):null,l[2]=F,l[3]=E.main_feed_carousel_starting_media_id,l[4]=O):O=l[4];var B=O,W=B!=null&&B>=0?B:g,q=f(W),U=q[0],V=q[1],H;l[5]===Symbol.for("react.memo_cache_sentinel")?(H=function(t,n,r){V(n)},l[5]=H):H=l[5];var G=H,z;l[6]!==P||l[7]!==T||l[8]!==b||l[9]!==$||l[10]!==S?(z=T&&S!=null?S:[o("PolarisOrganicImpressionAction").makePostImpressionAction($,P,null,b),o("PolarisVpvdImpressionAction").makePostVpvdImpressionAction($,P)],l[6]=P,l[7]=T,l[8]=b,l[9]=$,l[10]=S,l[11]=z):z=l[11];var j=z,K;l[12]!==$.id||l[13]!==j?(K={action:j,id:$.id},l[12]=$.id,l[13]=j,l[14]=K):K=l[14];var Q=o("PolarisViewpointReact.react").useViewpoint(K),X;l[15]!==p?(X=p!=null?p:[],l[15]=p,l[16]=X):X=l[16];var Y;l[17]!==X||l[18]!==Q?(Y=[Q].concat(X),l[17]=X,l[18]=Q,l[19]=Y):Y=l[19];var J=Y,Z=r("useMergeRefs").apply(void 0,J),ee;l[20]===Symbol.for("react.memo_cache_sentinel")?(ee=!1,l[20]=ee):ee=l[20];var te=E.is_seen===!0?h.seenStateDebuggerBorderSeen:h.seenStateDebuggerBorderNotSeen,ne;l[21]!==k||l[22]!==U?(ne=k!=null?m.jsx(r("PolarisSponsoredFeedCardCTA.react"),{adFragmentKey:k,currSidecarIndex:U}):null,l[21]=k,l[22]=U,l[23]=ne):ne=l[23];var re=ne,oe;l[24]!==N?(oe=N==="follow_hashtag_story"||N==="explore_story"||N==="mixed_unconnected"||r("InstagramSEOCrawlBot").is_crawler_with_ssr||!o("PolarisIsLoggedIn").isLoggedIn()&&o("PolarisProfileRelayExp").isProfileRelayAvailable(),l[24]=N,l[25]=oe):oe=l[25];var ae=oe,ie;l[26]===Symbol.for("react.memo_cache_sentinel")?(ie=r("qex")._("34"),l[26]=ie):ie=l[26];var le=ie===!0,se;if(l[27]!==A||l[28]!==((i=E.explore)==null?void 0:i.title)||l[29]!==E.logging_info_token||l[30]!==D||l[31]!==M){var ue;if(se=null,M&&!le){var ce,de;l[33]!==A?(de=A?[h.ifrHeaderMobile,h.paddingX]:h.ifrHeader,l[33]=A,l[34]=de):de=l[34];var me=!A&&h.ifrHeaderUpdatedPadding,pe;l[35]!==de||l[36]!==me?(pe=[de,me],l[35]=de,l[36]=me,l[37]=pe):pe=l[37],se=m.jsx(r("PolarisPostSuggestedHeader.react"),{postId:D,rankingInfoToken:E.logging_info_token,title:(ce=E.explore)==null?void 0:ce.title,xstyle:pe})}l[27]=A,l[28]=(ue=E.explore)==null?void 0:ue.title,l[29]=E.logging_info_token,l[30]=D,l[31]=M,l[32]=se}else se=l[32];var _e;l[38]===Symbol.for("react.memo_cache_sentinel")?(_e=s._(/*BTDS*/"\ud68c\uc6d0\ub2d8\uc744 \uc704\ud55c \ucd94\ucc9c"),l[38]=_e):_e=l[38];var fe=_e,ge;if(M&&le){var he,ye;ge=(he=(ye=E.explore)==null?void 0:ye.title)!=null?he:String(fe)}var Ce=E.audience==="besties",be;l[39]!==P||l[40]!==E.original_height||l[41]!==E.original_width?(be={analyticsContext:P,height:E.original_height,width:E.original_width},l[39]=P,l[40]=E.original_height,l[41]=E.original_width,l[42]=be):be=l[42];var ve=r("usePolarisShouldFeedMediaBeFullHeight")(be),Se=E.media_type===o("PolarisMediaConstants").MediaTypes.VIDEO&&ve,Re=Se?"white_link":"primary_link",Le=r("qex")._("2089")===!0;Le&&(Re=Se?"secondary":"primary");var Ee;l[43]!==A?(Ee=(c||(c=r("stylex"))).props(A?o("PolarisPanavisionQEHelpers").hasDenserMobileWebFeed()?h.denserTopContentMobile:h.topContentMobile:h.topContent,!A&&h.topContentUpdatedPadding),l[43]=A,l[44]=Ee):Ee=l[44];var ke=E.is_shared_from_basel===!0,Ie;l[45]!==w||l[46]!==T?(Ie=o("PolarisAdsGatingHelpers").enableFeedProfileTapTargetExpansion()&&w&&T,l[45]=w,l[46]=T,l[47]=Ie):Ie=l[47];var Te=ae&&!T,De=!A&&!T,xe;l[48]!==k||l[49]!==Re||l[50]!==Se||l[51]!==Ce||l[52]!==E||l[53]!==ge||l[54]!==ke||l[55]!==Ie||l[56]!==Te||l[57]!==De?(xe=m.jsx(r("PolarisPostHeader.next.react"),{adFragmentKey:k,followButtonVariant:Re,headerAvatarSize:r("PolarisIGCoreConstants").AVATAR_SIZES.small,isOverMedia:Se,isSharedFromEdits:ke,isSharedToCloseFriends:Ce,mediaFragmentKey:E,showExpandedProfileTapTarget:Ie,showFollowButton:Te,showTimestamp:De,suggestionText:ge,truncateHeaderLink:!0,truncateLocation:!0}),l[48]=k,l[49]=Re,l[50]=Se,l[51]=Ce,l[52]=E,l[53]=ge,l[54]=ke,l[55]=Ie,l[56]=Te,l[57]=De,l[58]=xe):xe=l[58];var $e;l[59]!==Ee||l[60]!==xe?($e=m.jsx("div",babelHelpers.extends({},Ee,{children:xe})),l[59]=Ee,l[60]=xe,l[61]=$e):$e=l[61];var Pe=$e,Ne;l[62]!==k||l[63]!==P||l[64]!==U||l[65]!==Z||l[66]!==W||l[67]!==Se||l[68]!==A||l[69]!==E||l[70]!==se||l[71]!==b||l[72]!==re||l[73]!==Pe||l[74]!==D||l[75]!==te||l[76]!==L||l[77]!==R?(Ne=m.jsx(o("PolarisFeedCardProvider.react").PolarisFeedCardProvider,{children:m.jsx(o("PolarisPostToastProvider.react").PostToastProvider,{children:function(t){return m.jsx(o("hero-tracing").HeroPagelet,{name:o("PolarisHeroPageletLogger").getHeroPageletLogName(o("PolarisHeroPageletLogger").PageletLogName.FEED,b),ref:Z,children:function(n,o){return m.jsx(r("PolarisTrackingNodeProvider.react"),{ref:n,trackingNode:301,children:function(a){return m.jsxs("article",babelHelpers.extends({},(c||(c=r("stylex"))).props(ee&&te),{"data-testid":void 0,ref:a,children:[se,m.jsxs("div",babelHelpers.extends({},c.props(h.root,R),{ref:n,children:[!Se&&Pe,m.jsxs("div",{className:"x1n2onr6",children:[m.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x1plvlek xryxfnj x1n2onr6"},2:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x1plvlek xryxfnj x1n2onr6 x5ur3kl x6usi7g x1bs97v6 x18dxpii xjwep3j x1t39747 x1wcsgtt x1pczhz8 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4"},1:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x1n2onr6 x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x6ikm8r x10wlt62"},3:{className:"x6s0dn4 xyzq4qe x78zum5 xdt5ytf x2lah0s xl56j7k x1n2onr6 x5ur3kl x6usi7g x1bs97v6 x18dxpii x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x1i5p2am x1whfx0g xr2y4jy x1ihp6rs x6ikm8r x10wlt62"}}[!A<<1|!A<<0],{ref:t,children:[Se&&m.jsx("div",{className:"x10l6tqk x13vifvy xh8yej3 x1vjfegm",children:m.jsx(r("IGDSBox.react"),{padding:3,children:Pe})}),m.jsx(r("PolarisMedia.react"),{adFragmentKey:k,analyticsContext:P,handleMediaSidecarChildIndexChange:G,initialCarouselIndex:W,mediaFragmentKey:E}),m.jsx(r("PolarisPostToast.react"),{isFeedVariant:!0,isModal:!1}),m.jsx(r("PolarisPostFooter.next.react"),{analyticsContext:P,queryReference:E}),m.jsx("div",{className:"xh8yej3",children:re})]})),E.floating_context_items!=null&&E.floating_context_items.length>0&&m.jsx("div",{className:"xyxf0pu xyqm7xq xxp7jga x10l6tqk x1vjfegm",children:m.jsx(r("PolarisMediaNoteBubbleGroupRelay.react"),{floatingContextItemsQueryRef:E.floating_context_items,mediaId:D})})]}),m.jsx("div",babelHelpers.extends({},{0:{className:"x1lliihq x1n2onr6"},2:{className:"x1lliihq x1n2onr6 x1g0dm76 xpdmqnj"},1:{className:"x1lliihq x1n2onr6 x114lzvu x1g6009e"},3:{className:"x1lliihq x1n2onr6 x114lzvu x1g6009e"}}[!A<<1|!!A<<0],{children:m.jsx(r("PolarisFeedCardDetailsSection.react"),{adFragmentKey:k,currSidecarIndex:U,mediaFragmentKey:E,untruncateCaption:L})})),m.jsx(o,{})]}))]}))}})}})}})}),l[62]=k,l[63]=P,l[64]=U,l[65]=Z,l[66]=W,l[67]=Se,l[68]=A,l[69]=E,l[70]=se,l[71]=b,l[72]=re,l[73]=Pe,l[74]=D,l[75]=te,l[76]=L,l[77]=R,l[78]=Ne):Ne=l[78];var Me;return l[79]!==P||l[80]!==U||l[81]!==E||l[82]!==Ne?(Me=m.jsx(o("PolarisPostContext.react").PolarisPostContextProvider,{analyticsContext:P,currentSidecarIndex:U,queryReference:E,children:Ne}),l[79]=P,l[80]=U,l[81]=E,l[82]=Ne,l[83]=Me):Me=l[83],Me}l.default=y}),226);
__d("PolarisFeedCommentInputRevampedMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9864908560226690"}),null);
__d("PolarisFeedCommentInputRevampedMutation.graphql",["PolarisFeedCommentInputRevampedMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"media_id"},t={defaultValue:null,kind:"LocalArgument",name:"request_data"},r=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"request_data",variableName:"request_data"}],o={alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"PolarisFeedCommentInputRevampedMutation",selections:[{alias:null,args:r,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"RequiredField",field:o,action:"THROW"},{kind:"RequiredField",field:a,action:"THROW"},{kind:"RequiredField",field:i,action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,s,u,c],storageKey:null},action:"THROW"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"PolarisFeedCommentInputRevampedMutation",selections:[{alias:null,args:r,concreteType:"XDTAddCommentWebResponse",kind:"LinkedField",name:"xdt_web__comments__media_id__add_queryable",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"node",plural:!1,selections:[o,a,i,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[a,l,s,u,c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("PolarisFeedCommentInputRevampedMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_web__comments__media_id__add_queryable"]},name:"PolarisFeedCommentInputRevampedMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("PolarisFeedCommentInputRevamped.react",["CometRelay","PolarisFeedCommentInputRevampedMutation.graphql","PolarisPostCommentInput.react","PolarisPostDetailsSectionProvider.react","PolarisPostIdContext.react","Promise","polarisGetXDTMediaDict","react","react-compiler-runtime","usePolarisCommentInputRevamped"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useContext,m=e!==void 0?e:e=n("PolarisFeedCommentInputRevampedMutation.graphql");function p(e){var t,a=o("react-compiler-runtime").c(19),i=e.adInfo,l=e.isRevampedMobileInput,u=e.isSidecar,p=e.isVideo,_=e.ownerID,f=e.postID,g=e.postOwnerUsername,h=e.postPK,y=e.replyingToBarWithinInput,C=e.viewerProfilePicture,b=l===void 0?!1:l,v=y===void 0?!1:y,S=o("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),R=o("CometRelay").useMutation(m),L=R[0],E=d(o("PolarisPostIdContext.react").PolarisPostIdContext),k=(t=E.mediaIdUFI)!=null?t:h,I=r("usePolarisCommentInputRevamped")(k,u,p),T=I.onCommit,D=I.onComplete,x=I.onError,$;a[0]!==L||a[1]!==k||a[2]!==T||a[3]!==D||a[4]!==x||a[5]!==_||a[6]!==f?($=function(t,o,a,i){return T(),L({onCompleted:function(t){D(t.xdt_web__comments__media_id__add_queryable.node.text,t.xdt_web__comments__media_id__add_queryable.node.pk,_,i)},onError:function(){x($,t,i)},updater:function(t){var e,n=r("polarisGetXDTMediaDict")(t,f),o=(e=n==null?void 0:n.getLinkedRecords("comments"))!=null?e:[],a=t.getRootField("xdt_web__comments__media_id__add_queryable"),i=a==null?void 0:a.getLinkedRecord("node");n==null||n.setLinkedRecords([].concat(o,[i]),"comments")},variables:{media_id:k,request_data:{comment_text:t}}}),(s||(s=n("Promise"))).resolve()},a[0]=L,a[1]=k,a[2]=T,a[3]=D,a[4]=x,a[5]=_,a[6]=f,a[7]=$):$=a[7];var P=C!=null?C:"",N;return a[8]!==i||a[9]!==S||a[10]!==$||a[11]!==b||a[12]!==p||a[13]!==k||a[14]!==_||a[15]!==g||a[16]!==v||a[17]!==P?(N=c.jsx(r("PolarisPostCommentInput.react"),{adInfo:i,analyticsContext:S,canViewerProvideFeedback:!0,forceTextareaAutosize:!1,hasPostButton:!0,hasRichCommentInput:!0,id:k,inModal:!1,isRevampedMobileInput:b,isRevampVersion:!0,isVideo:p,onCommentSubmitOverride:$,ownerId:_,postOwnerUsername:g,replyingToBarWithinInput:v,viewerProfilePicture:P}),a[8]=i,a[9]=S,a[10]=$,a[11]=b,a[12]=p,a[13]=k,a[14]=_,a[15]=g,a[16]=v,a[17]=P,a[18]=N):N=a[18],N}l.default=p}),98);
__d("PolarisFeedPageAds_fragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisFeedPageAds_fragment",selections:[{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],storageKey:null}],type:"XDTFeedItem",abstractKey:null};a.exports=e}),null);
__d("PolarisMediaPrefetchContainer_fragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaPrefetchContainer_fragment",selections:[{alias:null,args:null,concreteType:"XDTFeedTimelineResponseEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTFeedItem",kind:"LinkedField",name:"node",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTFeedTimelineResponseConnection",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaPrefetchContainer.react",["CometRelay","PolarisFeedActionConstants","PolarisMediaPrefetchContainer_DEPRECATED.react","PolarisMediaPrefetchContainer_fragment.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.queryReference,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaPrefetchContainer_fragment.graphql"),i),s;if(a[0]!==l.edges){var c=l.edges.map(d).filter(Boolean);s=u.jsx(r("PolarisMediaPrefetchContainer_DEPRECATED.react"),{postIds:c,viewKey:o("PolarisFeedActionConstants").FEED_VIEW}),a[0]=l.edges,a[1]=s}else s=a[1];return s}function d(e){var t,n,r,o,a,i=e.node;return(t=(n=(r=i.media)==null?void 0:r.pk)!=null?n:(o=i.explore_story)==null||(o=o.media)==null?void 0:o.pk)!=null?t:(a=i.ad)==null?void 0:a.media_id}l.default=c}),98);
__d("PolarisPostHiddenUnit.react",["CometPlaceholder.react","CometPressable.react","IGDSBox.react","IGDSCircleCheckPanoOutlineIcon.react","IGDSDivider.react","IGDSSpinner.react","IGDSTextVariants.react","InstagramODS","JSResourceForInteraction","PolarisGenericStrings","PolarisReactRedux.react","PolarisUA","isStringNullOrEmpty","lazyLoadComponent","polarisPostSelectors","react","react-compiler-runtime","usePolarisHidePost"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m=r("JSResourceForInteraction")("PolarisPostFastReportModal.react").__setRef("PolarisPostHiddenUnit.react"),p=r("lazyLoadComponent")(m);function _(e){var t=o("react-compiler-runtime").c(8),n=e.color,a=e.loading,i=e.onClick,l=e.title,u=a===void 0?!1:a,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=s.jsx(r("IGDSDivider.react"),{}),t[0]=c):c=t[0];var d;t[1]!==n||t[2]!==u||t[3]!==l?(d=s.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",minHeight:40,position:"relative",width:"100%",children:u?s.jsx(r("IGDSSpinner.react"),{size:"small"}):s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:n,children:l})}),t[1]=n,t[2]=u,t[3]=l,t[4]=d):d=t[4];var m;return t[5]!==i||t[6]!==d?(m=s.jsxs(s.Fragment,{children:[c,s.jsx(r("CometPressable.react"),{expanding:!0,onPress:i,overlayDisabled:!0,children:d})]}),t[5]=i,t[6]=d,t[7]=m):m=t[7],m}function f(e){var t=o("react-compiler-runtime").c(18),n=e.option,a=e.postId,i=e.setDemotionControl,l=e.setSelectedReason,u=e.setShowReportModal,c=n.id,d=c==="report",m;t[0]!==n.demotion_control||t[1]!==c||t[2]!==i||t[3]!==l?(m=function(){i(n.demotion_control),l(c)},t[0]=n.demotion_control,t[1]=c,t[2]=i,t[3]=l,t[4]=m):m=t[4];var p=m,f;t[5]!==p||t[6]!==a||t[7]!==c?(f={inventorySource:"explore_story",onSuccess:p,postId:a,reason:c},t[5]=p,t[6]=a,t[7]=c,t[8]=f):f=t[8];var g=o("usePolarisHidePost").usePolarisHidePost(f),h=d?"errorOrDestructive":"primaryText",y;t[9]!==g||t[10]!==d||t[11]!==u?(y=function(){d?(r("InstagramODS").incr("web.feed.post_controls.hidden_post.report_click"),u(!0)):(r("InstagramODS").incr("web.feed.post_controls.hidden_post.unconnected_demote_click"),g())},t[9]=g,t[10]=d,t[11]=u,t[12]=y):y=t[12];var C;return t[13]!==n.text||t[14]!==c||t[15]!==h||t[16]!==y?(C=s.jsx(_,{color:h,onClick:y,title:n.text},c),t[13]=n.text,t[14]=c,t[15]=h,t[16]=y,t[17]=C):C=t[17],C}function g(e){var t=o("react-compiler-runtime").c(25),n=e.followupOptions,a=e.postId,l=e.selectedReason,u=e.setDemotionControl,m=e.setSelectedReason,g;t[0]!==a?(g=function(t){return o("polarisPostSelectors").getPostById(t,a)},t[0]=a,t[1]=g):g=t[1];var y=o("PolarisReactRedux.react").useSelector(g),C=d(!1),b=C[0],v=C[1],S=d(!1),R=S[0],L=S[1],E;t[2]!==l?(E=l!=null?{reason:l}:{},t[2]=l,t[3]=E):E=t[3];var k;t[4]!==a||t[5]!==E?(k=babelHelpers.extends({inventorySource:"explore_story",postId:a},E),t[4]=a,t[5]=E,t[6]=k):k=t[6];var I=o("usePolarisHidePost").usePolarisUnhidePost(k),T;t[7]===Symbol.for("react.memo_cache_sentinel")?(T=[],t[7]=T):T=t[7],c(h,T);var D;t[8]!==n||t[9]!==a||t[10]!==u||t[11]!==m?(D=n==null?void 0:n.map(function(e,t){return s.jsx(f,{option:e,postId:a,setDemotionControl:u,setSelectedReason:m,setShowReportModal:L},t)}),t[8]=n,t[9]=a,t[10]=u,t[11]=m,t[12]=D):D=t[12];var x;t[13]!==I?(x=function(){r("InstagramODS").incr("web.feed.post_controls.hidden_post.undo_click"),v(!0),I()},t[13]=I,t[14]=x):x=t[14];var $;t[15]!==x||t[16]!==b?($=s.jsx(_,{color:"primaryButton",loading:b,onClick:x,title:o("PolarisGenericStrings").UNDO_TEXT}),t[15]=x,t[16]=b,t[17]=$):$=t[17];var P;t[18]!==y||t[19]!==R?(P=R===!0&&s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(p,{onClose:function(){return L(!1)},post:y})}),t[18]=y,t[19]=R,t[20]=P):P=t[20];var N;return t[21]!==D||t[22]!==$||t[23]!==P?(N=s.jsxs(s.Fragment,{children:[D,$,P]}),t[21]=D,t[22]=$,t[23]=P,t[24]=N):N=t[24],N}function h(){m.preload()}function y(e){var t=o("react-compiler-runtime").c(23),n=e.id,a;t[0]!==n?(a=function(t){return o("polarisPostSelectors").getPostById(t,n)},t[0]=n,t[1]=a):a=t[1];var i=o("PolarisReactRedux.react").useSelector(a),l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=[],t[2]=l):l=t[2],c(C,l);var u=i.feedDemotionControl,m=i.feedRecsDemotionControl,p=u!=null,_=d(u!=null?u:m),f=_[0],h=_[1],y=d(null),b=y[0],v=y[1];if(f==null)return null;var S=f==null?void 0:f.confirmation_icon,R=f==null?void 0:f.confirmation_title,L=f==null?void 0:f.confirmation_body,E;t[3]===Symbol.for("react.memo_cache_sentinel")?(E={0:{className:"x6s0dn4 xnz67gz xl56j7k xh8yej3"},1:{className:"x6s0dn4 xl56j7k xh8yej3 xvbhtw8 x5ur3kl x6usi7g x1bs97v6 x18dxpii x1obq294 x5a5i1n xde0f50 x15x8krk x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 xod5an3"}}[!!o("PolarisUA").isDesktop()<<0],t[3]=E):E=t[3];var k;t[4]!==S||t[5]!==p?(k=(p||S==="checkmark")&&s.jsx(r("IGDSBox.react"),{alignContent:"center",alignItems:"center",marginBottom:6,position:"relative",children:s.jsx(r("IGDSCircleCheckPanoOutlineIcon.react"),{alt:o("PolarisGenericStrings").CHECKMARK_OUTLINE_ICON_ALT,color:"ig-success",size:48})}),t[4]=S,t[5]=p,t[6]=k):k=t[6];var I;t[7]!==R?(I=!r("isStringNullOrEmpty")(R)&&s.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:4,paddingX:8,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextLabelEmphasized,{color:"primaryText",textAlign:"center",children:R})}),t[7]=R,t[8]=I):I=t[8];var T;t[9]!==L?(T=s.jsx(r("IGDSBox.react"),{alignItems:"center",justifyContent:"center",marginBottom:6,paddingX:8,position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",textAlign:"center",children:L})}),t[9]=L,t[10]=T):T=t[10];var D;t[11]!==k||t[12]!==I||t[13]!==T?(D=s.jsxs(r("IGDSBox.react"),{marginTop:6,position:"relative",children:[k,I,T]}),t[11]=k,t[12]=I,t[13]=T,t[14]=D):D=t[14];var x=f==null?void 0:f.followup_options,$;t[15]!==n||t[16]!==b||t[17]!==x?($=s.jsx(g,{followupOptions:x,postId:n,selectedReason:b,setDemotionControl:h,setSelectedReason:v}),t[15]=n,t[16]=b,t[17]=x,t[18]=$):$=t[18];var P;return t[19]!==E||t[20]!==D||t[21]!==$?(P=s.jsxs("div",babelHelpers.extends({},E,{children:[D,$]})),t[19]=E,t[20]=D,t[21]=$,t[22]=P):P=t[22],P}function C(){r("InstagramODS").incr("web.feed.post_controls.hidden_post.show")}l.default=y}),98);
__d("PolarisSponsoredFeedCardFragment_ad_item.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredFeedCardFragment_ad_item",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"social_context_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_media"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisSponsoredFeedCard.react",["CometRelay","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisAdsUtils","PolarisContainerModuleUtils","PolarisFeedCard.react","PolarisLocales","PolarisPCManagerProvider.react","PolarisPostIdContext.react","PolarisReactRedux.react","PolarisSponsoredFeedCardFragment_ad_item.graphql","PolarisSponsoredPostContext.react","PolarisStoriesLoggingUtils","PolarisTrackingCodeProvider.react","PolarisUA","PolarisViewpointActionUtils","PolarisViewpointReact.react","polarisPostSelectors","polarisRelationshipSelectors.react","react","react-compiler-runtime","usePolarisFeedAnalyticsContext","usePolarisIsOnFeedPage","usePolarisSponsoredPostHasImageAsCta","usePolarisSponsoredPostHasPersistentCta","usePolarisSponsoredPostImpressionRefs","usePolarisSponsoredPostProfileClickLogger","usePolarisSponsoredPostRenderedLogging","usePolarisSponsoredPostSecondaryProfileClickLogger","usePolarisSponsoredPostViewpointActions","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useEffect;function p(t){var a,i,l,s,c,p,f,g=o("react-compiler-runtime").c(91),h=t.adProps,y=t.fragmentKey,C=t.gapToPreviousAd,b=t.index,v=t.xstyle,S=r("usePolarisFeedAnalyticsContext")(),R=d(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),L=R.updateSponsoredPostContext,E=d(o("PolarisViewpointReact.react").ViewpointContext),k=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisSponsoredFeedCardFragment_ad_item.graphql"),y),I=d(o("PolarisPostIdContext.react").PolarisPostIdContext),T=k.items[0],D=(a=I.postId)!=null?a:T.pk,x,$;g[0]!==k.media_id||g[1]!==k.tracking_token||g[2]!==T.pk?(x=function(){k.media_id==null?(r("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:k==null?void 0:k.tracking_token,event:"ad_media_id_null"}}),r("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.null")):k.media_id===T.pk?r("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.match"):(r("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:k==null?void 0:k.tracking_token,event:"ad_media_id_mismatch"}}),r("InstagramODS").incr("web.ads.feed.sponsored_feed_card.media_id.mismatch"))},$=[k.media_id,k.tracking_token,T.pk],g[0]=k.media_id,g[1]=k.tracking_token,g[2]=T.pk,g[3]=x,g[4]=$):(x=g[3],$=g[4]),m(x,$);var P;g[5]!==D?(P=function(t){return o("polarisPostSelectors").getPostById(t,D)},g[5]=D,g[6]=P):P=g[6];var N=o("PolarisReactRedux.react").useSelector(P),M=(i=r("usePolarisViewer")())==null?void 0:i.id,w;if(g[7]!==((l=N.owner)==null?void 0:l.id)){var A;w=function(t){var e,n;return o("polarisRelationshipSelectors.react").getRelationship(t.relationships,(e=(n=N.owner)==null?void 0:n.id)!=null?e:"")},g[7]=(A=N.owner)==null?void 0:A.id,g[8]=w}else w=g[8];var F=o("PolarisReactRedux.react").useSelector(w),O=r("usePolarisIsOnFeedPage")();r("usePolarisSponsoredPostRenderedLogging")(D,S);var B=String(b),W;if(g[9]!==T.social_context){var q;W=(q=T.social_context)==null?void 0:q.find(_),g[9]=T.social_context,g[10]=W}else W=g[10];var U=W,V;g[11]!==U?(V=U!=null&&o("PolarisUA").isMobile()?U:null,g[11]=U,g[12]=V):V=g[12];var H=V,G;g[13]!==E?(G=E==null?void 0:E.getViewport().height,g[13]=E,g[14]=G):G=g[14];var z;g[15]!==C?(z=C==null?void 0:C.toString(10),g[15]=C,g[16]=z):z=g[16];var j;if(g[17]!==(h==null?void 0:h.brandSafetyThreshold)){var K;j=h==null||(K=h.brandSafetyThreshold)==null?void 0:K.toString(10),g[17]=h==null?void 0:h.brandSafetyThreshold,g[18]=j}else j=g[18];var Q;if(g[19]!==(h==null?void 0:h.organicBrsSeverityAfter)){var X;Q=h==null||(X=h.organicBrsSeverityAfter)==null?void 0:X.toString(10),g[19]=h==null?void 0:h.organicBrsSeverityAfter,g[20]=Q}else Q=g[20];var Y;if(g[21]!==(h==null?void 0:h.organicBrsSeverityBefore)){var J;Y=h==null||(J=h.organicBrsSeverityBefore)==null?void 0:J.toString(10),g[21]=h==null?void 0:h.organicBrsSeverityBefore,g[22]=Y}else Y=g[22];var Z=r("usePolarisSponsoredPostViewpointActions")(N,S,k.ad_id,k.tracking_token,M,F,G,!1,B,z,j,Q,Y,h==null?void 0:h.organicMediaIdAfter,h==null?void 0:h.organicMediaIdBefore,h==null?void 0:h.viewStateItemTypeAfter,h==null?void 0:h.viewStateItemTypeBefore,H),ee=r("usePolarisSponsoredPostImpressionRefs")(D),te=(s=N.owner)==null?void 0:s.id,ne;g[23]!==N.id||g[24]!==te?(ne=o("PolarisViewpointActionUtils").getMPKForStoryMedia(N.id,te),g[23]=N.id,g[24]=te,g[25]=ne):ne=g[25];var re=ne,oe;g[26]!==N?(oe=o("PolarisStoriesLoggingUtils").getMediaTypeFromPost(N),g[26]=N,g[27]=oe):oe=g[27];var ae=oe,ie=k==null?void 0:k.ad_id,le=k==null?void 0:k.tracking_token,se=r("usePolarisFeedAnalyticsContext")(),ue;g[28]!==F?(ue=o("PolarisViewpointActionUtils").getFollowStatus(F),g[28]=F,g[29]=ue):ue=g[29];var ce=(c=N.owner)==null?void 0:c.id,de;g[30]!==re||g[31]!==ae||g[32]!==H||g[33]!==ie||g[34]!==le||g[35]!==se||g[36]!==ue||g[37]!==ce?(de={adId:ie,adTrackingToken:le,analyticsContext:se,followStatus:ue,mpk:re,postMediaType:ae,postOwnerId:ce,socialContext:H},g[30]=re,g[31]=ae,g[32]=H,g[33]=ie,g[34]=le,g[35]=se,g[36]=ue,g[37]=ce,g[38]=de):de=g[38];var me=r("usePolarisSponsoredPostProfileClickLogger")(de),pe=k==null?void 0:k.ad_id,_e=k==null?void 0:k.tracking_token,fe=r("usePolarisFeedAnalyticsContext")(),ge;g[39]!==F?(ge=o("PolarisViewpointActionUtils").getFollowStatus(F),g[39]=F,g[40]=ge):ge=g[40];var he=(p=N.owner)==null?void 0:p.id,ye;g[41]!==re||g[42]!==ae||g[43]!==H||g[44]!==pe||g[45]!==_e||g[46]!==fe||g[47]!==ge||g[48]!==he?(ye={adId:pe,adTrackingToken:_e,analyticsContext:fe,followStatus:ge,mpk:re,postMediaType:ae,postOwnerId:he,socialContext:H},g[41]=re,g[42]=ae,g[43]=H,g[44]=pe,g[45]=_e,g[46]=fe,g[47]=ge,g[48]=he,g[49]=ye):ye=g[49];var Ce=r("usePolarisSponsoredPostSecondaryProfileClickLogger")(ye),be=o("usePolarisSponsoredPostHasImageAsCta").usePolarisSponsoredPostHasImageAsCta(N),ve=o("usePolarisSponsoredPostHasPersistentCta").usePolarisSponsoredPostHasPersistentCta(N),Se;g[50]!==ve||g[51]!==me||g[52]!==Ce||g[53]!==be||g[54]!==(H==null?void 0:H.social_context_type)||g[55]!==L?(Se=function(){L({canUserSeePersistentCta:ve,onProfileClick:me,onSecondaryProfileClick:Ce,singleImageAdAsCta:be,socialContextType:H==null?void 0:H.social_context_type})},g[50]=ve,g[51]=me,g[52]=Ce,g[53]=be,g[54]=H==null?void 0:H.social_context_type,g[55]=L,g[56]=Se):Se=g[56];var Re=H==null?void 0:H.social_context_type,Le;g[57]!==ve||g[58]!==me||g[59]!==Ce||g[60]!==be||g[61]!==Re||g[62]!==L?(Le=[ve,me,Ce,be,L,Re],g[57]=ve,g[58]=me,g[59]=Ce,g[60]=be,g[61]=Re,g[62]=L,g[63]=Le):Le=g[63],m(Se,Le);var Ee;g[64]!==k||g[65]!==ee||g[66]!==b||g[67]!==T||g[68]!==Z||g[69]!==v?(Ee=u.jsx(r("PolarisFeedCard.react"),{adFragmentKey:k,adImpressionRefs:ee,mediaFragmentKey:T,position:b,viewpointActionsForSponsoredPost:Z,xstyle:v}),g[64]=k,g[65]=ee,g[66]=b,g[67]=T,g[68]=Z,g[69]=v,g[70]=Ee):Ee=g[70];var ke=Ee;if(!O)return ke;var Ie=k.ad_id,Te;g[71]!==S?(Te=o("PolarisContainerModuleUtils").getContainerModule(S),g[71]=S,g[72]=Te):Te=g[72];var De=k.items.length>1?"CAROUSEL":ae===o("PolarisAdsUtils").MEDIA_TYPE_IMAGE?"PHOTO":"VIDEO",xe=(f=N.owner)==null?void 0:f.id,$e;g[73]!==k.ad_id||g[74]!==k.tracking_token||g[75]!==re||g[76]!==Te||g[77]!==De||g[78]!==xe?($e={adId:Ie,containerModule:Te,locale:r("PolarisLocales").locale,mediaType:De,mpk:re,trackingToken:k.tracking_token,userId:xe},g[73]=k.ad_id,g[74]=k.tracking_token,g[75]=re,g[76]=Te,g[77]=De,g[78]=xe,g[79]=$e):$e=g[79];var Pe=$e,Ne;if(g[80]!==N){var Me;Ne=(Me=o("PolarisViewpointActionUtils").getMPKForFeedMedia(N))!=null?Me:"",g[80]=N,g[81]=Ne}else Ne=g[81];var we;g[82]!==k.tracking_token||g[83]!==ke||g[84]!==Ne?(we=u.jsx(r("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:Ne,trackingToken:k.tracking_token,children:ke}),g[82]=k.tracking_token,g[83]=ke,g[84]=Ne,g[85]=we):we=g[85];var Ae=we;if(o("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){var Fe;g[86]!==Ae?(Fe=u.jsx("div",{children:Ae}),g[86]=Ae,g[87]=Fe):Fe=g[87];var Oe;return g[88]!==Pe||g[89]!==Fe?(Oe=u.jsx(r("PolarisPCManagerProvider.react"),{adLoggingFields:Pe,children:Fe}),g[88]=Pe,g[89]=Fe,g[90]=Oe):Oe=g[90],Oe}return Ae}function _(e){return e.social_context_type==="followed_by"}function f(e){return u.jsx(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContextProvider,{children:u.jsx(p,babelHelpers.extends({},e))})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("PolarisVirtualFeedItemFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={kind:"RequiredField",field:e,action:"THROW"},n={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_hidden",storageKey:null}]},r={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisFeedCard_media"},n],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisVirtualFeedItemFragment",selections:[r,{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"primary_media_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisSponsoredFeedCardFragment_ad_item"}],storageKey:null},{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"XDTEndOfFeedDemarcator",kind:"LinkedField",name:"end_of_feed_demarcator",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisEndOfFeedDemarcatorContainerFragment_demarcator"}],storageKey:null},{alias:null,args:null,concreteType:"XDTSuggestedUsers",kind:"LinkedField",name:"suggested_users",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisSuggestedUserFeedUnit_suggested_users"}],storageKey:null},{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"netego_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTAbraIcebreakersInFeedUnit",kind:"LinkedField",name:"abra_icebreakers_in_feed_unit",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"PolarisAbraIcebreakersFeedUnit_icebreakers"}],storageKey:null},{alias:null,args:null,concreteType:"XDTAd4AdInWebFeedUnit",kind:"LinkedField",name:"ad4ad_in_webfeed",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:[t,n],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdFeedUnit_data"},{args:null,kind:"FragmentSpread",name:"PolarisAd4AdHiddenUnit_data"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisFeedNetegoDeliveryLogger_item"}],type:"XDTFeedItem",abstractKey:null}})();a.exports=e}),null);
__d("usePolarisFeedNetegoDeliveryLogger_item.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisFeedNetegoDeliveryLogger_item",selections:[{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"netego_type",storageKey:null}],storageKey:null}],type:"XDTFeedItem",abstractKey:null};a.exports=e}),null);
__d("usePolarisFeedNetegoDeliveryLogger",["CometRelay","InstagramNetegoDeliveryFalcoEvent","react-compiler-runtime","usePolarisFeedNetegoDeliveryLogger_item.graphql","useRunCallbackOnce"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("react-compiler-runtime").c(2),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisFeedNetegoDeliveryLogger_item.graphql"),t),l;a[0]!==i?(l=function(){if((i==null?void 0:i.bloks_netego)!=null){var e=i.bloks_netego,t=e.id,n=e.netego_type,o=e.tracking_token,a={id:t,tracking_token:o,type:n};r("InstagramNetegoDeliveryFalcoEvent").logImmediately(function(){return a})}},a[0]=i,a[1]=l):l=a[1];var s=r("useRunCallbackOnce")(l);s()}l.default=s}),98);
__d("PolarisVirtualFeedItem.react",["CometPlaceholder.react","CometRelay","InstagramODS","JSResourceForInteraction","PolarisAbraIcebreakersFeedUnit.react","PolarisAd4AdFeedUnit.react","PolarisAd4AdHiddenUnit.react","PolarisEndOfFeedDemarcatorContainer.react","PolarisFeedCard.react","PolarisPostGlimmer.react","PolarisPostHiddenUnit.react","PolarisPostIdContext.react","PolarisSponsoredFeedCard.react","PolarisVirtualFeedItemFragment.graphql","cr:483","getPolarisPostIdFromNativeId","lazyLoadComponent","react","react-compiler-runtime","stylex","usePolarisFeedNetegoDeliveryLogger","usePolarisFeedVariantFromRoute","usePolarisIsFeedMobileLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d={desktopNoDivider:{borderBottomWidth:"x1qhh985",$$css:!0},desktopRoot:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginBottom:"x11aubdm",paddingBottom:"xnc8uc2",$$css:!0},endOfFeedDemarcator:{backgroundColor:"xvbhtw8",$$css:!0},mobileRoot:{paddingBottom:"xwib8y2",$$css:!0}},m=r("lazyLoadComponent")(r("JSResourceForInteraction")("PolarisSuggestedUserFeedUnit.react").__setRef("PolarisVirtualFeedItem.react"));function p(t){var a,l=o("react-compiler-runtime").c(70),u=t.adProps,p=t.gapToPreviousAd,_=t.gapToPreviousNetego,f=t.index,g=t.queryReference,h=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),y=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisVirtualFeedItemFragment.graphql"),g),C=r("usePolarisFeedVariantFromRoute")();if(r("usePolarisFeedNetegoDeliveryLogger")(y),y==null){var b;return l[0]===Symbol.for("react.memo_cache_sentinel")?(b=c.jsx(c.Fragment,{}),l[0]=b):b=l[0],b}var v;l[1]!==h?(v=h?d.mobileRoot:[d.desktopRoot,d.desktopNoDivider],l[1]=h,l[2]=v):v=l[2];var S=v,R=y.abra_icebreakers_in_feed_unit,L=y.ad,E=y.ad4ad_in_webfeed,k=y.bloks_netego,I=y.end_of_feed_demarcator,T=y.explore_story,D=y.media,x=y.suggested_users,$,P=D||(T==null?void 0:T.media);if(P!=null){var N,M;l[3]!==P.id?(M=r("getPolarisPostIdFromNativeId")(P.id),l[3]=P.id,l[4]=M):M=l[4];var w=M;if(P.is_hidden===!0){var A;return l[5]!==w?(A=c.jsx(r("PolarisPostHiddenUnit.react"),{id:w},w),l[5]=w,l[6]=A):A=l[6],A}var F=(N=T==null?void 0:T.inventory_source)!=null?N:"",O;l[7]!==f||l[8]!==S||l[9]!==P||l[10]!==F?(O=c.jsx(r("PolarisFeedCard.react"),{inventorySource:F,mediaFragmentKey:P,position:f,xstyle:S}),l[7]=f,l[8]=S,l[9]=P,l[10]=F,l[11]=O):O=l[11],$=O}var B=(a=L==null?void 0:L.media_id)!=null?a:P==null?void 0:P.pk;if(L!=null){var W;if(l[12]!==L||l[13]!==u||l[14]!==p||l[15]!==f||l[16]!==S?(W=c.jsx(r("PolarisSponsoredFeedCard.react"),{adProps:u,fragmentKey:L,gapToPreviousAd:p,index:f,xstyle:S}),l[12]=L,l[13]=u,l[14]=p,l[15]=f,l[16]=S,l[17]=W):W=l[17],$=W,B!=null){var q,U=(q=L==null?void 0:L.primary_media_id)!=null?q:B,V;l[18]!==$||l[19]!==U||l[20]!==B?(V=c.jsx(o("PolarisPostIdContext.react").PolarisPostIdContextProvider,{mediaIdUFI:U,postId:B,children:$}),l[18]=$,l[19]=U,l[20]=B,l[21]=V):V=l[21],$=V}}var H=(L==null?void 0:L.media_id)==null,G=(P==null?void 0:P.pk)==null;L!=null&&(H?r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.ad.null"):r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.ad.notnull")),P!=null&&(G?r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.organic.null"):r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.postId.organic.notnull"));var z=L==null?void 0:L.primary_media_id,j=P==null?void 0:P.pk;if(L!=null&&(z==null?r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.ad.null"):r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.ad.notnull ")),P!=null&&(j==null?r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.null"):(r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.notnull"),j===B?r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.match"):r("InstagramODS").incr("web.ads.feed.PolarisVirtualFeedPostItem.ufiId.organic.mismatch"))),k!=null&&n("cr:483")!=null){var K;l[22]!==k.id||l[23]!==k.netego_type||l[24]!==k.payload||l[25]!==k.tracking_token||l[26]!==p||l[27]!==_||l[28]!==f||l[29]!==S?(K=c.jsx(n("cr:483"),{gapToPreviousAd:p,gapToPreviousNetego:_,id:k.id,netegoType:k.netego_type,payload:k.payload,position:f,trackingToken:k.tracking_token,xstyle:S}),l[22]=k.id,l[23]=k.netego_type,l[24]=k.payload,l[25]=k.tracking_token,l[26]=p,l[27]=_,l[28]=f,l[29]=S,l[30]=K):K=l[30],$=K}if(I!=null&&C!=="past_posts"){var Q;l[31]!==h||l[32]!==S?(Q=(s||(s=r("stylex")))(d.endOfFeedDemarcator,!h&&S),l[31]=h,l[32]=S,l[33]=Q):Q=l[33];var X;l[34]!==I||l[35]!==Q?(X=c.jsx(r("PolarisEndOfFeedDemarcatorContainer.react"),{className:Q,queryRef:I}),l[34]=I,l[35]=Q,l[36]=X):X=l[36],$=X}if(x!=null){var Y=h?"narrow":"wide",J;l[37]!==f||l[38]!==S||l[39]!==x||l[40]!==Y?(J=c.jsx(m,{fragmentKey:x,position:f,variant:Y,xstyle:S}),l[37]=f,l[38]=S,l[39]=x,l[40]=Y,l[41]=J):J=l[41],$=J}if(R!=null){var Z;l[42]!==R||l[43]!==p||l[44]!==_||l[45]!==f?(Z=c.jsx(r("PolarisAbraIcebreakersFeedUnit.react"),{fragmentKey:R,gapToPreviousAd:p,gapToPreviousNetego:_,index:f}),l[42]=R,l[43]=p,l[44]=_,l[45]=f,l[46]=Z):Z=l[46],$=Z}if(E!=null){if(E.media!=null){var ee=E.media,te;l[47]!==ee.id?(te=r("getPolarisPostIdFromNativeId")(ee.id),l[47]=ee.id,l[48]=te):te=l[48];var ne=te;if(ee.is_hidden===!0){var re;return l[49]!==E||l[50]!==ne?(re=c.jsx(r("PolarisAd4AdHiddenUnit.react"),{fragmentKey:E,postId:ne},ne),l[49]=E,l[50]=ne,l[51]=re):re=l[51],re}}var oe;l[52]!==E||l[53]!==p||l[54]!==_||l[55]!==f||l[56]!==S?(oe=c.jsx(r("PolarisAd4AdFeedUnit.react"),{fragmentKey:E,gapToPreviousAd:p,gapToPreviousNetego:_,position:f,xstyle:S}),l[52]=E,l[53]=p,l[54]=_,l[55]=f,l[56]=S,l[57]=oe):oe=l[57],$=oe}if($!=null){var ae;l[58]!==S?(ae=(s||(s=r("stylex"))).props(S),l[58]=S,l[59]=ae):ae=l[59];var ie;l[60]!==f?(ie=c.jsx(r("PolarisPostGlimmer.react"),{index:f}),l[60]=f,l[61]=ie):ie=l[61];var le;l[62]!==ae||l[63]!==ie?(le=c.jsx("div",babelHelpers.extends({},ae,{children:ie})),l[62]=ae,l[63]=ie,l[64]=le):le=l[64];var se;return l[65]!==$||l[66]!==f||l[67]!==le?(se=c.jsx(r("CometPlaceholder.react"),{fallback:le,name:i.id,children:$},f),l[65]=$,l[66]=f,l[67]=le,l[68]=se):se=l[68],se}var ue;return l[69]===Symbol.for("react.memo_cache_sentinel")?(ue=c.jsx(c.Fragment,{}),l[69]=ue):ue=l[69],ue}var _=c.memo(p);l.default=_}),98);
__d("PolarisVirtualFeed_fragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},action:"LOG"}],t={alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"media",plural:!1,selections:e,storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisVirtualFeed_fragment",selections:[t,{alias:null,args:null,concreteType:"XDTAdInsertionItemClientDict",kind:"LinkedField",name:"ad",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},action:"LOG"}],storageKey:null},{alias:null,args:null,concreteType:"XDTExploreStory",kind:"LinkedField",name:"explore_story",plural:!1,selections:[t],storageKey:null},{alias:null,args:null,concreteType:"XDTEndOfFeedDemarcator",kind:"LinkedField",name:"end_of_feed_demarcator",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"XDTStoriesInFeedItem",kind:"LinkedField",name:"stories_netego",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"XDTSuggestedUsers",kind:"LinkedField",name:"suggested_users",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"XDTBloksNetegoFeedItem",kind:"LinkedField",name:"bloks_netego",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"payload",storageKey:null},action:"LOG"}],storageKey:null},{alias:null,args:null,concreteType:"XDTAbraIcebreakersInFeedUnit",kind:"LinkedField",name:"abra_icebreakers_in_feed_unit",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"XDTAd4AdInWebFeedUnit",kind:"LinkedField",name:"ad4ad_in_webfeed",plural:!1,selections:e,storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisVirtualFeedItemFragment"}],type:"XDTFeedItem",abstractKey:null}})();a.exports=e}),null);
__d("getPolarisFeedPrefetchDistance",["PolarisUA"],(function(t,n,r,o,a,i,l){"use strict";var e=6,s=8;function u(){return o("PolarisUA").isMobile()?e:s}l.default=u}),98);
__d("PolarisVirtualFeed.react",["CometErrorBoundary.react","CometRelay","FBLogger","InstagramAdInsertionSuccessFalcoEvent","PolarisAdsInvalidations","PolarisAdsInvalidationsLogger","PolarisContainerModuleUtils","PolarisFeedContext.react","PolarisFeedGlimmer.react","PolarisGenericVirtualFeed.react","PolarisLogger","PolarisReactRedux.react","PolarisVirtualFeedItem.react","PolarisVirtualFeed_fragment.graphql","emptyFunction","getPolarisFeedPrefetchDistance","react","react-compiler-runtime","usePolarisClientViewStateMediaList","usePolarisFeedAnalyticsContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useContext,_=d.useEffect,f=d.useMemo;function g(){o("PolarisLogger").logAction("feedUnitFailure",{source:"PolarisVirtualFeed.next"})}var h=new Map,y=new Map,C=new Map,b=new Map,v=1;function S(e){for(var t=new Map,n=null,r=0;r<e.length;r++){var o=e[r];n!=null?t.set(o,r-n-1):t.set(o,-1),o.ad!=null&&(n=r)}return t}function R(e,t){var n=e[t];if(!(n.ad==null||n.ad.ad_id==null)){var r=n.ad.ad_id,a=C.get(r);if(!(a!=null&&a===t)){var i=L(e,t),l=babelHelpers.extends({},(u(i),i)),s=b.get(r);if(s!=null){(s==null?void 0:s.organicMediaIdAfter)==null&&b.set(r,l);return}var c=E(l.organicBrsSeverityAfter,l.organicBrsSeverityBefore,l.brandSafetyThreshold);if(!c){var d,m,p,_,f;C.set(r,t),o("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(o("PolarisAdsInvalidations").AdInvalidationSubReasons.BRAND_SAFETY_DID_NOT_MEET,r,(d=n==null||(m=n.ad)==null?void 0:m.tracking_token)!=null?d:"",null,null,(p=l.organicBrsSeverityAfter)==null?void 0:p.toString(),(_=l.organicBrsSeverityBefore)==null?void 0:_.toString(),l.organicMediaIdAfter,l.organicMediaIdBefore,(f=l.brandSafetyThreshold)==null?void 0:f.toString())}b.set(r,l)}}}function L(e,t){var n,r=e[t];if(r.ad==null||r.ad.ad_id==null||r.ad.brs_threshold==null||r.ad.tracking_token==null)return{brandSafetyThreshold:null,organicBrsSeverityAfter:null,organicBrsSeverityBefore:null,organicMediaIdAfter:null,organicMediaIdBefore:null,viewStateItemTypeAfter:null,viewStateItemTypeBefore:null};var o=null,a=null,i=null,l=null,s=null,u=null,c=(n=r.ad)==null?void 0:n.brs_threshold;if(t>0){var d=e[t-1];if(d.media!=null){var m;a=d.media.brs_severity,l=d.media.id,u=(m=d.media.view_state_item_type)==null?void 0:m.toString()}if(d.explore_story!=null){var p;a=d.explore_story.brs_severity,l=d.explore_story.id,u=(p=d.explore_story.view_state_item_type)==null?void 0:p.toString()}}if(t<e.length-1){var _=e[t+1];if(_.media!=null){var f;o=_.media.brs_severity,i=_.media.id,s=(f=_.media.view_state_item_type)==null?void 0:f.toString()}if(_.explore_story!=null){var g;o=_.explore_story.brs_severity,i=_.explore_story.id,s=(g=_.explore_story.view_state_item_type)==null?void 0:g.toString()}}return{brandSafetyThreshold:c,organicBrsSeverityAfter:o,organicBrsSeverityBefore:a,organicMediaIdAfter:i,organicMediaIdBefore:l,viewStateItemTypeAfter:s,viewStateItemTypeBefore:u}}function E(e,t,n){return!((t!=null?t:70)>(n!=null?n:100)||(e!=null?e:70)>(n!=null?n:100))}function k(e){return e.bloks_netego!=null}function I(e){for(var t=new Map,n=null,r=0;r<e.length;r++){var o=e[r];n!=null?t.set(o,r-n-1):t.set(o,-1),k(o)&&(n=r)}return t}function T(t){var a=o("react-compiler-runtime").c(33),i=t.feedItemIds,l=t.hasNextPage,s=t.isFetching,u=t.onNextPage,d=t.queryReference,m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisVirtualFeed_fragment.graphql"),d),f=r("usePolarisFeedAnalyticsContext")(),C=p(o("PolarisFeedContext.react").PolarisFeedContext),L=C.setShowEmptyFeed,E=S(i);i==null||i.forEach(function(e,t){var n=E.get(e);if(e.ad!=null&&e.ad.ad_id!=null&&e.ad.tracking_token!=null){var r,a=e.ad.ad_id,i=e.ad.tracking_token,l=t<v&&t!==((r=e.ad)==null?void 0:r.global_position),s=y.get(a);l&&(s==null||s<t)&&(o("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(o("PolarisAdsInvalidations").AdInvalidationSubReasons.HIGHEST_POSITION_VIOLATION,a,i,n,t),y.set(a,t))}});var k;a[0]!==i?(k=i.filter($),a[0]=i,a[1]=k):k=a[1];var T=k,P=T;P==null||P.forEach(function(e,t){R(P,t)});var N;a[2]!==P?(N=P.filter(x),a[2]=P,a[3]=N):N=a[3];var M=N,w,A;a[4]!==f||a[5]!==M?(w=function(){var e=S(M);M==null||M.forEach(function(t,n){var a,i,l=o("usePolarisClientViewStateMediaList").getCompoundIdFromAdItemId((a=(i=t.ad)==null?void 0:i.id)!=null?a:""),s=o("PolarisContainerModuleUtils").getContainerModule(f),u=e.get(t);if(t.ad!=null&&t.ad.ad_id!=null&&t.ad.tracking_token!=null&&l!=null){var c,d,m=t.ad.ad_id,p={actual_inserted_position:String(n),ad_id:m,container_module:s,gap_to_last_ad:String(u),m_pk:l,source_of_action:s,tracking_token:(c=(d=t.ad)==null?void 0:d.tracking_token)!=null?c:""},_=h.get(m);(_==null||_<n)&&(r("InstagramAdInsertionSuccessFalcoEvent").log(function(){return p}),h.set(m,n))}})},A=[f,M],a[4]=f,a[5]=M,a[6]=w,a[7]=A):(w=a[6],A=a[7]),_(w,A);var F=o("PolarisReactRedux.react").useSelector(D),O;if(a[8]!==F||a[9]!==M){var B;a[11]!==F?(B=function(t){var e,n=(e=t.ad)==null?void 0:e.ad_id;return n!=null?!F.includes(n):!0},a[11]=F,a[12]=B):B=a[12],O=M.filter(B),a[8]=F,a[9]=M,a[10]=O}else O=a[10];var W=O,q;a[13]!==W?(q=S(W),a[13]=W,a[14]=q):q=a[14];var U=q,V;a[15]!==W?(V=I(W),a[15]=W,a[16]=V):V=a[16];var H=V,G;a[17]!==m||a[18]!==W||a[19]!==U||a[20]!==H?(G=function(t){var e=t.index,n=W[e],o=U.get(n),a=H.get(n),i=null;if(n.ad!=null){var l=b.get(n.ad.ad_id);l!=null&&(i=l)}var s=m.find(function(e){var t=n.abra_icebreakers_in_feed_unit,o=n.ad,a=n.ad4ad_in_webfeed,i=n.bloks_netego,l=n.end_of_feed_demarcator,s=n.explore_story,u=n.media,c=n.stories_netego,d=n.suggested_users;if(u!=null){var m,p=u.id;return((m=e.media)==null?void 0:m.id)===p}if(o!=null){var _,f=o.ad_id;return((_=e.ad)==null?void 0:_.ad_id)===f}if(s!=null){var g,h=s.id;return((g=e.explore_story)==null||(g=g.media)==null?void 0:g.id)===h}if(l!=null){var y,C=l.id;return((y=e.end_of_feed_demarcator)==null?void 0:y.id)===C}if(c!=null){var b,v=c.id;return((b=e.stories_netego)==null?void 0:b.id)===v}if(d!=null){var S,R=d.id;return((S=e.suggested_users)==null?void 0:S.id)===R}if(i!=null){var L;return((L=e.bloks_netego)==null?void 0:L.payload)!=null}if(t!=null){var E,k=t.id;return((E=e.abra_icebreakers_in_feed_unit)==null?void 0:E.id)===k}if(a!=null){var I,T=a.id;return((I=e.ad4ad_in_webfeed)==null?void 0:I.id)===T}return r("FBLogger")("ig_web").mustfix("feed item not found in mapping %s",JSON.stringify(n)),null});return c.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction").thatReturnsNull,onError:g,children:c.jsx(r("PolarisVirtualFeedItem.react"),{adProps:i,gapToPreviousAd:o,gapToPreviousNetego:a,index:e,queryReference:s})},e)},a[17]=m,a[18]=W,a[19]=U,a[20]=H,a[21]=G):G=a[21];var z=G,j;a[22]===Symbol.for("react.memo_cache_sentinel")?(j=c.createRef(),a[22]=j):j=a[22];var K=j;if(W==null){var Q;return a[23]===Symbol.for("react.memo_cache_sentinel")?(Q=c.jsx(r("PolarisFeedGlimmer.react"),{}),a[23]=Q):Q=a[23],Q}if((W==null?void 0:W.length)===0)return L(!0),null;var X;a[24]===Symbol.for("react.memo_cache_sentinel")?(X=r("getPolarisFeedPrefetchDistance")(),a[24]=X):X=a[24];var Y=X,J=W.length||0,Z;return a[25]!==f||a[26]!==W||a[27]!==l||a[28]!==s||a[29]!==u||a[30]!==z||a[31]!==J?(Z=c.jsx(r("PolarisGenericVirtualFeed.react"),{allowSampledScrollLogging:!0,analyticsContext:f,enablePrefetch:!0,enablePriorityFetching:!0,hasNextPage:l,initialRenderCount:2,isFetching:s,items:W,onNextPage:u,prefetchNextPageThreshold:Y,ref:K,renderFeedItem:z,visibleCount:J}),a[25]=f,a[26]=W,a[27]=l,a[28]=s,a[29]=u,a[30]=z,a[31]=J,a[32]=Z):Z=a[32],Z}function D(e){return e.ads.hiddenAdIds}function x(e){var t,n=(t=e.ad)==null?void 0:t.ad_id;return n!=null?!C.has(n):!0}function $(e,t){var n,r=(n=e.ad)==null?void 0:n.ad_id;if(r!=null){var o,a=t<v&&t!==((o=e.ad)==null?void 0:o.global_position);return!a}return!0}l.default=T}),98);
__d("PolarisFeedPage.react",["CometRelay","CometRouteURL","ErrorBoundary.react","IGDSBox.react","InstagramAdDeliveryFalcoEvent","InstagramODS","PolarisAdsInvalidations","PolarisAdsInvalidationsLogger","PolarisContainerModuleUtils","PolarisFeedActionConstants","PolarisFeedGlimmer.react","PolarisFeedPageAds_fragment.graphql","PolarisFeedSeenStateManagerSingleton","PolarisFeedVariantsHeader.react","PolarisMediaPrefetchContainer.react","PolarisNavigationLayoutContext","PolarisScrollPositionHistory","PolarisVirtualFeed.react","Run","URI","emptyFunction","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisClientViewStateMediaList","usePolarisFeedVariantDsaHeader","usePolarisFeedVariantFromRoute"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useMemo,f=d.useRef,g=new Map,h=new Map,y=new Map;function C(t){var a,i,l=o("react-compiler-runtime").c(38),u=t.data,d=t.getExtraVariables,m=t.hasNext,_=t.isLoadingNext,g=t.loadNext,h=t.onLoadNextComplete,C=r("usePolarisAnalyticsContext")(),L=o("CometRouteURL").useRouteURL(),E=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisFeedPageAds_fragment.graphql"),u==null||(a=u.xdt_api__v1__feed__timeline__connection)==null?void 0:a.edges.map(R)),k,I;l[0]!==C||l[1]!==E?(k=function(){E==null||E.forEach(function(e,t){var n,a,i=o("usePolarisClientViewStateMediaList").getCompoundIdFromAdItemId((n=(a=e.ad)==null||(a=a.items)==null?void 0:a[0].id)!=null?n:""),l=o("PolarisContainerModuleUtils").getContainerModule(C);if(e.ad!=null&&e.ad.ad_id!=null&&e.ad.tracking_token!=null&&i!=null){var s=e.ad.ad_id,u={ad_id:s,container_module:l,m_pk:i,pigeon_reserved_keyword_module:l,tracking_token:e.ad.tracking_token},c=y.get(s);(c==null||c<t)&&(r("InstagramAdDeliveryFalcoEvent").log(function(){return u}),y.set(s,t))}})},I=[C,E],l[0]=C,l[1]=E,l[2]=k,l[3]=I):(k=l[2],I=l[3]),p(k,I);var T=r("usePolarisFeedVariantFromRoute")(),D;if(l[4]!==(u==null||(i=u.xdt_api__v1__feed__timeline__connection)==null?void 0:i.client__feedDedupedIds)){var x,$,P;D=(x=u==null||($=u.xdt_api__v1__feed__timeline__connection)==null?void 0:$.client__feedDedupedIds)!=null?x:{dedupedItems:[],duplicateAdIds:[],duplicateOrganicIds:[]},l[4]=u==null||(P=u.xdt_api__v1__feed__timeline__connection)==null?void 0:P.client__feedDedupedIds,l[5]=D}else D=l[5];var N=D,M=N.dedupedItems,w=N.duplicateAdIds,A=N.duplicateOrganicIds,F=f(0),O=f(0),B,W;l[6]!==w||l[7]!==A?(B=function(){var e=F.current,t=w.length;F.current=t;var n=O.current,r=A.length;O.current=r;var o=w.slice(e),a=A.slice(n);o.forEach(S),a.forEach(v)},W=[w,A],l[6]=w,l[7]=A,l[8]=B,l[9]=W):(B=l[8],W=l[9]),p(B,W);var q,U;l[10]!==L?(q=function(){var e=o("Run").onBeforeUnload(function(){var e=new(s||(s=r("URI")))(L);o("PolarisScrollPositionHistory").clearScrollPosition({hash:e.getFragment(),pathname:e.getPath(),search:e.getQueryString()})},!1);return(function(){return e.remove()})},U=[L],l[10]=L,l[11]=q,l[12]=U):(q=l[11],U=l[12]),p(q,U);var V;l[13]===Symbol.for("react.memo_cache_sentinel")?(V=r("PolarisFeedSeenStateManagerSingleton").get(),l[13]=V):V=l[13];var H=V,G;l[14]!==u||l[15]!==d||l[16]!==g||l[17]!==h||l[18]!==T?(G=function(){g(o("PolarisFeedActionConstants").PAGE_SIZE,{UNSTABLE_extraVariables:d(u,H,T),onComplete:h})},l[14]=u,l[15]=d,l[16]=g,l[17]=h,l[18]=T,l[19]=G):G=l[19];var z=G,j=r("usePolarisFeedVariantDsaHeader")(),K=o("PolarisNavigationLayoutContext").usePolarisNavigationLayoutContext(),Q=K.navigationPosition,X=!j&&Q!=="bottom";if((u==null?void 0:u.xdt_api__v1__feed__timeline__connection)==null){var Y;return l[20]===Symbol.for("react.memo_cache_sentinel")?(Y=c.jsx(r("PolarisFeedGlimmer.react"),{}),l[20]=Y):Y=l[20],Y}var J;l[21]!==X||l[22]!==T?(J=X&&T!=="home"&&c.jsx(r("IGDSBox.react"),{marginBottom:4,children:c.jsx(r("PolarisFeedVariantsHeader.react"),{revamped:!0,variant:T})}),l[21]=X,l[22]=T,l[23]=J):J=l[23];var Z;l[24]!==u.xdt_api__v1__feed__timeline__connection.edges?(Z=u.xdt_api__v1__feed__timeline__connection.edges.map(b),l[24]=u.xdt_api__v1__feed__timeline__connection.edges,l[25]=Z):Z=l[25];var ee;l[26]!==M||l[27]!==m||l[28]!==_||l[29]!==z||l[30]!==Z?(ee=c.jsx(r("PolarisVirtualFeed.react"),{feedItemIds:M,hasNextPage:m,isFetching:_,onNextPage:z,queryReference:Z}),l[26]=M,l[27]=m,l[28]=_,l[29]=z,l[30]=Z,l[31]=ee):ee=l[31];var te;l[32]!==u.xdt_api__v1__feed__timeline__connection?(te=c.jsx(r("ErrorBoundary.react"),{fallback:r("emptyFunction").thatReturnsNull,children:c.jsx(r("PolarisMediaPrefetchContainer.react"),{queryReference:u.xdt_api__v1__feed__timeline__connection})}),l[32]=u.xdt_api__v1__feed__timeline__connection,l[33]=te):te=l[33];var ne;return l[34]!==J||l[35]!==ee||l[36]!==te?(ne=c.jsxs(c.Fragment,{children:[J,ee,te]}),l[34]=J,l[35]=ee,l[36]=te,l[37]=ne):ne=l[37],ne}function b(e){return e.node}function v(e){var t=e.id,n=e.index,o=h.get(t);(o==null||o<n)&&(r("InstagramODS").incr("web.feed.duplicate_organic"),h.set(t,n))}function S(e){var t=e.ad_id,n=e.index,a=e.tracking_token,i=g.get(t);(i==null||i<n)&&(r("InstagramODS").incr("web.ad.feed.duplicate_ad"),o("PolarisAdsInvalidationsLogger").logFeedAdInvalidation(o("PolarisAdsInvalidations").AdInvalidationSubReasons.DUPLICATE_AD_SEEN,t,a,null,n),g.set(t,n))}function R(e){return e.node}l.default=C}),98);
__d("PolarisFeedQPWrapper.react",["react","react-compiler-runtime","usePolarisIsFeedMobileLayout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),a;t[0]!==r?(a={0:{},1:{className:"x11aubdm"}}[!r<<0],t[0]=r,t[1]=a):a=t[1];var i;return t[2]!==n||t[3]!==a?(i=s.jsx("div",babelHelpers.extends({},a,{children:n})),t[2]=n,t[3]=a,t[4]=i):i=t[4],i}l.default=u}),98);
__d("PolarisQPCampaigns",[],(function(t,n,r,o,a,i){"use strict";var e={fbconnect:"1939973836325880",gdprDialog:"385107635302749",gdprFullscreen:"361346177689723",gdprMegaphoneDis:"1432819323512524",gdprMegaphoneNondis:"1126242244191536"},l=e;i.default=l}),66);
__d("PolarisFeedQPManager.react",["FBLogger","PolarisConsentActions","PolarisConsentTypes","PolarisFeedQPWrapper.react","PolarisQPCampaigns","PolarisQPConstants","PolarisQPManager.react","PolarisQueryParams","PolarisReactRedux.react","PolarisUA","getErrorSafe","polarisSuggestedUserSelectors.react","react","react-compiler-runtime","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(9),n=e.showEmptyFeed,a=o("PolarisReactRedux.react").useDispatch(),i=r("usePolarisSelector")(o("polarisSuggestedUserSelectors.react").shouldDisplayFacebookConnect),l=d(!1),u=l[0],m=l[1],p,_;if(t[0]!==a?(p=function(){var e;try{e=o("PolarisQueryParams").parseQueryParams()}catch(e){var t=e,n=r("getErrorSafe")(t);r("FBLogger")("ig_web").catching(n)}e&&e.terms_start&&Object.values(o("PolarisConsentTypes").ConsentEntrypoints).includes(e.terms_start)&&(a(o("PolarisConsentActions").loadConsents(e.terms_start)),m(!0))},_=[a],t[0]=a,t[1]=p,t[2]=_):(p=t[1],_=t[2]),c(p,_),n===!0&&o("PolarisUA").isMobile())return null;var f=!u,g=!u,h=!u,y=!u,C;if(t[3]!==i||t[4]!==f||t[5]!==g||t[6]!==h||t[7]!==y){var b,v,S=(b={},b[(v=r("PolarisQPCampaigns")).fbconnect]=i,b[v.gdprDialog]=f,b[v.gdprFullscreen]=g,b[v.gdprMegaphoneDis]=h,b[v.gdprMegaphoneNondis]=y,b);C=s.jsx(r("PolarisQPManager.react"),{filter:S,slot:o("PolarisQPConstants").SLOTS.feed,WrapperComponent:r("PolarisFeedQPWrapper.react")}),t[3]=i,t[4]=f,t[5]=g,t[6]=h,t[7]=y,t[8]=C}else C=t[8];return C}l.default=m}),98);
__d("PolarisSidebarSectionHeader.react",["IGDSBox.react","IGDSTextVariants.react","PolarisIGCoreButton.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(15),n=e.headerText,a=e.linkTo,i=e.onClick,l=e.placeholder,u=e.secondaryText,c=r("gkx")("20434")===!0,d;t[0]!==n?(d=s.jsx(r("IGDSBox.react"),{alignItems:"start",flex:"grow",position:"relative",children:s.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{color:c?"primaryText":"secondaryText",children:n})}),t[0]=n,t[1]=d):d=t[1];var m;t[2]!==a||t[3]!==l||t[4]!==u?(m=a&&!!u&&l===!0&&s.jsx(o("IGDSTextVariants.react").IGDSTextBody2,{color:"secondaryText",children:u}),t[2]=a,t[3]=l,t[4]=u,t[5]=m):m=t[5];var p;t[6]!==a||t[7]!==i||t[8]!==l||t[9]!==u?(p=a&&!!u&&l!==!0&&s.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",disabled:!!l,href:a,onClick:i,children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody2Emphasized,{children:u})}),t[6]=a,t[7]=i,t[8]=l,t[9]=u,t[10]=p):p=t[10];var _;return t[11]!==d||t[12]!==m||t[13]!==p?(_=s.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",paddingX:4,paddingY:1,position:"relative",children:[d,m,p]}),t[11]=d,t[12]=m,t[13]=p,t[14]=_):_=t[14],_}l.default=u}),98);
__d("PolarisFeedSidebarSuggestedUserListHeaderAndMargin.react",["IGDSBox.react","PolarisRoutes","PolarisSidebarSectionHeader.react","PolarisSuggestedUserList.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.familiarFeed,i=e.hasHeaderPlaceholder,l;t[0]!==a?(l={0:{className:"x78zum5 xdt5ytf xdj266r x14z9mp xod5an3 x162z183 x1j7kr1c"},1:{className:"x78zum5 xdt5ytf xdj266r x14z9mp xod5an3 x162z183 x1j7kr1c xvbhtw8"}}[!!a<<0],t[0]=a,t[1]=l):l=t[1];var u;t[2]!==i?(u=s.jsx(r("PolarisSidebarSectionHeader.react"),{headerText:o("PolarisSuggestedUserList.react").HEADER_TEXT,linkTo:o("PolarisRoutes").DISCOVER_PEOPLE_PATH,placeholder:i,secondaryText:o("PolarisSuggestedUserList.react").SEE_ALL_TEXT}),t[2]=i,t[3]=u):u=t[3];var c;t[4]!==n?(c=s.jsx(r("IGDSBox.react"),{marginBottom:1,marginStart:1,position:"relative",children:n}),t[4]=n,t[5]=c):c=t[5];var d;return t[6]!==l||t[7]!==u||t[8]!==c?(d=s.jsxs("div",babelHelpers.extends({},l,{children:[u,c]})),t[6]=l,t[7]=u,t[8]=c,t[9]=d):d=t[9],d}l.default=u}),98);
__d("PolarisFeedSidebarSuggestedUserList.react",["PolarisConnectionsLogger","PolarisFeedSidebarSuggestedUserListHeaderAndMargin.react","PolarisSuggestedUserList.next.react","PolarisUA","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.familiarFeed,a=e.isFeedSidebarSULRedesignEnabled,i=e.queryRef,l=e.viewModule,u=a===void 0?!1:a,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=o("PolarisUA").isDesktop()&&r("gkx")("13980")===!0,t[0]=c):c=t[0];var d=c,m;t[1]!==u||t[2]!==i||t[3]!==l?(m=s.jsx(r("PolarisSuggestedUserList.next.react"),{analyticsContext:o("PolarisConnectionsLogger").CONNECTIONS_CONTAINER_MODULES.feed_timeline,avatarSize:"medium",borderlessFollowButton:!d,hideName:!0,queryRef:i,shouldShowFacepile:u,showFullNameAsTitle:u,viewModule:l}),t[1]=u,t[2]=i,t[3]=l,t[4]=m):m=t[4];var p;return t[5]!==n||t[6]!==m?(p=s.jsx(r("PolarisFeedSidebarSuggestedUserListHeaderAndMargin.react"),{familiarFeed:n,hasHeaderPlaceholder:!1,children:m}),t[5]=n,t[6]=m,t[7]=p):p=t[7],p}l.default=u}),98);
__d("PolarisSidebarUserSummary.react",["IGDSBox.react","IGDSButton.react","IGDSListItem.react","IGDSTextVariants.react","IGDSVerifiedBadge.react","PolarisAccountSwitcherActions","PolarisAuthStrings","PolarisFastLink.react","PolarisIGCoreConstants","PolarisIsLoggedIn","PolarisLinkBuilder","PolarisReactRedux.react","PolarisRoutes","PolarisUserAvatarWithStories.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={button:{fontSize:"x1fhwpqd",$$css:!0}};function c(){var e=o("react-compiler-runtime").c(2),t=o("PolarisReactRedux.react").useDispatch();if(!o("PolarisIsLoggedIn").isLoggedIn())return null;var n;if(e[0]!==t){var a=function(){t(o("PolarisAccountSwitcherActions").openAccountSwitcher({next:o("PolarisRoutes").FEED_PATH,source:"feed_sidebar"}))};n=s.jsx(r("IGDSButton.react"),{label:o("PolarisAuthStrings").SWITCH_CTA_TEXT,onClick:a,variant:"primary_link",xstyle:u.button}),e[0]=t,e[1]=n}else n=e[1];return n}function d(e){var t=o("react-compiler-runtime").c(21),n=e.isVerified,a=e.name,i=e.profilePictureUrl,l=e.username,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(c,{}),t[0]=u):u=t[0];var d;t[1]!==i||t[2]!==l?(d=s.jsx(r("PolarisUserAvatarWithStories.react"),{isLink:!0,profilePictureUrl:i,size:r("PolarisIGCoreConstants").AVATAR_SIZES.medium,storyEntrypoint:"reel_feed_timeline",username:l}),t[1]=i,t[2]=l,t[3]=d):d=t[3];var m;t[4]!==a?(m=a!==""?s.jsx(r("IGDSBox.react"),{flex:"grow",marginStart:0,children:s.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"secondaryText",children:a})}):null,t[4]=a,t[5]=m):m=t[5];var p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p="x5n08af xwhw2v2 x6ikm8r x10wlt62 xlyipyv x9n4tj2",t[6]=p):p=t[6];var _;t[7]!==l?(_=o("PolarisLinkBuilder").buildUserLink(l),t[7]=l,t[8]=_):_=t[8];var f;t[9]!==_||t[10]!==l?(f=s.jsx(r("PolarisFastLink.react"),{className:p,href:_,children:l}),t[9]=_,t[10]=l,t[11]=f):f=t[11];var g;t[12]!==n?(g=n&&s.jsx(r("IGDSBox.react"),{display:"inlineBlock",marginStart:1,children:s.jsx(r("IGDSVerifiedBadge.react"),{})}),t[12]=n,t[13]=g):g=t[13];var h;t[14]!==f||t[15]!==g?(h=s.jsxs(r("IGDSBox.react"),{direction:"row",flex:"grow",marginStart:0,children:[f,g]}),t[14]=f,t[15]=g,t[16]=h):h=t[16];var y;return t[17]!==d||t[18]!==m||t[19]!==h?(y=s.jsx(r("IGDSBox.react"),{"data-testid":void 0,marginEnd:1,width:"100%",children:s.jsx(r("IGDSListItem.react"),{addOnEnd:u,addOnStart:d,paddingX:0,paddingY:0,subtitle:m,title:h})}),t[17]=d,t[18]=m,t[19]=h,t[20]=y):y=t[20],y}l.default=d}),98);
__d("PolarisFeedSidebarRelay.react",["IGDSBox.react","PolarisConnectionsLogger","PolarisFeedSidebarLayout.react","PolarisFeedSidebarSuggestedUserList.react","PolarisFooter.react","PolarisSidebarUserSummary.react","gkx","react","react-compiler-runtime","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4;function c(e){var t=o("react-compiler-runtime").c(12),n=e.suggestedUserListQueryRef,a=r("usePolarisViewer")(),i;t[0]!==a?(i=a!=null?a:{},t[0]=a,t[1]=i):i=t[1];var l=i,c=l.fullName,d=l.profilePictureUrl,m=l.username;if(c==null||d==null||m==null)return null;var p=r("gkx")("20433")===!0,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("PolarisFooter.react"),{variant:"sidebar"}),t[2]=_):_=t[2];var f;t[3]!==c||t[4]!==d||t[5]!==m?(f=s.jsx(r("IGDSBox.react"),{paddingX:u,children:s.jsx(r("PolarisSidebarUserSummary.react"),{isVerified:!1,name:c,profilePictureUrl:d,username:m})}),t[3]=c,t[4]=d,t[5]=m,t[6]=f):f=t[6];var g;t[7]!==n?(g=s.jsx(r("IGDSBox.react"),{marginEnd:u,marginStart:u,children:s.jsx(r("PolarisFeedSidebarSuggestedUserList.react"),{familiarFeed:!0,isFeedSidebarSULRedesignEnabled:p,queryRef:n,viewModule:o("PolarisConnectionsLogger").VIEW_MODULES.desktop_feed})}),t[7]=n,t[8]=g):g=t[8];var h;return t[9]!==f||t[10]!==g?(h=s.jsx(r("PolarisFeedSidebarLayout.react"),{footer:_,header:f,suggestedUserList:g}),t[9]=f,t[10]=g,t[11]=h):h=t[11],h}l.default=c}),98);
__d("PolarisFeedSidebarWrapper.react",["cr:7874","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r=e.suggestedUserListQueryRef;if(n("cr:7874")!=null&&r!=null){var a;return t[0]!==r?(a=s.jsx(n("cr:7874"),{suggestedUserListQueryRef:r}),t[0]=r,t[1]=a):a=t[1],a}return null}l.default=u}),98);
__d("PolarisStoriesV3SUFollowButton.react",["fbt","FBLogger","IGDSSpinner.react","IGDSUserFollowPanoOutline24Icon.svg.react","IGDSUserFollowingPanoOutline24Icon.svg.react","PolarisConnectionsLogger","react","react-compiler-runtime","useIGDSToaster","usePolarisFollowMutation","usePolarisUnfollowMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p=s._(/*BTDS*/"\ud314\ub85c\uc6b0 \uc694\uccad\uc744 \ubcf4\ub0c8\uc2b5\ub2c8\ub2e4");function _(e){var t=o("react-compiler-runtime").c(19),n=e.isPrivate,a=e.onUserFollowed,i=e.trayPosition,l=e.userId,c=e.username,d=e.uuid,_=m(!1),g=_[0],h=_[1],y=r("usePolarisFollowMutation")(),C=y[0],b=y[1],v=r("usePolarisUnfollowMutation")(),S=v[0],R=v[1],L=r("useIGDSToaster")(),E=L.add,k;t[0]!==E||t[1]!==C||t[2]!==g||t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==S||t[7]!==l||t[8]!==c||t[9]!==d?(k=function(){l!=null&&(g?(S({container_module:"feed_timeline",target_user_id:l}),h(!1),o("PolarisConnectionsLogger").logConnectionAction({containerModule:"feed_timeline",eventName:"unfollow_button_tapped",followImpressionId:d,position:i,targetId:l})):C({container_module:"feed_timeline",target_user_id:l}).then(function(){h(!0);var e=n?p:s._(/*BTDS*/"{username}\ub2d8\uc744 \ud314\ub85c\uc6b0\ud569\ub2c8\ub2e4",[s._param("username",c)]);E({message:e}),a==null||a(l),o("PolarisConnectionsLogger").logConnectionAction({containerModule:"feed_timeline",eventName:"follow_button_tapped",followImpressionId:d,position:i,targetId:l})}).catch(f))},t[0]=E,t[1]=C,t[2]=g,t[3]=n,t[4]=a,t[5]=i,t[6]=S,t[7]=l,t[8]=c,t[9]=d,t[10]=k):k=t[10];var I=k,T=b||R,D=g?"Unfollow":"Follow",x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x6s0dn4 x7r02ix xbjudin xnlwouz xpp8er5 xs9wviy x1ejq31n x18oe1m7 x1sy0etr xstzfhl xjnlgov x1mh2kpm x78zum5 x1gnnpzl xbudbmw xeecrea x10l6tqk x10h3iyq x6bg8ru x4gyw5p x19kf12q xcum6zn"},t[11]=x):x=t[11];var $;t[12]!==g||t[13]!==T?($=T?u.jsx("div",{className:"x6s0dn4 x5n08af x78zum5 xlup9mm xl56j7k xh8yej3",children:u.jsx(r("IGDSSpinner.react"),{size:"small"})}):g?u.jsx("div",{className:"x6s0dn4 x5n08af x78zum5 xlup9mm xl56j7k xh8yej3",children:u.jsx(r("IGDSUserFollowingPanoOutline24Icon.svg.react"),{})}):u.jsx("div",{className:"x6s0dn4 x5n08af x78zum5 xlup9mm xl56j7k xh8yej3",children:u.jsx(r("IGDSUserFollowPanoOutline24Icon.svg.react"),{})}),t[12]=g,t[13]=T,t[14]=$):$=t[14];var P;return t[15]!==I||t[16]!==D||t[17]!==$?(P=u.jsx("button",babelHelpers.extends({"aria-label":D,onClick:I,type:"button"},x,{children:$})),t[15]=I,t[16]=D,t[17]=$,t[18]=P):P=t[18],P}function f(e){r("FBLogger")("polaris").mustfix("Follow user failed: "+String(e))}l.default=_}),226);
__d("PolarisStoriesV3TrayContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({hasMyReel:!1,newReelCount:0,seenReelCount:0,traySessionId:""});l.default=u}),98);
__d("PolarisStoriesV3TrayItemErrorBoundary.react",["CometErrorBoundary.react","IGDSGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={circle:{borderTopColor:"x1o0lnaz",borderInlineEndColor:"xcehec9",borderBottomColor:"xnilrbp",borderInlineStartColor:"x9cr5x2",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",height:"x1x0gksc",width:"xeepkih",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n=e.children,a;return t[0]!==n?(a=s.jsx(r("CometErrorBoundary.react"),{fallback:d,children:n}),t[0]=n,t[1]=a):a=t[1],a}function d(){return s.jsx("div",{className:"x6s0dn4 x78zum5 xl56j7k",children:s.jsx(r("IGDSGlimmer.react"),{index:0,xstyle:u.circle})})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("PolarisStoriesV3TrayItem_broadcast.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayItem_broadcast",selections:[{args:null,kind:"FragmentSpread",name:"PolarisUserAvatarWithStories_broadcast"}],type:"XDTBroadcast",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3TrayItem_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayItem_user",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisUserAvatarWithStories_user"}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3WearablesBadge.react",["IGDSGlassesOutline24Icon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 xcc4xuu x1pn9sc x1iuaags x4w72qb x1eg8fmh x103v00w xm7potz x3iho3n xvwgecq x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xamhcws x1alpsbp xlxy82 xyumdvf x1wa3icf x78zum5 xxk0z11 xceh6e4 xl56j7k x10l6tqk xvy4d1p",children:s.jsx(r("IGDSGlassesOutline24Icon.react"),{alt:"",color:"ig-stroke-on-media",size:16})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("PolarisStoriesV3TrayItem.react",["CometPressable.react","CometRelay","IGDSTextVariants.react","PolarisStoriesV3TrayItem_broadcast.graphql","PolarisStoriesV3TrayItem_user.graphql","PolarisStoriesV3WearablesBadge.react","PolarisStoryStrings","PolarisUA","PolarisUserAvatarWithStories.next.react","react","react-compiler-runtime","shouldUseIGDSPrismStoriesTray","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=56,m=74,p={mobilePadding:{paddingTop:"xexx8yu",paddingInlineEnd:"x11lfxj5",paddingBottom:"x18d9i69",paddingInlineStart:"x135b78x",$$css:!0},mobilePaddingPrism:{paddingTop:"xexx8yu",paddingInlineEnd:"x1icxu4v",paddingBottom:"x18d9i69",paddingInlineStart:"x25sj25",$$css:!0},muted:{opacity:"xbyyjgo",$$css:!0},pressable:{":active_transform":"x51sbo7",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},userAvatar:{cursor:"x1ypdohk",$$css:!0},userAvatarMobilePrism:{cursor:"x1ypdohk",paddingBottom:"x10b6aqq",$$css:!0}};function _(t){var a=o("react-compiler-runtime").c(34),i=t.broadcast,l=t.isLive,u=t.isLoading,_=t.isMuted,f=t.isSeen,g=t.label,h=t.onClick,y=t.onHoverIn,C=t.onPressIn,b=t.onVisible,v=t.showWearablesBadge,S=t.user,R=l===void 0?!1:l,L=u===void 0?!1:u,E=v===void 0?!1:v,k=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayItem_user.graphql"),S),I=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisStoriesV3TrayItem_broadcast.graphql"),i),T=k.username,D;a[0]!==f||a[1]!==T?(D=f?o("PolarisStoryStrings").seenStoryTrayItemAriaLabel(T):o("PolarisStoryStrings").unseenStoryTrayItemAriaLabel(T),a[0]=f,a[1]=T,a[2]=D):D=a[2];var x=D,$;a[3]!==b?($={onImpressionStart:b},a[3]=b,a[4]=$):$=a[4];var P=r("useSinglePartialViewImpression")($),N;a[5]===Symbol.for("react.memo_cache_sentinel")?(N=r("shouldUseIGDSPrismStoriesTray")(),a[5]=N):N=a[5];var M=N,w;a[6]===Symbol.for("react.memo_cache_sentinel")?(w=o("PolarisUA").isMobile()&&(M?p.mobilePaddingPrism:p.mobilePadding),a[6]=w):w=a[6];var A=_===!0&&p.muted,F;a[7]!==A?(F=[p.root,M&&p.pressable,w,A],a[7]=A,a[8]=F):F=a[8];var O,B;a[9]===Symbol.for("react.memo_cache_sentinel")?(O={className:"x1n2onr6"},B={className:"x6s0dn4 x78zum5 xl56j7k x1iorvi4 xf159sx xwib8y2 xmzvs34"},a[9]=O,a[10]=B):(O=a[9],B=a[10]);var W;a[11]!==I||a[12]!==R||a[13]!==L||a[14]!==k?(W=c.jsx("div",babelHelpers.extends({},B,{children:c.jsx(r("PolarisUserAvatarWithStories.next.react"),{animateOnLoad:!0,broadcast:I,entrypoint:"reel_feed_timeline",isClickable:!1,isLoading:L,showLivePulse:R,size:M?m:d,user:k,xstyle:o("PolarisUA").isMobile()&&M?p.userAvatarMobilePrism:p.userAvatar})})),a[11]=I,a[12]=R,a[13]=L,a[14]=k,a[15]=W):W=a[15];var q;a[16]!==E?(q=E&&c.jsx(r("PolarisStoriesV3WearablesBadge.react"),{}),a[16]=E,a[17]=q):q=a[17];var U;a[18]!==W||a[19]!==q?(U=c.jsxs("div",babelHelpers.extends({},O,{children:[W,q]})),a[18]=W,a[19]=q,a[20]=U):U=a[20];var V;a[21]===Symbol.for("react.memo_cache_sentinel")?(V={className:"x4e6jrt"},a[21]=V):V=a[21];var H=f?"secondaryText":"primaryText",G;a[22]!==g||a[23]!==H?(G=c.jsx("div",babelHelpers.extends({},V,{children:c.jsx(o("IGDSTextVariants.react").IGDSTextFootnote,{color:H,maxLines:1,zeroMargin:!0,children:g})})),a[22]=g,a[23]=H,a[24]=G):G=a[24];var z;return a[25]!==x||a[26]!==h||a[27]!==y||a[28]!==C||a[29]!==P||a[30]!==U||a[31]!==G||a[32]!==F?(z=c.jsxs(r("CometPressable.react"),{"aria-label":x,onHoverIn:y,onPress:h,onPressIn:C,overlayDisabled:!0,ref:P,testid:void 0,xstyle:F,children:[U,G]}),a[25]=x,a[26]=h,a[27]=y,a[28]=C,a[29]=P,a[30]=U,a[31]=G,a[32]=F,a[33]=z):z=a[33],z}l.default=_}),98);
__d("PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayLiveItemLabel_broadcast",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"broadcast_owner",plural:!1,selections:[e],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"cobroadcasters",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"XDTBroadcast",abstractKey:null}})();a.exports=e}),null);
__d("PolarisStoriesV3TrayLiveItemLabel.react",["fbt","CometRelay","PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var r=o("react-compiler-runtime").c(9),a=t.broadcast,i=t.isBroadcastOwnerPrimaryDisplay,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayLiveItemLabel_broadcast.graphql"),a),u=l.broadcast_owner,d=u.username,m;if(r[0]!==l.cobroadcasters){var p;m=(p=l.cobroadcasters)!=null?p:[],r[0]=l.cobroadcasters,r[1]=m}else m=r[1];var _=m;if(_.length===0)return d;var f=i?d:_[0].username,g;r[2]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 xl56j7k"},r[2]=g):g=r[2];var h;if(r[3]!==_.length||r[4]!==f){var y;r[6]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft x2lah0s x2fvf9 xo92w5m"},r[6]=y):y=r[6];var C;r[7]!==f?(C=c.jsx("div",babelHelpers.extends({},y,{children:f})),r[7]=f,r[8]=C):C=r[8],h=c.jsx("div",babelHelpers.extends({},g,{children:s._(/*BTDS*/"{username}\ub2d8 \uc678 {=m2}\uba85",[s._param("username",C),s._implicitParam("=m2",c.jsx("div",{className:"x6ikm8r x10wlt62 xlyipyv xuxw1ft xdwrcjd",children:s._(/*BTDS*/"{cobroadcasters_count}",[s._param("cobroadcasters_count",_.length)])}))])})),r[3]=_.length,r[4]=f,r[5]=h}else h=r[5];return h}l.default=d}),226);
__d("PolarisStoriesV3TrayLiveItem_broadcast.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_user"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayLiveItem_broadcast",selections:[{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"broadcast_owner",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"following",storageKey:null}],storageKey:null},e],storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"cobroadcasters",plural:!0,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_broadcast"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayLiveItemLabel_broadcast"}],type:"XDTBroadcast",abstractKey:null}})();a.exports=e}),null);
__d("ReelTrayImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5526"),s=o("FalcoLoggerInternal").create("reel_tray_impression",e),u=s;l.default=u}),98);
__d("PolarisStoriesV3TrayLiveItem.react",["CometRelay","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItem.react","PolarisStoriesV3TrayLiveItemLabel.react","PolarisStoriesV3TrayLiveItem_broadcast.graphql","ReelPlaybackEntryFalcoEvent","ReelTrayImpressionFalcoEvent","XPolarisProfileLiveControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useState;function p(t){var a,i=o("react-compiler-runtime").c(31),l=t.broadcast,s=t.trayPosition,c=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayLiveItem_broadcast.graphql"),l),p=c.broadcast_owner,_=c.muted,f;if(i[0]!==c.cobroadcasters){var g;f=(g=c.cobroadcasters)!=null?g:[],i[0]=c.cobroadcasters,i[1]=f}else f=i[1];var h=f,y=((a=p.friendship_status)==null?void 0:a.following)===!0,C;i[2]!==c||i[3]!==y?(C=u.jsx(r("PolarisStoriesV3TrayLiveItemLabel.react"),{broadcast:c,isBroadcastOwnerPrimaryDisplay:y}),i[2]=c,i[3]=y,i[4]=C):C=i[4];var b=C,v=d(r("PolarisStoriesV3TrayContext")),S=v.hasMyReel,R=v.newReelCount,L=v.seenReelCount,E=v.traySessionId,k;i[5]!==p.pk||i[6]!==h||i[7]!==S||i[8]!==R||i[9]!==L||i[10]!==s||i[11]!==E?(k=function(){r("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:p.pk,has_my_reel:S?"1":"0",is_new_reel:"0",new_reel_count:R.toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:h.length>0?"live_with":"live",tray_position:s.toString(),tray_session_id:E,viewed_reel_count:L.toString()}})},i[5]=p.pk,i[6]=h,i[7]=S,i[8]=R,i[9]=L,i[10]=s,i[11]=E,i[12]=k):k=i[12];var I=k,T=r("useCometRouterDispatcher")(),D=m(!1),x=D[0],$=D[1],P;i[13]!==c||i[14]!==p.pk||i[15]!==p.username||i[16]!==T||i[17]!==S||i[18]!==R||i[19]!==L||i[20]!==s||i[21]!==E?(P=function(){$(!0),T==null||T.go(r("XPolarisProfileLiveControllerRouteBuilder").buildUri({username:p.username}).toString(),{onNavigate_DEPRECATED_FIXME:function(){r("ReelPlaybackEntryFalcoEvent").log(function(){var e=c.media_id,t=e!=null&&e.indexOf("_")>0?e.substring(0,e.indexOf("_")):e!=null?e:"";return{a_pk:p.pk,has_my_reel:S?"1":"0",is_audience_close_friend:!1,m_pk:t+"_"+p.pk,module_name:"live_feed_timeline",new_reel_count:R.toString(),reel_type:"live",tray_position:s.toString(),tray_session_id:E,viewed_reel_count:L.toString(),viewer_session_id:""}}),$(!1)}})},i[13]=c,i[14]=p.pk,i[15]=p.username,i[16]=T,i[17]=S,i[18]=R,i[19]=L,i[20]=s,i[21]=E,i[22]=P):P=i[22];var N=P,M=y||h.length===0?p:h[0],w=_===!0,A;return i[23]!==c||i[24]!==M||i[25]!==N||i[26]!==I||i[27]!==x||i[28]!==b||i[29]!==w?(A=u.jsx(r("PolarisStoriesV3TrayItem.react"),{broadcast:c,isLive:!0,isLoading:x,isMuted:w,isSeen:!1,label:b,onClick:N,onVisible:I,user:M}),i[23]=c,i[24]=M,i[25]=N,i[26]=I,i[27]=x,i[28]=b,i[29]=w,i[30]=A):A=i[30],A}l.default=p}),98);
__d("PolarisStoriesV3TrayOwnReelItem_reel.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayOwnReelItem_reel",selections:[{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayReelItem_reel"}],type:"XDTReelDict",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3TrayOwnReelItem_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayOwnReelItem_viewer",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayCreateStoryItem_viewer"}],type:"XDTViewer",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3TrayReelItem_reel.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayReelItem_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayItem_user"}],storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3IsReelSeen_reel"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3HasWearablesMedia_reel"}],type:"XDTReelDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisGetStoryTrayVariant",["PolarisDsaQEHelpers","PolarisStoryState","usePolarisFeedVariantFromRoute"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("usePolarisFeedVariantFromRoute")();return e==="following"&&o("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled()?o("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING:o("PolarisStoryState").PolarisStoryTrayVariants.HOME}l.default=e}),98);
__d("getPolarisStoriesV3HasWearablesMedia_reel.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"getPolarisStoriesV3HasWearablesMedia_reel"};a.exports=e}),null);
__d("getPolarisStoriesV3HasWearablesMedia",["CometRelay","getPolarisStoriesV3HasWearablesMedia_reel.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){var a,i,l;r===void 0&&(r=!1);var s=o("CometRelay").readInlineData(e!==void 0?e:e=n("getPolarisStoriesV3HasWearablesMedia_reel.graphql"),t),u=Number((a=s.latest_besties_reel_media)!=null?a:0),c=Number((i=s.latest_wearables_reel_media_long)!=null?i:0),d=Number((l=s.seen)!=null?l:0),m=d<u,p=d<c,_=!r&&c>0&&p&&!m;return _}l.default=s}),98);
__d("usePolarisStoriesV3HasWearablesMedia_reel.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3HasWearablesMedia_reel",selections:[{kind:"InlineDataFragmentSpread",name:"getPolarisStoriesV3HasWearablesMedia_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"latest_besties_reel_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"latest_wearables_reel_media_long",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen",storageKey:null}],args:null,argumentDefinitions:[]}],type:"XDTReelDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3HasWearablesMedia",["CometRelay","getPolarisStoriesV3HasWearablesMedia","react-compiler-runtime","usePolarisStoriesV3HasWearablesMedia_reel.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i=o("react-compiler-runtime").c(3),l=a===void 0?!1:a,s=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3HasWearablesMedia_reel.graphql"),t),u;return i[0]!==l||i[1]!==s?(u=r("getPolarisStoriesV3HasWearablesMedia")(s,l),i[0]=l,i[1]=s,i[2]=u):u=i[2],u}l.default=s}),98);
__d("PolarisStoriesV3TrayReelItem.react",["CometRelay","PolarisDsaQEHelpers","PolarisStoriesStrings","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItem.react","PolarisStoriesV3TrayReelItem_reel.graphql","PolarisStoryState","PolarisUA","ReelTrayImpressionFalcoEvent","polarisLogAction","qex","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisGetStoryTrayVariant","usePolarisStoriesV3HasWearablesMedia","usePolarisStoriesV3IsReelSeen","usePolarisStoriesV3UserReelRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(4),n=r("useCometRouterDispatcher")(),a=r("usePolarisStoriesV3UserReelRouteBuilder")(),i;return t[0]!==a||t[1]!==n||t[2]!==e?(i=function(){n==null||n.preloadRouteCode(a(e))},t[0]=a,t[1]=n,t[2]=e,t[3]=i):i=t[3],i}function _(t){var a=o("react-compiler-runtime").c(38),i=t.isViewer,l=t.onClick,s=t.onPressIn,c=t.reel,_=t.trayPosition,f=i===void 0?!1:i,g=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayReelItem_reel.graphql"),c),h=g.id,y=g.muted,C=g.user,b=C.pk,v=C.username,S=r("usePolarisStoriesV3IsReelSeen")(g),R=r("usePolarisStoriesV3HasWearablesMedia")(g,f),L;if(a[0]!==R){var E;L=R&&((E=r("qex")._("4279"))!=null?E:!1),a[0]=R,a[1]=L}else L=a[1];var k=L,I=r("usePolarisGetStoryTrayVariant")(),T=m(!1),D=T[0],x=T[1],$=y===!0,P;a[2]!==h||a[3]!==S||a[4]!==$||a[5]!==v?(P={id:h,isMuted:$,isSeen:S,username:v},a[2]=h,a[3]=S,a[4]=$,a[5]=v,a[6]=P):P=a[6];var N=P,M=p(v),w;a[7]!==M?(w=function(){M()},a[7]=M,a[8]=w):w=a[8];var A=w,F;a[9]!==s||a[10]!==M||a[11]!==N?(F=function(){o("PolarisUA").isMobile()&&M(),s==null||s(N)},a[9]=s,a[10]=M,a[11]=N,a[12]=F):F=a[12];var O=F,B;a[13]!==l||a[14]!==N||a[15]!==I||a[16]!==_?(B=function(){x(!0),l==null||l(N,function(){return x(!1)}),o("PolarisDsaQEHelpers").hasNonProfiledExperienceEnabled()&&r("polarisLogAction")("reelPlaybackEntryDsaFeed",{implementation:"relay",reel_position:_,source:I===o("PolarisStoryState").PolarisStoryTrayVariants.HOME?"default":"non_profiled"})},a[13]=l,a[14]=N,a[15]=I,a[16]=_,a[17]=B):B=a[17];var W=B,q=d(r("PolarisStoriesV3TrayContext")),U=q.hasMyReel,V=q.newReelCount,H=q.seenReelCount,G=q.traySessionId,z;a[18]!==U||a[19]!==S||a[20]!==V||a[21]!==b||a[22]!==H||a[23]!==k||a[24]!==_||a[25]!==G?(z=function(){r("ReelTrayImpressionFalcoEvent").log(function(){return{a_pk:b,has_my_reel:U?"1":"0",has_wearable_badge:k,is_new_reel:S?"0":"1",new_reel_count:V.toString(),pigeon_reserved_keyword_module:"reel_feed_timeline",reel_type:"story",tray_position:_.toString(),tray_session_id:G,viewed_reel_count:H.toString()}})},a[18]=U,a[19]=S,a[20]=V,a[21]=b,a[22]=H,a[23]=k,a[24]=_,a[25]=G,a[26]=z):z=a[26];var j=z,K=f?o("PolarisStoriesStrings").YOUR_STORY_TEXT:v,Q=y===!0,X;return a[27]!==W||a[28]!==A||a[29]!==O||a[30]!==j||a[31]!==D||a[32]!==S||a[33]!==K||a[34]!==k||a[35]!==Q||a[36]!==C?(X=u.jsx(r("PolarisStoriesV3TrayItem.react"),{isLoading:D,isMuted:Q,isSeen:S,label:K,onClick:W,onHoverIn:A,onPressIn:O,onVisible:j,showWearablesBadge:k,user:C}),a[27]=W,a[28]=A,a[29]=O,a[30]=j,a[31]=D,a[32]=S,a[33]=K,a[34]=k,a[35]=Q,a[36]=C,a[37]=X):X=a[37],X}l.default=_}),98);
__d("PolarisStoriesV3TrayOwnReelItem.react",["CometRelay","PolarisStoriesV3TrayOwnReelItem_reel.graphql","PolarisStoriesV3TrayOwnReelItem_viewer.graphql","PolarisStoriesV3TrayReelItem.react","cr:79","react","react-compiler-runtime","usePolarisStoriesV3OpenUserReel"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(8),i=t.reel,l=t.trayPosition,u=t.viewer,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayOwnReelItem_reel.graphql"),i),m=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisStoriesV3TrayOwnReelItem_viewer.graphql"),u),p=r("usePolarisStoriesV3OpenUserReel")(m.user.username,"reel_feed_timeline");if(d==null){var _;return a[0]!==m?(_=n("cr:79")!=null?c.jsx(n("cr:79"),{viewer:m}):null,a[0]=m,a[1]=_):_=a[1],_}var f;a[2]!==p?(f=function(t,n){return p(n)},a[2]=p,a[3]=f):f=a[3];var g=f,h;return a[4]!==g||a[5]!==d||a[6]!==l?(h=c.jsx(r("PolarisStoriesV3TrayReelItem.react"),{isViewer:!0,onClick:g,reel:d,trayPosition:l}),a[4]=g,a[5]=d,a[6]=l,a[7]=h):h=a[7],h}l.default=d}),98);
__d("PolarisStoriesV3TraySuggestedUserItem_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TraySuggestedUserItem_user",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3TraySuggestedUserItem.react",["CometRelay","IGDSTextVariants.react","PolarisConnectionsLogger","PolarisFastLink.react","PolarisLinkBuilder","PolarisStoriesV3SUFollowButton.react","PolarisStoriesV3TraySuggestedUserItem_user.graphql","PolarisUA","PolarisUserAvatar.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=s||(s=r("react")),m=c.useCallback,p=c.useEffect,_=74,f={container:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",position:"x1n2onr6",$$css:!0},mobilePadding:{paddingTop:"xexx8yu",paddingInlineEnd:"x1icxu4v",paddingBottom:"x18d9i69",paddingInlineStart:"x25sj25",$$css:!0},pressable:{":active_opacity":"x4gyw5p",":active_transform":"x51sbo7",$$css:!0}};function g(t){var a,i,l,s,u,c=o("react-compiler-runtime").c(35),m=t.onUserFollowed,g=t.trayPosition,h=t.user,y=t.uuid,C=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TraySuggestedUserItem_user.graphql"),h),b,v;c[0]!==g||c[1]!==C.id||c[2]!==y?(b=function(){o("PolarisConnectionsLogger").logConnectionAction({containerModule:"feed_timeline",eventName:"recommended_user_impression",followImpressionId:y,position:g,targetId:C.id})},v=[y,g,C.id],c[0]=g,c[1]=C.id,c[2]=y,c[3]=b,c[4]=v):(b=c[3],v=c[4]),p(b,v);var S;c[5]!==g||c[6]!==C.id||c[7]!==y?(S=function(){o("PolarisConnectionsLogger").logConnectionAction({containerModule:"feed_timeline",eventName:"recommended_username_tapped",followImpressionId:y,position:g,targetId:C.id})},c[5]=g,c[6]=C.id,c[7]=y,c[8]=S):S=c[8];var R=S,L;c[9]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1n2onr6"},c[9]=L):L=c[9];var E=(a=C.username)!=null?a:"",k;c[10]!==E?(k=o("PolarisLinkBuilder").buildUserLink(E),c[10]=E,c[11]=k):k=c[11];var I,T;c[12]===Symbol.for("react.memo_cache_sentinel")?(I=[f.container,f.pressable,o("PolarisUA").isMobile()&&f.mobilePadding],T={0:{className:"x6s0dn4 x78zum5 xl56j7k x1iorvi4 xf159sx xwib8y2 xmzvs34"},1:{className:"x6s0dn4 x78zum5 xl56j7k x1iorvi4 xf159sx xmzvs34 x1ypdohk xsag5q8"}}[!!o("PolarisUA").isMobile()<<0],c[12]=I,c[13]=T):(I=c[12],T=c[13]);var D=(i=C.profile_pic_url)!=null?i:"",x=(l=C.username)!=null?l:"",$;c[14]!==x||c[15]!==D?($=d.jsx("div",babelHelpers.extends({},T,{children:d.jsx(r("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:D,size:_,username:x})})),c[14]=x,c[15]=D,c[16]=$):$=c[16];var P;c[17]===Symbol.for("react.memo_cache_sentinel")?(P={className:"x4e6jrt"},c[17]=P):P=c[17];var N;c[18]!==C.username?(N=d.jsx("div",babelHelpers.extends({},P,{children:d.jsx(o("IGDSTextVariants.react").IGDSTextFootnote,{maxLines:1,zeroMargin:!0,children:C.username})})),c[18]=C.username,c[19]=N):N=c[19];var M;c[20]!==R||c[21]!==$||c[22]!==N||c[23]!==k?(M=d.jsxs(r("PolarisFastLink.react"),{href:k,onClick:R,xstyle:I,children:[$,N]}),c[20]=R,c[21]=$,c[22]=N,c[23]=k,c[24]=M):M=c[24];var w=(s=C.is_private)!=null?s:!1,A=(u=C.username)!=null?u:"",F;c[25]!==m||c[26]!==w||c[27]!==A||c[28]!==g||c[29]!==C.id||c[30]!==y?(F=d.jsx(r("PolarisStoriesV3SUFollowButton.react"),{isPrivate:w,onUserFollowed:m,trayPosition:g,userId:C.id,username:A,uuid:y}),c[25]=m,c[26]=w,c[27]=A,c[28]=g,c[29]=C.id,c[30]=y,c[31]=F):F=c[31];var O;return c[32]!==M||c[33]!==F?(O=d.jsxs("div",babelHelpers.extends({},L,{children:[M,F]})),c[32]=M,c[33]=F,c[34]=O):O=c[34],O}l.default=g}),98);
__d("PolarisStoriesV3Tray_suggestedUsers.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"suggestedUsersData"}],kind:"Fragment",metadata:null,name:"PolarisStoriesV3Tray_suggestedUsers",selections:[{alias:"ayml",args:[{kind:"Variable",name:"data",variableName:"suggestedUsersData"}],concreteType:"XDTStrictSuggestedUsersResponseV2",kind:"LinkedField",name:"xdt_api__v1__ayml__strict",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTSuggestedUsersGroupsV2",kind:"LinkedField",name:"groups",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTSuggestedUserItemV2",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TraySuggestedUserItem_user"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"uuid",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3Tray_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3Tray_tray",selections:[{alias:null,args:null,concreteType:"XDTBroadcast",kind:"LinkedField",name:"broadcasts",plural:!0,selections:[e,{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayLiveItem_broadcast"}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"reel_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayOwnReelItem_reel"},{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayReelItem_reel"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3AdsPoolPrefetch_reels"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3OpenFromTrayRelay_reels"}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayOnRefreshEffect_tray"}],type:"XDTMaterialTray",abstractKey:null}})();a.exports=e}),null);
__d("PolarisStoriesV3Tray_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3Tray_viewer",selections:[{args:null,kind:"FragmentSpread",name:"PolarisStoriesV3TrayOwnReelItem_viewer"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_viewer"}],type:"XDTViewer",abstractKey:null};a.exports=e}),null);
__d("prefetchPolarisStoriesV3Ads",["FBLogger","PolarisIGTheme.react","PolarisRelayEnvironment","PolarisStoriesV3AdsPool","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("PolarisStoriesV3AdsPool").getInstance();if(!(n.getRequestCount()>0))try{if(e.length===0)return;var a=r("PolarisRelayEnvironment");n.fetch(a,{adRequestIndex:0,entryPointIndex:0,isDarkMode:o("PolarisIGTheme.react").isDarkMode(),isPrefetch:!0,traySessionId:t,trayUserIds:e,viewerSessionId:t})}catch(e){r("FBLogger")("ig_web").catching(r("getErrorSafe")(e)).mustfix("Error prefetching story ads")}}l.default=e}),98);
__d("usePolarisStoriesV3AdsPoolPrefetch_reels.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"usePolarisStoriesV3AdsPoolPrefetch_reels",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],type:"XDTReelDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3AdsPoolPrefetch",["CometRelay","PolarisStoriesV3TrayContext","prefetchPolarisStoriesV3Ads","react","react-compiler-runtime","usePolarisStoriesV3AdsPoolPrefetch_reels.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext;function m(t){var a=o("react-compiler-runtime").c(5),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3AdsPoolPrefetch_reels.graphql"),t),l;a[0]!==i?(l=i.map(p),a[0]=i,a[1]=l):l=a[1];var s=l,u=d(r("PolarisStoriesV3TrayContext")),c=u.traySessionId,m;return a[2]!==c||a[3]!==s?(m=function(){r("prefetchPolarisStoriesV3Ads")(s,c)},a[2]=c,a[3]=s,a[4]=m):m=a[4],m}function p(e){return e.user.pk}l.default=m}),98);
__d("usePolarisStoriesV3OpenFromTrayRelay_reels.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"usePolarisStoriesV3OpenFromTrayRelay_reels",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"},e,{kind:"InlineDataFragmentSpread",name:"getPolarisStoriesV3IsReelSeen_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"seen",storageKey:null}],args:null,argumentDefinitions:[]}],type:"XDTReelDict",abstractKey:null}})();a.exports=e}),null);
__d("usePolarisStoriesV3OpenFromTrayRelay",["CometRelay","PolarisIGTheme.react","PolarisStoriesV3AdsPool","PolarisStoriesV3ContainerModule","PolarisStoriesV3TrayContext","getPolarisStoriesV3IsReelSeen","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisIsSmallScreen","usePolarisStoriesV3OpenFromTrayRelay_reels.graphql","usePolarisStoriesV3PrefetchUserReelsRouteDefinitionsEffect","usePolarisStoriesV3UserReelRouteBuilder","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.use,d=u.useRef;function m(){var e=o("react-compiler-runtime").c(6),t=o("PolarisIGTheme.react").useTheme(),n;e[0]!==t?(n=t.getTheme(),e[0]=t,e[1]=n):n=e[1];var a=n===o("PolarisIGTheme.react").IGTheme.Dark,i=o("CometRelay").useRelayEnvironment(),l=c(r("PolarisStoriesV3TrayContext")),s=l.traySessionId,u;return e[2]!==i||e[3]!==a||e[4]!==s?(u=function(t,n,o){var e=r("PolarisStoriesV3AdsPool").getInstance(),l=n.indexOf(t);e.shouldFetch(l,o)&&e.fetch(i,{adRequestIndex:l,entryPointIndex:l,isDarkMode:a,isPrefetch:!1,traySessionId:s,trayUserIds:n,viewerSessionId:o})},e[2]=i,e[3]=a,e[4]=s,e[5]=u):u=e[5],u}function p(t){var a=o("react-compiler-runtime").c(22),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3OpenFromTrayRelay_reels.graphql"),t),l;a[0]!==i?(l=i.map(f),a[0]=i,a[1]=l):l=a[1];var s=l;r("usePolarisStoriesV3PrefetchUserReelsRouteDefinitionsEffect")(s);var u=r("usePolarisIsSmallScreen")(),p=r("useCometRouterDispatcher")(),g=r("usePolarisStoriesV3UserReelRouteBuilder")(),h=c(r("PolarisStoriesV3TrayContext")),y=h.newReelCount,C=h.seenReelCount,b=h.traySessionId,v;a[2]!==i?(v=function(t){var e=t.id,n=t.isMuted,o=t.isSeen;return n?[e]:i.filter(function(e){return e.muted===!0?!1:o||!r("getPolarisStoriesV3IsReelSeen")(e)}).map(_)},a[2]=i,a[3]=v):v=a[3];var S=v,R=m(),L=d(),E=d(),k;a[4]!==g||a[5]!==p||a[6]!==S||a[7]!==u||a[8]!==R?(k=function(t){var e=t.id,n=t.username,o=S(t),a=r("uuidv4")();L.current=o,E.current=a,R(e,o,a);var i=g(n);p==null||p.prefetchRouteQueries(i,{passthroughProps:{isSmallScreen:u,reelIds:o}})},a[4]=g,a[5]=p,a[6]=S,a[7]=u,a[8]=R,a[9]=k):k=a[9];var I=k,T;a[10]!==g||a[11]!==p||a[12]!==S||a[13]!==u||a[14]!==y||a[15]!==R||a[16]!==C||a[17]!==b?(T=function(t,n){var e,o,a=t.username,i=(e=L.current)!=null?e:S(t),l=(o=E.current)!=null?o:r("uuidv4")();R(t.id,i,l);var s=g(a);p==null||p.go(s,{onNavigate_DEPRECATED_FIXME:n,passthroughProps:{isSmallScreen:u,loggingModule:r("PolarisStoriesV3ContainerModule").ReelFeedTimeline,reelIds:i,trayLoggingData:{newReelCount:y,traySessionId:b,viewedReelCount:C},viewerSessionId:l}})},a[10]=g,a[11]=p,a[12]=S,a[13]=u,a[14]=y,a[15]=R,a[16]=C,a[17]=b,a[18]=T):T=a[18];var D=T,x;return a[19]!==D||a[20]!==I?(x={onReelPress:D,onReelPressIn:I},a[19]=D,a[20]=I,a[21]=x):x=a[21],x}function _(e){return e.id}function f(e){return e.user.username}l.default=p}),98);
__d("usePolarisStoriesV3TrayHasViewerReel_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayHasViewerReel_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null}],storageKey:null},action:"THROW"}],type:"XDTMaterialTray",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TrayHasViewerReel_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayHasViewerReel_viewer",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"XDTViewer",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TrayHasViewerReel",["CometRelay","usePolarisStoriesV3TrayHasViewerReel_tray.graphql","usePolarisStoriesV3TrayHasViewerReel_viewer.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,r){var a,i,l=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3TrayHasViewerReel_tray.graphql"),t),u=o("CometRelay").useFragment(s!==void 0?s:s=n("usePolarisStoriesV3TrayHasViewerReel_viewer.graphql"),r);return l.tray.length>0&&((a=l.tray[0].user)==null?void 0:a.pk)===((i=u.user)==null?void 0:i.id)}l.default=u}),98);
__d("usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TrayOnRefreshEffect_tray",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"refresh_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"refresh_latency",storageKey:null}]}],type:"XDTMaterialTray",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TrayOnRefreshEffect",["CometRelay","react","react-compiler-runtime","usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useRef;function m(t,r){var a=o("react-compiler-runtime").c(5),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3TrayOnRefreshEffect_tray.graphql"),t),l=i.refresh_key,s=d(l),u,m;a[0]!==r||a[1]!==l||a[2]!==i.refresh_latency?(u=function(){l!=null&&l!==s.current&&(s.current=l,r(i.refresh_latency))},m=[r,l,i.refresh_latency],a[0]=r,a[1]=l,a[2]=i.refresh_latency,a[3]=u,a[4]=m):(u=a[3],m=a[4]),c(u,m)}l.default=m}),98);
__d("PolarisStoriesV3Tray.react",["CometRelay","PolarisFeedPageConstants","PolarisIGVirtualList.react","PolarisLoggerUtils","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayItemErrorBoundary.react","PolarisStoriesV3TrayLiveItem.react","PolarisStoriesV3TrayOwnReelItem.react","PolarisStoriesV3TrayReelItem.react","PolarisStoriesV3TraySuggestedUserItem.react","PolarisStoriesV3Tray_suggestedUsers.graphql","PolarisStoriesV3Tray_tray.graphql","PolarisStoriesV3Tray_viewer.graphql","PolarisStoryState","PolarisUA","PolarisVirtualHSnapScroll.react","ReelTrayRefreshFalcoEvent","ReelType","react","react-compiler-runtime","shouldShowStorySUPogs","shouldUseIGDSPrismStoriesTray","stylex","useMatchViewport","usePolarisGetStoryTrayVariant","usePolarisStoriesV3AdsPoolPrefetch","usePolarisStoriesV3OpenFromTrayRelay","usePolarisStoriesV3TrayHasViewerReel","usePolarisStoriesV3TrayOnRefreshEffect"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useContext,g=p.useEffect,h=p.useMemo,y=p.useRef,C=p.useState,b=80,v=104,S=4,R=5,L=6,E=8,k=L+S,I=E+R,T=500,D=4,x=7,$={listContainer:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingInlineEnd:"xyri2b",paddingBottom:"xwib8y2",paddingInlineStart:"x1c1uobl","::-webkit-scrollbar_display":"xfk6m8",$$css:!0},mobileRoot:{backgroundColor:"xnz67gz",$$css:!0},root:{height:"xpyat2d",$$css:!0}},P={listContainer:{display:"x78zum5",paddingTop:"x1y1aw1k",paddingInlineEnd:"xrw5ot4",paddingBottom:"xwib8y2",paddingInlineStart:"x7coems","::-webkit-scrollbar_display":"xfk6m8",$$css:!0},mobileRoot:{backgroundColor:"xvbhtw8",$$css:!0},root:{height:"x1njnjl6",$$css:!0}};function N(t){var a,i=o("react-compiler-runtime").c(67),l=t.hideOwnStory,d=t.suggestedUsers,p=t.tray,_=t.viewer,h;i[0]===Symbol.for("react.memo_cache_sentinel")?(h=r("shouldUseIGDSPrismStoriesTray")(),i[0]=h):h=i[0];var L=h,N=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3Tray_tray.graphql"),p),A=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisStoriesV3Tray_viewer.graphql"),_),F=o("CometRelay").useFragment(u!==void 0?u:u=n("PolarisStoriesV3Tray_suggestedUsers.graphql"),d),O;i[1]!==N.tray?(O=N.tray.filter(w),i[1]=N.tray,i[2]=O):O=i[2];var B=O,W=r("usePolarisStoriesV3TrayHasViewerReel")(N,A),q=W?B[0]:null,U;i[3]!==W||i[4]!==B?(U=W?B.slice(1):B,i[3]=W,i[4]=B,i[5]=U):U=i[5];var V=U,H;i[6]!==W||i[7]!==l?(H=(W||o("PolarisUA").isMobile())&&!l,i[6]=W,i[7]=l,i[8]=H):H=i[8];var G=H,z=r("usePolarisGetStoryTrayVariant")(),j;if(i[9]!==N.broadcasts||i[10]!==z){var K;j=o("PolarisUA").isMobile()||z===o("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING?[]:(K=N.broadcasts)!=null?K:[],i[9]=N.broadcasts,i[10]=z,i[11]=j}else j=i[11];var Q=j,X=G?1:0,Y=Q.length+X,J=r("usePolarisStoriesV3OpenFromTrayRelay")(V),Z=J.onReelPress,ee=J.onReelPressIn,te=f(r("PolarisStoriesV3TrayContext")),ne=te.hasMyReel,re=te.newReelCount,oe=te.seenReelCount,ae=te.traySessionId,ie;i[12]!==Z?(ie=function(t,n){Z(t,n)},i[12]=Z,i[13]=ie):ie=i[13];var le=ie,se=r("usePolarisStoriesV3AdsPoolPrefetch")(V),ue,ce;i[14]!==se?(ue=function(){o("PolarisUA").isDesktop()&&se()},ce=[se],i[14]=se,i[15]=ue,i[16]=ce):(ue=i[15],ce=i[16]),g(ue,ce);var de;i[17]!==ee||i[18]!==se?(de=function(t){o("PolarisUA").isMobile()?se():ee(t)},i[17]=ee,i[18]=se,i[19]=de):de=i[19];var me=de,pe;i[20]!==ne||i[21]!==re||i[22]!==oe||i[23]!==ae?(pe=function(t){r("ReelTrayRefreshFalcoEvent").log(function(){return{has_my_reel:ne?"1":"0",new_reel_count:re.toString(),tray_refresh_time:Number(o("PolarisLoggerUtils").msToLogSeconds(t!=null?t:0)),tray_refresh_type:"network",tray_session_id:ae,viewed_reel_count:oe.toString(),was_successful:!0}})},i[20]=ne,i[21]=re,i[22]=oe,i[23]=ae,i[24]=pe):pe=i[24],r("usePolarisStoriesV3TrayOnRefreshEffect")(N,pe);var _e;i[25]===Symbol.for("react.memo_cache_sentinel")?(_e=r("shouldShowStorySUPogs")(),i[25]=_e):_e=i[25];var fe=_e,ge=C(M),he=ge[0],ye=ge[1],Ce;i[26]===Symbol.for("react.memo_cache_sentinel")?(Ce=function(t){ye(function(e){var n=new Set(e);return n.add(t),n})},i[26]=Ce):Ce=i[26];var be=Ce,ve;if(i[27]!==(F==null||(a=F.ayml)==null||(a=a.groups)==null||(a=a[0])==null?void 0:a.items)){var Se,Re,Le;ve=(Se=F==null||(Re=F.ayml)==null||(Re=Re.groups)==null||(Re=Re[0])==null?void 0:Re.items)!=null?Se:[],i[27]=F==null||(Le=F.ayml)==null||(Le=Le.groups)==null||(Le=Le[0])==null?void 0:Le.items,i[28]=ve}else ve=i[28];var Ee=ve,ke;i[29]!==he||i[30]!==Ee?(ke=Ee.filter(function(e){if(e==null||e.user==null||e.uuid==null)return!1;var t=e.user.id;return t!=null&&!he.has(t)}),i[29]=he,i[30]=Ee,i[31]=ke):ke=i[31];var Ie=ke,Te=Y+V.length,De;i[32]!==G||i[33]!==A||i[34]!==q?(De=G?m.jsx(r("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:m.jsx(r("PolarisStoriesV3TrayOwnReelItem.react"),{reel:q,trayPosition:0,viewer:A})},"viewerReel"):null,i[32]=G,i[33]=A,i[34]=q,i[35]=De):De=i[35];var xe;i[36]!==X||i[37]!==Q?(xe=Q.map(function(e,t){var n;return m.jsx(r("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:m.jsx(r("PolarisStoriesV3TrayLiveItem.react"),{broadcast:e,trayPosition:X+t})},"broadcast_"+((n=e.id)!=null?n:t))}),i[36]=X,i[37]=Q,i[38]=xe):xe=i[38];var $e;i[39]!==le||i[40]!==me||i[41]!==Y||i[42]!==V?($e=V.map(function(e,t){return m.jsx(r("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:m.jsx(r("PolarisStoriesV3TrayReelItem.react"),{onClick:le,onPressIn:me,reel:e,trayPosition:Y+t})},"reel_"+e.id)}),i[39]=le,i[40]=me,i[41]=Y,i[42]=V,i[43]=$e):$e=i[43];var Pe;i[44]!==Te||i[45]!==Ie?(Pe=fe?Ie.map(function(e,t){var n=e.user,o=e.uuid,a=n==null?void 0:n.id;return n==null||o==null||a==null?null:m.jsx(r("PolarisStoriesV3TrayItemErrorBoundary.react"),{children:m.jsx(r("PolarisStoriesV3TraySuggestedUserItem.react"),{onUserFollowed:be,trayPosition:Te+t,user:n,uuid:o})},"suggested-"+a)}):[],i[44]=Te,i[45]=Ie,i[46]=Pe):Pe=i[46];var Ne;i[47]!==De||i[48]!==xe||i[49]!==$e||i[50]!==Pe?(Ne=[De].concat(xe,$e,Pe).filter(Boolean),i[47]=De,i[48]=xe,i[49]=$e,i[50]=Pe,i[51]=Ne):Ne=i[51];var Me=Ne,we;i[52]!==Me?(we=function(t){var e=t.index;return Me[e]},i[52]=Me,i[53]=we):we=i[53];var Ae=we,Fe=y(),Oe;i[54]===Symbol.for("react.memo_cache_sentinel")?(Oe=function(){var e;return(e=Fe.current)==null?void 0:e.resetToIndex(0)},i[54]=Oe):Oe=i[54];var Be;i[55]!==z?(Be=[z],i[55]=z,i[56]=Be):Be=i[56],g(Oe,Be);var We=r("useMatchViewport")("min","width",o("PolarisFeedPageConstants").FEED_SIDEBAR_THRESHOLD_MIN),qe=r("shouldShowStorySUPogs")(),Ue=qe&&We,Ve=Ue?x:D;if(o("PolarisUA").isDesktop()){var He;i[57]===Symbol.for("react.memo_cache_sentinel")?(He=L?{className:"x1njnjl6"}:{className:"xpyat2d"},i[57]=He):He=i[57];var Ge=Me.length>E,ze;return i[58]!==Me||i[59]!==Ve||i[60]!==Ge?(ze=m.jsx("div",babelHelpers.extends({},He,{children:m.jsx(r("PolarisVirtualHSnapScroll.react"),{animationDuration:T,autoScrollOnFocus:!1,disableScrollSnap:!0,initialNextPagerVisibleGuess:Ge,initialVisibleItemsGuess:I,itemWidth:L?v:b,listContainerXStyle:L?P.listContainer:$.listContainer,overscan:R,pagerVariant:"stories_v2",pageSize:Ve,scrollRef:Fe,children:Me})})),i[58]=Me,i[59]=Ve,i[60]=Ge,i[61]=ze):ze=i[61],ze}var je;i[62]===Symbol.for("react.memo_cache_sentinel")?(je=(c||(c=r("stylex"))).props(L?[P.root,P.mobileRoot]:[$.root,$.mobileRoot]),i[62]=je):je=i[62];var Ke;i[63]===Symbol.for("react.memo_cache_sentinel")?(Ke={0:"x78zum5 x1y1aw1k xyri2b xwib8y2 x1c1uobl xfk6m8",1:"x78zum5 x1y1aw1k xrw5ot4 xwib8y2 x7coems xfk6m8"}[!!L<<0],i[63]=Ke):Ke=i[63];var Qe;return i[64]!==Me.length||i[65]!==Ae?(Qe=m.jsx("div",babelHelpers.extends({},je,{children:m.jsx(r("PolarisIGVirtualList.react"),{className:Ke,containerSize:"auto",direction:"horizontal",estimatedItemSize:b,initialRenderCount:k,itemCount:Me.length,overscanCount:S,pageletName:"story_tray_inner",renderer:Ae})})),i[64]=Me.length,i[65]=Ae,i[66]=Qe):Qe=i[66],Qe}function M(){return new Set}function w(e){return r("ReelType").cast(e.reel_type)==="user_reel"}l.default=N}),98);
__d("PolarisStoriesV3TrayContextProvider_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayContextProvider_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TraySeenReelCount_tray"},{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TraySessionId_tray"}],type:"XDTMaterialTray",abstractKey:null};a.exports=e}),null);
__d("PolarisStoriesV3TrayContextProvider_viewer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisStoriesV3TrayContextProvider_viewer",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisStoriesV3TrayHasViewerReel_viewer"}],type:"XDTViewer",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TraySeenReelCount_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TraySeenReelCount_tray",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTReelDict",kind:"LinkedField",name:"tray",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"getPolarisStoriesV3IsReelSeen_reel",selections:[{alias:null,args:null,kind:"ScalarField",name:"latest_reel_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"muted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen",storageKey:null}],args:null,argumentDefinitions:[]}],storageKey:null},action:"THROW"}],type:"XDTMaterialTray",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TraySeenReelCount",["CometRelay","getPolarisStoriesV3IsReelSeen","react","react-compiler-runtime","usePolarisStoriesV3TraySeenReelCount_tray.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var r=o("react-compiler-runtime").c(2),a=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3TraySeenReelCount_tray.graphql"),t),i;return r[0]!==a.tray?(i=a.tray.filter(d),r[0]=a.tray,r[1]=i):i=r[1],i.length}function d(e){return r("getPolarisStoriesV3IsReelSeen")(e)}l.default=c}),98);
__d("usePolarisStoriesV3TraySessionId_tray.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisStoriesV3TraySessionId_tray",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"tray_session_id",storageKey:null}]}],type:"XDTMaterialTray",abstractKey:null};a.exports=e}),null);
__d("usePolarisStoriesV3TraySessionId",["CometRelay","PolarisStoryState","polarisGetXDTMaterialTray","react","react-compiler-runtime","usePolarisGetStoryTrayVariant","usePolarisStoriesV3TraySessionId_tray.graphql","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useMemo;function m(t){var a=o("react-compiler-runtime").c(8),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisStoriesV3TraySessionId_tray.graphql"),t),l;if(a[0]!==i.tray_session_id){var s;l=(s=i.tray_session_id)!=null?s:r("uuidv4")(),a[0]=i.tray_session_id,a[1]=l}else l=a[1];var u=l,d=o("CometRelay").useRelayEnvironment(),m=r("usePolarisGetStoryTrayVariant")(),p,_;return a[2]!==d||a[3]!==i.tray_session_id||a[4]!==u||a[5]!==m?(p=function(){i.tray_session_id==null&&o("CometRelay").commitLocalUpdate(d,function(e){var t=r("polarisGetXDTMaterialTray")(e,m===o("PolarisStoryState").PolarisStoryTrayVariants.FOLLOWING);t==null||t.setValue(u,"tray_session_id")})},_=[d,i.tray_session_id,u,m],a[2]=d,a[3]=i.tray_session_id,a[4]=u,a[5]=m,a[6]=p,a[7]=_):(p=a[6],_=a[7]),c(p,_),u}l.default=m}),98);
__d("PolarisStoriesV3TrayContextProvider.react",["CometRelay","PolarisStoriesV3TrayContext","PolarisStoriesV3TrayContextProvider_tray.graphql","PolarisStoriesV3TrayContextProvider_viewer.graphql","react","react-compiler-runtime","usePolarisStoriesV3TrayHasViewerReel","usePolarisStoriesV3TraySeenReelCount","usePolarisStoriesV3TraySessionId"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useMemo;function m(t){var a=o("react-compiler-runtime").c(8),i=t.children,l=t.hideOwnStory,u=t.tray,d=t.viewer,m=l===void 0?!1:l,p=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisStoriesV3TrayContextProvider_tray.graphql"),u),_=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisStoriesV3TrayContextProvider_viewer.graphql"),d),f=r("usePolarisStoriesV3TrayHasViewerReel")(p,_),g=r("usePolarisStoriesV3TraySeenReelCount")(p),h=p.tray.length-g,y=r("usePolarisStoriesV3TraySessionId")(p),C=f&&!m,b;a[0]!==h||a[1]!==g||a[2]!==C||a[3]!==y?(b={hasMyReel:C,newReelCount:h,seenReelCount:g,traySessionId:y},a[0]=h,a[1]=g,a[2]=C,a[3]=y,a[4]=b):b=a[4];var v=b,S;return a[5]!==i||a[6]!==v?(S=c.jsx(r("PolarisStoriesV3TrayContext").Provider,{value:v,children:i}),a[5]=i,a[6]=v,a[7]=S):S=a[7],S}l.default=m}),98);
__d("PolarisStoriesV3TrayContainer.react",["CometRelay","PolarisStoriesV3Tray.react","PolarisStoriesV3TrayContainerQuery","PolarisStoriesV3TrayContextProvider.react","PolarisUA","react","react-compiler-runtime","shouldShowStorySUPogs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.hideOwnStory,a=e.queryReference,i=n===void 0?!1:n,l=o("CometRelay").usePreloadedQuery(r("PolarisStoriesV3TrayContainerQuery"),a),u=r("shouldShowStorySUPogs")(),c=l.xdt_api__v1__feed__reels_tray,d=l.xdt_viewer;if(o("PolarisUA").isDesktop()&&c.tray.length===0&&!u)return null;var m;t[0]!==l||t[1]!==i||t[2]!==c||t[3]!==d?(m=s.jsx(r("PolarisStoriesV3Tray.react"),{hideOwnStory:i,suggestedUsers:l,tray:c,viewer:d}),t[0]=l,t[1]=i,t[2]=c,t[3]=d,t[4]=m):m=t[4];var p;return t[5]!==m||t[6]!==c||t[7]!==d?(p=s.jsx(r("PolarisStoriesV3TrayContextProvider.react"),{tray:c,viewer:d,children:m}),t[5]=m,t[6]=c,t[7]=d,t[8]=p):p=t[8],p}l.default=u}),98);/*FB_PKG_DELIM*/
__d("AutoplayRulesEngine",[],(function(t,n,r,o,a,i){"use strict";var e=-2,l=-1,s=(function(){function t(t){this.$1=e,this.$2=t}var n=t.prototype;return n.evaluateAutoplay=function(t,n){var e=n(),r=l;if(t)for(var o=0;o<this.$2.length;o++){var a=this.$2[o](t);if(a!=="SKIP"){e=a,r=o;break}}return this.$1=r,e},n.getIndexOfLastWinningRule=function(){return this.$1},n.getRules=function(){return this.$2},t})();i.default=s}),66);
__d("CVCv3DisabledPlayerOrigins",[],(function(t,n,r,o,a,i){var e=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});i.default=e}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(t,n,r,o,a,i){var e=Object.freeze({LIVE_BEEPER:"live_beeper"});i.default=e}),66);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1856513"),s=o("FalcoLoggerInternal").create("cvc_v3_http_event",e),u=s;l.default=u}),98);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$1=e,this.$2=r("guid")(),this.$3=(t!=null?t:"null")+"::"+(n!=null?n:"null"),this.$4=null,this.$5=null}var t=e.prototype;return t.isValidSubscription=function(){return!!this.$1},t.makeCVCv3StateUpdate=function(t,n,r,a){var e=null;t!=null&&!Number.isNaN(t)&&n!=null&&!Number.isNaN(n)&&(e={m:a,pf:Math.floor((n-t)*o("DateConsts").MS_PER_SEC),s:r,sa:Math.floor(t*o("DateConsts").MS_PER_SEC)});var i={pps:this.$4,ps:e,si:this.$2,so:this.$3,vi:this.$1};return this.$4=e,i},t.makeUnifiedVideoCVCUpdate=function(t,n,r,o,a){var e=this.makeCVCv3StateUpdate(t,n,r,o);return this.$5!=null&&(e.tk=this.$5),babelHelpers.extends({},e,a)},t.processUnifiedResponse=function(t){var e=t;return this.$5=e.tk,e},t.clearAnyPreviousContext=function(){this.$4=null},t.logHttpRequestSuccess=function(t){var e=this;r("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:t!=null?t.toString():null,countable_id:e.$1}})},t.logHttpRequestFailure=function(t,n){var e=this;r("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:t,duration_ms:n!=null?n.toString():null,countable_id:e.$1}})},t.logHttpRequestTimeout=function(t){var e=this;r("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:t!=null?t.toString():null,countable_id:e.$1}})},t.logHttpResponseBad=function(t,n){var e=this;r("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:t,duration_ms:n!=null?n.toString():null,countable_id:e.$1}})},t.logDebugInfo=function(t){var e=this;r("CvcV3HttpEventFalcoEvent").log(function(){return{name:t,countable_id:e.$1}})},e})();l.default=e}),98);
__d("CappedListItemContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("CometAudioManagerContexts").AudioApiContext);return e}l.useAudioApi=u}),98);
__d("CometFacebookHelpURLConstants",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.facebook.com/help";i.FACEBOOK_HELP_BASE_URL=e}),66);
__d("CometLightweightVideoAttachmentContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isLightweightVideoAttachment:!1});l.default=u}),98);
__d("CometNotificationsRootContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={isNotificationsRoute:!1,source:null},c=s.createContext(u);l.default=c}),98);
__d("CometTooltipDeferredImpl.react",["BaseTooltipImpl.react","FDSProgressRingIndeterminate.react","FDSTextPairing.react","react","useCometTheme"],(function(t,n,r,o,a,i,l){"use strict";var e=["tooltipTheme","headline","tooltip"],s,u=s||(s=o("react"));function c(t){var n=t.tooltipTheme,o=t.headline,a=t.tooltip,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=r("useCometTheme")(n!=null?n:"invert"),s=l[0],c=l[1];return u.jsx(s,{children:u.jsx(r("BaseTooltipImpl.react"),babelHelpers.extends({},i,{loadingState:u.jsx(r("FDSProgressRingIndeterminate.react"),{color:"dark",size:20}),tooltip:a!=null?u.jsx(r("FDSTextPairing.react"),{body:a,bodyColor:"primary",headline:o,headlineColor:"primary",level:4}):null,xstyle:c}))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometTooltipImpl.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("CometTooltipDeferredImpl.react").__setRef("CometTooltipImpl.react"));function c(e){return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,babelHelpers.extends({},e))})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometVideoPictureInPictureManagerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({openPipPlayer:function(){},setController:function(){},setPipPortableVideoID:function(){}}),c=s({hasNextChainedVideo:!1,isPipEnabled:!1,setHasNextChainedVideo:function(){},setSkippedFromPipPlayer:function(){},skippedFromPipPlayer:!1});function d(){return!1}function m(){return!1}l.CometVideoPictureInPictureManagerAPIContext=u,l.CometVideoPictureInPictureManagerContext=c,l.isInPictureInPictureExp=d,l.isInPictureInPictureExpControlGroup=m}),98);
__d("MediaPlaybackCompoundEventUtils",["CometProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e!=null&&e.v2&&(e==null?void 0:e.v2.length)>0){var t=e==null?void 0:e.v2,n=t[t.length-1];return[n.class,n.module].map(o("CometProductAttribution").filterEntryValue).join(":")}return""}function s(e){var t=0;switch(e){case"autoplay_initiated":t=1;break;case"loop_initiated":t=7;break;case"product_initiated":t=8;break;case"user_initiated":t=2;break;default:break}return t}function u(e){var t="unknown";switch(e){case"EXCELLENT":t="excellent";break;case"GOOD":t="good";break;case"MODERATE":t="moderate";break;case"POOR":t="poor";break;default:break}return t}function c(e){return e?"on":"off"}function d(e){if(typeof e=="string")return e;if(typeof e=="number")return e.toString()}function m(t){return t.productAttribution!=null?e(t.productAttribution):void 0}function p(e){return e.productAttribution!=null?o("CometProductAttribution").minifyProductAttributionV2(e.productAttribution):void 0}l.minifyProductAttributionV2Root=e,l.getMediaPlaybackPlayReason=s,l.getMediaPlaybackDataConnectionQuality=u,l.getMediaPlaybackCaptionState=c,l.stringifyMediaPlaybackMetadata=d,l.getMediaPlaybackAttributionIDV2Root=m,l.getMediaPlaybackAttributionIDV2=p}),98);
__d("isSSR",["ExecutionEnvironment","XPlatReactEnvironment"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("XPlatReactEnvironment").isWeb()&&!(e||(e=r("ExecutionEnvironment"))).canUseDOM,u=s;l.default=u}),98);
__d("VideoPlayerConnectionQuality",["isSSR"],(function(t,n,r,o,a,i,l){"use strict";var e={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},s=[{bandwidth:5e5,connectionQuality:e.POOR},{bandwidth:2e6,connectionQuality:e.MODERATE},{bandwidth:1e7,connectionQuality:e.GOOD}],u=100,c=null,d=null,m=function(n){if(r("isSSR"))return"MODERATE";if(c!=null&&d!=null&&c>=Date.now()-u)return d!=null?d:"MODERATE";var t=n(),o=null;if(t!=null){for(var a=0;a<s.length;a++)if(t<s[a].bandwidth){o=s[a].connectionQuality;break}}return o===null&&(o=e.EXCELLENT),c=Date.now(),d=o,o!=null?o:e.EXCELLENT};l.evaluate=m}),98);
__d("VideoPlayerImplementationErrorNormalization",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.getType(),n=e.getDescription();switch(t){case"OZ_NETWORK":{var r,o,a=(r=(o=e.getExtra())==null?void 0:o.code)!=null?r:"0",i=parseInt(a,10);return i<100||i>599?"NetworkError":"HTTPError"}case"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":{var l,s=(l=e.getExtra())==null?void 0:l.mimeType;return s!=null&&s.indexOf("video")>-1?"VideoDecodeError":s!=null&&s.indexOf("audio")>-1?"AudioDecodeError":"GenericDecodeError"}case"OZ_XML_PARSER":case"OZ_MPD_PARSER":case"OZ_REPRESENTATION_PARSER":return"ManifestParseError";case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":return/(OZ_XML_PARSER)|(OZ_MPD_PARSER)|(OZ_REPRESENTATION_PARSER)/.test(n)?"ManifestParseError":"RuntimeError";case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError"}return null}function l(e,t){switch(e){case"OZ_XML_PARSER":case"OZ_MPD_PARSER":case"OZ_REPRESENTATION_PARSER":return"ManifestParseError";case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":return/(OZ_XML_PARSER)|(OZ_MPD_PARSER)|(OZ_REPRESENTATION_PARSER)/.test(t)?"ManifestParseError":"RuntimeError";case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError";case"BUFFERING_TIMEOUT":return"RuntimeError";default:{var n=[[["MEDIA_ERR_NETWORK"],"NetworkError"],[["MEDIA_ERR_ABORTED","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_UNKNOWN"],"GenericDecodeError"]];for(var r of n){var o=r[0],a=r[1];if(o.some(function(t){return e.includes(t)}))return a}}}return null}i.getVideoPlayerNormalizedErrorTypeFromOzError=e,i.getErrorTypeFromErrorName=l}),66);
__d("getPlayerFormatForLogData",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n=e.isFullscreen;return n===!0?"full_screen":t!=null?t:"inline"}i.default=e}),66);
__d("MediaPlaybackMetadataProvider",["MediaPlaybackCompoundEventUtils","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","getPlayerFormatForLogData","mapObject"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=function(t){return s=s!=null?s:document.createElement("video"),"canPlayType"in s?s.canPlayType(t):""};function c(e){var t=e.controlledState.playbackState;switch(t){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:return"unknown"}}function d(t,n,o,a,i){var l=t.controlledState.error===o?babelHelpers.extends({},t,{controlledState:babelHelpers.extends({},t.controlledState,{error:{$ref:"$.player.lastError"}})}):t;t.uncontrolledState.videoElementError!=null&&(l=babelHelpers.extends({},l,{uncontrolledState:babelHelpers.extends({},l.uncontrolledState,{videoElementError:{code:t.uncontrolledState.videoElementError.code,message:t.uncontrolledState.videoElementError.message}})}));var s=n;{var d=typeof n.payload=="object"&&n.payload!=null?n.payload:null;if(d!=null){var m={};Object.keys(d).forEach(function(e){var t=d[e];t===o?m[e]={$ref:"$.player.lastError"}:m[e]=t}),s=babelHelpers.extends({},n,{payload:m})}}var p={"application/vnd.apple.mpegurl":"application/vnd.apple.mpegurl","application/x-mpegURL":"application/x-mpegURL","video/mp4":"video/mp4","video/ogg":"video/ogg","video/webm":"video/webm"};return{currentVideo:{audioStreamId:t.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:t.controlledState.captionsLoaded,isDrm:!!i.graphQLVideoDRMInfo,isHD:void 0,isLiveStream:i.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:t.uncontrolledState.videoProjection,resourceUrl:void 0,streamId:t.uncontrolledState.videoRepresentationID,streamType:t.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:i.videoFBID},player:{canPlayType:(e||(e=r("mapObject")))(p,u),dimensions:a.dimensions?{height:a.dimensions.height,width:a.dimensions.width}:null,droppedFrames:t.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:o,loggedError:void 0,stallCount:void 0,stallTime:void 0,state:c(t),totalFrames:t.uncontrolledState.videoElementTotalFrameCount,version:t.playerVersion,videoSource:void 0,viewabilityPercentage:t.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:s,state:l}}}function m(e){var t=e.action,n=e.coreVideoPlayerMetaData,r=e.loggingMetaData,a=e.state,i=e.videoPlayerError,l=i.errorMessageFormat,s=i.errorName,u=i.errorType,c=i.errorCode==null||i.errorCode===""?s:i.errorCode,m=d(a,t,i,r,n),p={code:c,description:l,domain:s,error:s,type:String(u!=null?u:o("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(s,l)),user_info:JSON.stringify(m)};return p}function p(e,t,n,r){var o,a,i,l=_(e,t,n);return{attribution_id_v2_root:void 0,author_id:r.author_id,current_watching_module:(o=r.current_watching_module)!=null?o:"",is_audio_only:t.audioOnly,is_live_streaming:(a=t.isLiveStreaming)!=null?a:void 0,media_id:t.videoFBID,nav_chain:r.nav_chain,player_format:l.player_format,player_origin:t.playerOriginOverride,player_suborigin:t.subOrigin,player_version:e.playerVersion,sessionizer_nav_chain:void 0,tracking_data_encrypted:n.trackingDataEncrypted,tracking_token:r.tracking_token,tracking_type:(i=r.tracking_type)!=null?i:"none",video_play_reason:l.video_play_reason}}function _(e,t,n){var a,i,l,s,u,c,d,m;return{attribution_id_v2:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackAttributionIDV2(n),audio_representation_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.audioRepresentationID),autoplay_eligible:t.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(t.autoplayGatingResult?[t.autoplayGatingResult]:[]),autoplay_setting:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.autoplaySetting),available_qualities_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.availableQualities.length),caption_format:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.captionFormat),caption_locale:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.captionsLocale),caption_state:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackCaptionState(e.controlledState.captionsVisible),client_latency_setting:e.controlledState.latencyLevel,current_viewability:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.viewabilityPercentage),dash_manifest_identifier:e.uncontrolledState.manifestIdentifier,data_connection_quality:o("MediaPlaybackCompoundEventUtils").getMediaPlaybackDataConnectionQuality(o("VideoPlayerConnectionQuality").evaluate(function(){return e.uncontrolledState.estimatedBandwidth})),downstream_share_origin_uri:(a=n.downstreamShareSignalTracking)==null?void 0:a.downstream_share_session_origin_uri,downstream_share_start_time:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata((i=n.downstreamShareSignalTracking)==null?void 0:i.downstream_share_session_start_time),downstream_share_visit_uuid:(l=n.downstreamShareSignalTracking)==null?void 0:l.downstream_share_session_id,dropped_frame_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoElementDroppedFrameCount),external_log_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.externalLogID),external_log_type:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(t.externalLogType),is_abr_enabled:e.isAbrEnabled,is_fbms:(s=e.uncontrolledState.isFBMS)!=null?s:void 0,is_live_video_rewound:e.controlledState.isLiveRewindActive,is_mixed_codec_manifest:(u=e.uncontrolledState.isMixedCodecManifest)!=null?u:void 0,is_predictive_playback:e.uncontrolledState.isPredictiveDash,mpd_validation_errors:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.mpdValidationErrors),playback_speed:e.uncontrolledState.videoElementPlaybackRate,player_format:r("getPlayerFormatForLogData")({isDesktopPictureInPicture:(c=e.controlledState.isDesktopPictureInPicture)!=null?c:!1,isFullscreen:e.uncontrolledState.isFullscreen},t.playerFormat),player_sound_on:!(e.controlledState.muted||e.controlledState.volume===0),projection:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoProjection),streaming_format:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.controlledState.streamingFormat),total_frame_count:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoElementTotalFrameCount),video_bandwidth:(d=e.uncontrolledState.estimatedBandwidth)!=null?d:void 0,video_play_reason:e.controlledState.lastPlayReason!=null?o("MediaPlaybackCompoundEventUtils").getMediaPlaybackPlayReason(e.controlledState.lastPlayReason):null,video_projection:(m=e.uncontrolledState.videoProjection)!=null?m:void 0,video_representation_id:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(e.uncontrolledState.videoRepresentationID),view_height:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(n.dimensions.height)),view_width:o("MediaPlaybackCompoundEventUtils").stringifyMediaPlaybackMetadata(Math.floor(n.dimensions.width))}}l.getSNAPLErrorMetadataCommon=m,l.getSNAPLRequiredMetadataCommon=p,l.getSNAPLTagMetadataCommon=_}),98);
__d("IGVideoMetadataProvider",["MediaPlaybackMetadataProvider","pageID"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{getErrorMetadata:o("MediaPlaybackMetadataProvider").getSNAPLErrorMetadataCommon,getRequiredMetadata:function(t){var e=t.coreVideoPlayerMetaData,n=t.logDataAdditions,a=t.loggingMetaData,i=t.state,l=o("MediaPlaybackMetadataProvider").getSNAPLRequiredMetadataCommon(i,e,a,n),s=babelHelpers.extends({},l,{browser_tab_id:r("pageID"),encrypted_logging_policy:n.encrypted_logging_policy,nav_chain:n.nav_chain,persistent_id:n.persistent_id,sessionizer_nav_chain:void 0});return s},getTagMetadata:function(t){var e,n=t.coreVideoPlayerMetaData,r=t.logDataAdditions,a=t.loggingMetaData,i=t.state,l=o("MediaPlaybackMetadataProvider").getSNAPLTagMetadataCommon(i,n,a),s=babelHelpers.extends({},l,{audio_derived_content_id:r.audio_derived_content_id,is_auto_advanced:r.is_auto_advanced,nav_chain:(e=r.nav_chain)!=null?e:"",story_reel_position:r.story_reel_position,story_reel_size:r.story_reel_size});return s}}}l.createIGVideoMetadataProvider=e}),98);
__d("CometVideoPlayerLoggingConfigForPolaris",["IGVideoMetadataProvider","PolarisIsLoggedIn","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{disableCVCSubscription:!o("PolarisIsLoggedIn").isLoggedIn(),disableLogging:!1,enablePauseAndFlushOnBeforeUnload:e===!0&&r("gkx")("11122"),loggingToSNAPLCreateMetadataProvider:o("IGVideoMetadataProvider").createIGVideoMetadataProvider,loggingToSNAPLEnabled:r("gkx")("3179"),loggingToVPLEnabled:!1}}l.createCometVideoPlayerLoggingConfigForPolaris=e}),98);
__d("makeAudioSymbol",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return t+"::"+e}i.default=e}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","makeAudioSymbol","react","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useContext,d=u.useEffect,m=u.useId,p=u.useMemo,_=u.useRef,f=u.useState,g=o("createVideoStateHook").createVideoStateHook(),h=g.stateHook,y=.01;function C(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=f(function(){return e.getCurrentState().volume}),n=t[0],r=t[1];return d(function(){var t=e.subscribe(function(){var t=e.getCurrentState().volume;r(function(e){return t===0||t===1||Math.abs(e-t)>y?t:e})});return r(e.getCurrentState().volume),function(){t.remove()}},[e]),n}function b(){"use no memo";var e=h(!1),t=e[0],n=e[1],a=m(),i=(s||(s=o("VideoPlayerHooks"))).useInstanceKey(),l=p(function(){return r("makeAudioSymbol")(a,i)},[a,i]),u=o("CometAudioManagerHooks").useAudioApi(),g=_(u);d(function(){g.current=u},[u]);var y=s.useController(),b=s.useLastPlayReason(),v=s.useLastMuteReason(),S=s.useMuted(),R=C(),L=r("usePrevious")(R),E=s.usePaused(),k=c(o("CometAudioManagerContexts").CometAudioLocalScopeContext),I=c(o("CometAudioManagerContexts").CometAudioGroupContext),T=o("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),D=s.useVolumeSetting(),x=p(function(){return(I==null?void 0:I.groupID)||o("CometAudioManagerContexts").makeAudioGroupID()},[I==null?void 0:I.groupID]),$=f(!0),P=$[0],N=$[1],M=_(!0),w=_(null),A=f(function(){return r("CometThrottle")(function(e){g.current&&g.current.update(e)},50,{leading:!0,trailing:!0})}),F=A[0],O=p(function(){return{audioLocalScope:k,controller:y,groupID:x,instanceKey:i,lastMuteReason:v,lastPlayReason:b,muted:S,paused:E,previousVolume:L,symbol:l,videoPlayerPortalingPlaceInfo:T,volume:R}},[k,y,x,i,v,b,S,E,L,l,T,R]);d(function(){if(D!=null&&!t){var e=w.current!==D;(M.current||e)&&(M.current=!1,w.current=D,y.setVolume(D),n(!0))}},[y,t,n,D]);var B=p(function(){return I||{allowSound:P,groupID:x,setAllowSound:N}},[I,P,x,N]),W=_(B),q=_(!1);d(function(){if(u&&!q.current){q.current=!0;try{u.register(O,W.current)}finally{q.current=!1}}return function(){u&&u.unregister(l,x)}},[u,O,x,l]),d(function(){u&&F(O)},[u,O,F]),d(function(){return function(){F&&F.cancel&&F.cancel()}},[F]);var U=_(!1),V=_(null);return d(function(){var e=V.current!==P;if(!P&&g.current&&!U.current&&e){U.current=!0;try{y.setMuted(!0,"audio_manager_initiated"),V.current=P}finally{U.current=!1}}},[P,g,y]),null}l.default=b}),98);
__d("VideoPlayerAutoplayHooks",["FBLogger","VideoPlayerAutoplayContexts","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("VideoPlayerAutoplayContexts").AutoplayApiContext);if(e==null)throw r("FBLogger")("comet_video_player").mustfixThrow("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?");return e}function c(){return s(o("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}l.useAutoplayApi=u,l.useVideoAutoplayLocalScope=c}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:1453865"))!=null?e:{useVideoPlayerDebugAPI:r("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:r("emptyFunction"),useVideoPlayerDebugInfo:r("emptyFunction").thatReturns(null)};l.default=s}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(t,n,r,o,a,i){"use strict";function e(){return"ALLOW"}e.displayName="evaluateVideoAutoplayDefaultRule",i.default=e}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return t+"::"+e}i.default=e}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e){var t=c(e),n=d(function(){return new(r("AutoplayRulesEngine"))(e)}),o=n[0],a=n[1];return u(function(){t.current!==e&&a(function(){return new(r("AutoplayRulesEngine"))(e)})},[e]),u(function(){t.current=o.getRules()},[o]),o}l.default=m}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useId,c=s.useState;function d(){return u()}function m(){var e=[];return{isControllingComponent:function(n){var t=e.length;return e[t-1]===n},registerControllingComponent:function(n){r("removeFromArray")(e,n),e.push(n)},unregisterControllingComponent:function(n){var t=e.length;return t>1&&r("removeFromArray")(e,n),t>1}}}function p(){var e=c(function(){return m()}),t=e[0];return t}l.useAutoplayControlID=d,l.createConcurrentAutoplayManagementAPI=m,l.useConcurrentAutoplayManagementAPI=p}),98);
__d("VideoPlayerContextSensitiveConfigUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t,n){return n.every(function(e){return t[e.name]===e.value})},l=function(n,r){return r.find(function(t){return e(n,t.contexts)})};i.getFirstMatchingValueAndContextTargets=l}),66);
__d("VideoPlayerContextSensitiveConfigResolver",["VideoPlayerContextSensitiveConfigPayload","VideoPlayerContextSensitiveConfigUtils","cr:1724253"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1={},this.$2={},e==null?(this.$3=r("VideoPlayerContextSensitiveConfigPayload").static_values,this.$4=r("VideoPlayerContextSensitiveConfigPayload").context_sensitive_values):(this.$3=e.staticValues,this.$4=e.contextSensitiveValues)}var t=e.prototype;return t.setContexts=function(t){this.$1=t,this.$2=this.$5(t)},t.getValue=function(t){return this.$2[t]!=null?this.$2[t]:this.$3[t]!=null?this.$3[t]:null},t.$5=function(t){var e=this;return Object.keys(this.$4).reduce(function(n,r){var a=e.$4[r];if(a!=null){var i=o("VideoPlayerContextSensitiveConfigUtils").getFirstMatchingValueAndContextTargets(t,a);i!=null&&(n[r]=i.value)}return n},{})},e.getPayload=function(){return r("VideoPlayerContextSensitiveConfigPayload")},e.getSources=function(){return n("cr:1724253")},e})();l.default=e}),98);
__d("VideoPlayerShakaGlobalConfig",["VideoPlayerContextSensitiveConfigResolver"],(function(t,n,r,o,a,i,l){var e=new(r("VideoPlayerContextSensitiveConfigResolver")),s={},u=function(t){s=t},c=function(n,r){if(s&&typeof s[n]=="boolean")return s[n];var t=e.getValue(n);return t!=null&&typeof t=="boolean"?t:r},d=function(n,r){if(s&&typeof s[n]=="number")return s[n];var t=e.getValue(n);return t!=null&&typeof t=="number"?t:r},m=function(n,r){if(s&&typeof s[n]=="string")return s[n];var t=e.getValue(n);return t!=null&&typeof t=="string"?t:r};l.setGlobalOverrideConfig=u,l.getBool=c,l.getNumber=d,l.getString=m}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(t,n,r,o,a,i,l){"use strict";var e;l.useVideoPlayerExtendedPassiveViewabilityInfo=(e||(e=o("VideoPlayerHooks"))).useVideoPlayerExtendedPassiveViewabilityInfo,l.useVideoPlayerPassiveViewabilityInfo=e.useVideoPlayerPassiveViewabilityInfo,l.useVideoPlayerViewabilityInfo=e.useVideoPlayerViewabilityInfo}),98);
__d("useEventCallbackOn",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t,n){s(function(){return e.addEventListener(t,n),function(){e.removeEventListener(t,n)}},[e,t,n])}l.default=u}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(){var e=t.document;return typeof e.hidden!="undefined"?"visibilitychange":typeof e.mozHidden!="undefined"?"mozvisibilitychange":typeof e.msHidden!="undefined"?"msvisibilitychange":typeof e.webkitHidden!="undefined"?"webkitvisibilitychange":"visibilitychange"}function m(){var e=t.document;return typeof e.hidden!="undefined"?e.hidden:typeof e.mozHidden!="undefined"?e.mozHidden:typeof e.msHidden!="undefined"?e.msHidden:typeof e.webkitHidden!="undefined"?e.webkitHidden:!1}var p=d();function _(e){var n=t.document.hasFocus?t.document.hasFocus():!0,r=m();return r||(e?!1:!n)}function f(){return m()}function g(e){"use no memo";var n=(e==null?void 0:e.noPauseOnBlurOrFocus)===!0,o=c(function(){return _(n)}),a=o[0],i=o[1],l=c(function(){return f()}),s=l[0],d=l[1],m=!!e&&e.scrollTerminatesHiddenOrBlurred===!0,g=u(function(){i(_(n)),d(f())},[i,n]),h=g,y=u(function(){var e=_(n);e&&m&&a&&i(!1)},[a,n,m]);return n&&(h=r("emptyFunction")),r("useEventCallbackOn")(t.window,"blur",h),r("useEventCallbackOn")(t.window,"focus",h),r("useEventCallbackOn")(t.document,p,g),r("useEventCallbackOn")(t.window,"scroll",y),{isDocumentHidden:s,isDocumentHiddenOrBlurred:a}}l.default=g}),98);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(t,n,r,o,a,i,l){"use strict";var e="oz_www_",s={getBool:function(n,r){return o("VideoPlayerShakaGlobalConfig").getBool(e+n,r)},getNumber:function(n,r){return o("VideoPlayerShakaGlobalConfig").getNumber(e+n,r)},getString:function(n,r){return o("VideoPlayerShakaGlobalConfig").getString(e+n,r)}},u=s;l.default=u}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState,u=5e3;function c(){var e=function(){return r("oz-player/networks/OzBandwidthEstimator").getBandwidth(r("VideoPlayerOzWWWGlobalConfig"))},t=s(e()),n=t[0],o=t[1];return r("useInterval")(function(){return o(e())},u),n}l.default=c}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.startTransition,d=u.useContext,m=u.useEffect,p=u.useMemo,_=u.useRef,f=u.useState;function g(e){"use no memo";var t=(s||(s=o("VideoPlayerHooks"))).useAdClientToken(),n=s.useAutoplayGatingResult(),a=s.useBroadcastStatus(),i=s.useEnded(),l=s.useIsFrozenPassive(),u=s.useLastPauseReason(),g=s.useLastPlayReason(),h=s.useMuted(),y=s.usePaused(),C=d(r("HiddenSubtreePassiveContext")),b=!t,v=(e==null?void 0:e.noPauseOnBlurOrFocus)===!0||o("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1),S=r("useIsBackgrounded")({noPauseOnBlurOrFocus:v,scrollTerminatesHiddenOrBlurred:b}),R=S.isDocumentHidden,L=S.isDocumentHiddenOrBlurred,E=r("useVideoPlayerBandwidthEstimate")(),k=o("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),I=o("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo(),T=f(C.getCurrentState().backgrounded),D=T[0],x=T[1],$=f(C.getCurrentState().hidden),P=$[0],N=$[1];m(function(){var e=function(){c(function(){var e=C.getCurrentState();N(e.hidden),x(e.backgrounded)})},t=C.subscribeToChanges(e);return e(),function(){t.remove()}},[C,x,N]);var M=f(function(){return l.getCurrentState()}),w=M[0],A=M[1];m(function(){var e=l.subscribeToChanges(function(e){A(e)}),t=l.getCurrentState();return A(t),function(){e.remove()}},[l,A]);var F=p(function(){return{adClientToken:t,autoplayGatingResult:n,bandwidthEstimate:E,broadcastStatus:a,controllerIsFrozen:w,currentSubtreeIsBackgrounded:D,currentSubtreeIsHidden:P,ended:i,hiddenSubtreePassive:C,isDocumentHidden:R,isDocumentHiddenOrBlurred:L,isFrozenPassive:l,lastPauseReason:u,lastPlayReason:g,muted:h,paused:y,videoPlayerExtendedPassiveViewabilityInfo:I,videoPlayerPassiveViewabilityInfo:k}},[t,n,E,a,w,D,P,i,C,R,L,l,u,g,h,y,I,k]),O=f(F),B=O[0],W=O[1],q=_(B);return m(function(){q.current=B},[B]),m(function(){var e=!1;for(var t in F)if(Object.prototype.hasOwnProperty.call(F,t)&&F[t]!==q.current[t]){e=!0;break}e&&W(F)},[F,W]),B}l.default=g}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useId,_=u.useMemo,f=u.useRef,g=u.useState;function h(){var e=p(),t=(s||(s=o("VideoPlayerHooks"))).useCanAutoplay(),n=s.useInstanceKey(),a=_(function(){return r("makeSelectedAutoplayVideoSymbol")(e,n)},[e,n]),i=f(a);m(function(){i.current=a},[a]);var l=d(r("HiddenSubtreePassiveContext")),u=s.useController(),h=f(!1),y=o("useConcurrentAutoplayManagementAPI").useAutoplayControlID();m(function(){o("CoreVideoPlayerAutoplayClientUtils").log(i.current,"[ASSUME CONTROL] "+y),u.registerControllingComponent(y)},[u,y]);var C=s.useVideoPlayerPassiveViewabilityInfo(),b=s.usePaused(),v=f(b),S=o("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),R=f(S);m(function(){R.current=S},[S]);var L=c(function(){var e=u.getCurrentState(),t=e.lastPlayReason,n=e.paused,o=v.current;v.current=n;var a=C==null?void 0:C.getCurrent();if(a){var i=a.visiblePercentage,l=!n&&n!==o,s=i<r("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&i>0;R.current.disableScrollBeforePlayWhenOffscreen!==!0&&l&&t==="user_initiated"&&s&&(h.current=!0)}},[u,C]),E=f(L);m(function(){E.current=L},[L]),m(function(){var e=u.subscribe(function(){L()});return function(){e.remove()}},[u,L]);var k=r("useVideoAutoplayState")({noPauseOnBlurOrFocus:S.noPauseOnBlurOrFocus}),I=r("useAutoplayRulesEngine")(S.autoplayLocalRules),T=r(t==="allow"?"evaluateVideoAutoplayDefaultAllowRule":"evaluateVideoAutoplayDefaultIgnoreRule"),D=g(function(){return T}),x=D[0],$=D[1],P=g(null),N=P[0],M=P[1],w=g(function(){return I.evaluateAutoplay(k,T)}),A=w[0],F=w[1],O=g(null),B=O[0],W=O[1],q=f(A),U=o("VideoPlayerAutoplayHooks").useAutoplayApi(),V=f(U);m(function(){V.current=U},[U]);var H=t!=="dangerously_disable_autoplay_management";return m(function(){return U.register(a,n,S,u,l,H),r("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:R.current.autoplayScopeID,event_creation_time:Date.now(),initiator:i.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:U.getAutoplayManagerDebugInfo(R.current).selectedAutoplayVideoSymbol,target:i.current,target_current_autoplay_decision:q.current}}),function(){U.unregister(a),r("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:R.current.autoplayScopeID,event_creation_time:Date.now(),initiator:i.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:U.getAutoplayManagerDebugInfo(R.current).selectedAutoplayVideoSymbol,target:i.current,target_current_autoplay_decision:q.current}})}},[U,S,u,l,n,H,a]),m(function(){var e=function(){var e=I.evaluateAutoplay(k,T);q.current=e;var t=I.getRules(),n=I.getIndexOfLastWinningRule(),l=n>=0?t[n]:T,s=C&&C.getCurrent(),c=u.getCurrentState(),d=c.paused;if((B===null||B!==e)&&(F(e),W(e)),e==="PAUSE"&&!d&&u.isControllingComponent(y)){var m=!0;if(E.current(),h.current){h.current=!1;var p=s==null?void 0:s.positionToViewport;p&&u.scrollIntoView(p.top<0),m=!1}if(m){var _="[PAUSE] via short-circuit on "+(l.displayName||l.name)+".";o("CoreVideoPlayerAutoplayClientUtils").log(i.current,_),u.pause("autoplay_initiated"),r("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:R.current.autoplayScopeID,event_creation_time:Date.now(),initiator:i.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:U.getAutoplayManagerDebugInfo(R.current).selectedAutoplayVideoSymbol,target:i.current,target_current_autoplay_decision:e}})}}(N===null||N!==l)&&($(function(){return l}),M(function(){return l}),r("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:R.current.autoplayScopeID,event_creation_time:Date.now(),initiator:i.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:U.getAutoplayManagerDebugInfo(R.current).selectedAutoplayVideoSymbol,target:i.current,target_current_autoplay_decision:e}})),o("CoreVideoPlayerAutoplayClientUtils").log(i.current,"[DECISION: "+e+"] from "+(l.displayName||l.name)),s&&U.update(a,e,s)},t=l.subscribeToChanges(function(e){l.getCurrentState().hidden||l.getCurrentState().backgrounded?u.isControllingComponent(y)||u.unregisterControllingComponent(y):u.registerControllingComponent(y)}),n=C?C.subscribe(function(){l.getCurrentState().hidden||l.getCurrentState().backgrounded?u.isControllingComponent(y)||u.unregisterControllingComponent(y):u.registerControllingComponent(y),e()}):null;return e(),function(){t.remove(),n&&n.remove()}},[U,y,I,u,T,l,N,B,$,F,M,W,a,k,C]),m(function(){var e=u.isControllingComponent(y),t=u.getCurrentState(),n=t.paused;o("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(A,q.current,n,e)&&(o("CoreVideoPlayerAutoplayClientUtils").log(i.current,"[PAUSE] the video for "+A),u.pause("autoplay_initiated"),r("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:R.current.autoplayScopeID,event_creation_time:Date.now(),initiator:i.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:V.current.getAutoplayManagerDebugInfo(R.current).selectedAutoplayVideoSymbol,target:i.current,target_current_autoplay_decision:A}}))},[A,u,y]),m(function(){return function(){o("CoreVideoPlayerAutoplayClientUtils").log(i.current,"[RELEASE CONTROL] "+y),u.unregisterControllingComponent(y)}},[u,y]),r("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:x,autoplayApiRef:V,autoplayDecision:A,autoplayLocalScope:S,symbol:a}),null}l.default=h}),98);
__d("normalizeVideoPlayerLoopCount",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){t===void 0&&(t=null),n===void 0&&(n=null);var o=0;if(e==null){var a=t!=null&&t&&n!=null?n:0;a===-1?o=-1:a<0||!Number.isFinite(a)||Math.floor(a)!==a?o=0:a===0&&t===!0?o=-1:o=a}else if(e===-1||e===Number.POSITIVE_INFINITY)o=-1;else{if(e<0||!Number.isFinite(e)||Math.floor(e)!==e)throw r("FBLogger")("comet_video_player").mustfixThrow("Invalid loopingCount: %s",e);o=e}return o}l.default=e}),98);
__d("CoreVideoPlayerMetaData",["VideoPlayerAudioAvailabilityInfo","normalizeVideoPlayerLoopCount"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e!=null&&isFinite(e)&&e>0?e:0}var s=[];function u(t){var n,a,i,l,u=t.sideLoadCaptionsExpected===!0||t.sideLoadCaptionsUrl!=null,c=t.isLiveStreaming===!0;return babelHelpers.extends({},t,{audioAvailabilityInfo:(n=t.audioAvailabilityInfo)!=null?n:o("VideoPlayerAudioAvailabilityInfo").VideoPlayerAudioAvailabilityInfoDefault,autoplayGatingResult:t.autoplayGatingResult!=null?t.autoplayGatingResult:"unknown",canAutoplay:t.canAutoplay!=null?t.canAutoplay:"allow",desiredLatencyMs:(a=t.desiredLatencyMs)!=null?a:0,inbandCaptionsExpected:c,initialRepresentationIds:(i=t.initialRepresentationIds)!=null?i:s,isNCSR:!!t.isNCSR,isPremiumMusicVideo:!!t.isPremiumMusicVideo,latencyToleranceMs:(l=t.latencyToleranceMs)!=null?l:0,loopCount:r("normalizeVideoPlayerLoopCount")(t.loopCount),sideLoadCaptionsExpected:u,startTimestamp:e(t.startTimestamp)})}l.applyDefaultsToCoreVideoPlayerMetaData=u}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children,n=e.isDesktopPictureInPicture,r=e.isFullscreen,a=e.videoPlayerPassiveViewabilityInfo;return s.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:s.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:n,children:s.jsx(o("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:r,children:t})})})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e,t){var n,o=(n=u(r("CappedListItemContext")))==null?void 0:n.registerBlocker;c(function(){if(o){var t=null,n=null,r=function(){var r=e.getCurrentState().playing;if(r!==t&&(t=r,n&&(n(),n=null),r)){var a="playing_video",i;n=o({reason:a,source:i})}};r();var a=e.subscribe(r);return function(){a.remove(),n&&(n(),n=null)}}},[e,o])}l.default=d}),98);
__d("VirtualizationContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext();l.default=u}),98);
__d("useDisableVirtualizationWhenPlayingVideo",["VirtualizationContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e,t){var n=u(r("VirtualizationContext"));c(function(){if(n!=null){var r=n.createFlag,o=n.createPin,a=null,i=null,l=function(){i==null&&(i=r("HAS_PLAYER","playerInstanceKey: "+t));var n=e.getCurrentState();n.playing||n.stalling?a||(a=o("player "+t+" is playing")):n.isFullscreen?a||(a=o("player "+t+" is fullscreen")):(a==null||a(),a=null)};l();var s=e.subscribe(l);return function(){s.remove(),i==null||i(),i=null,a==null||a(),a=null}}},[e,t,n])}l.default=d}),98);
__d("wrapWithContextProviders",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){return t.reduceRight(function(e,t){return t(e)},e)}u.displayName=u.name+" [from "+i.id+"]";function c(e,t){return function(n){return s.jsx(e.Provider,{value:t,children:n})}}l.wrapWithContextProviders=u,l.makeRenderProviderFn=c}),98);
__d("VideoPlayerComponentContainer.react",["CometSSRRenderingStateHooks","CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:6094","react","setTimeout","useBlockCappedListItemWhenPlayingVideo","useDisableVirtualizationWhenPlayingVideo","wrapWithContextProviders"],(function(t,n,r,o,a,i,l){"use strict";var e=["children"],s,u,c,d=s||(s=o("react")),m=s,p=m.useCallback,_=m.useEffect,f=m.useRef,g=m.useState;function h(e){var t=f(e);_(function(){t.current=e},[e]);var n=g(!1),o=n[0],a=n[1],i=g(function(){var e=null;return{cleanup:function(){e&&e()},pingNotIdle:function(){e&&e(),a(!1);var n=r("setTimeout")(function(){a(!0)},t.current);e=function(){r("clearTimeout")(n),e=null}}}}),l=i[0],s=l.cleanup,u=l.pingNotIdle;return _(function(){return s},[s]),{isIdle:o,pingNotIdle:u}}function y(){var e=g(!1),t=e[0],n=e[1],r=3e3,o=h(r),a=o.isIdle,i=o.pingNotIdle,l=p(function(){n(!0),i()},[i]),s=p(function(){n(!1),i()},[i]),u=p(function(){n(!0),i()},[i]),c=p(function(){i()},[i]),d=p(function(){i()},[i]);return{isHovering:t,isIdle:a,onMouseDown:c,onMouseEnter:l,onMouseLeave:s,onMouseMove:u,onMouseUp:d}}function C(e){var t=e.children,n=y(),a=n.isHovering,i=n.isIdle,l=n.onMouseDown,s=n.onMouseEnter,m=n.onMouseLeave,p=n.onMouseMove,_=n.onMouseUp,f=(u||(u=o("VideoPlayerHooks"))).useIsFullscreen();return d.jsx("div",babelHelpers.extends({className:{0:"x5yr21d x10l6tqk x13vifvy xh8yej3",1:"x5yr21d x10l6tqk x13vifvy xh8yej3 xjfk50j"}[!!(f&&i)<<0]},r("CometVisualCompletionAttributes").IGNORE,{onMouseDown:l,onMouseEnter:s,onMouseLeave:m,onMouseMove:p,onMouseUp:_,children:d.jsx((c||(c=o("VideoPlayerContexts"))).VideoPlayerMouseHoverContext.Provider,{value:a,children:d.jsx(c.VideoPlayerMouseIdleContext.Provider,{value:i,children:t})})}))}C.displayName=C.name+" [from "+i.id+"]";function b(t){var a,i=t.children,l=babelHelpers.objectWithoutPropertiesLoose(t,e),s=l.implementationController,u=l.implementationExposedState,m=l.videoPlayerPassiveViewabilityInfo,p=u.activeCaptions,_=u.activeEmsgBoxes,f=u.availableAudioTracks,g=u.availableVideoQualities,h=u.availableVideoTracks,y=u.bufferEnd,b=u.captionDisplayStyle,v=u.captionsLoaded,S=u.captionsVisible,R=u.currentAudioTrackID,L=u.currentVideoQuality,E=u.currentVideoTrackID,k=u.duration,I=u.ended,T=u.error,D=u.inbandCaptionsAutogenerated,x=u.inPlayStalling,$=u.internal_coreVideoPlayerMetaData,P=u.isAbrEnabled,N=u.isDesktopPictureInPicture,M=u.isFullscreen,w=u.isLiveRewindActive,A=u.isLiveRewindAvailable,F=u.lastMuteReason,O=u.lastPauseReason,B=u.lastPlayedTimeMs,W=u.lastPlayReason,q=u.latencyLevel,U=u.loopCount,V=u.loopCurrent,H=u.muted,G=u.paused,z=u.playerInstanceKey,j=u.playerVersion,K=u.playerViewportDimensions,Q=u.playing,X=u.seekableRanges,Y=u.seeking,J=u.selectedVideoQuality,Z=u.stalling,ee=u.streamInterrupted,te=u.targetAudioTrack,ne=u.targetPlaybackRate,re=u.targetVideoQuality,oe=u.videoFBID,ae=u.videoPixelsAspectRatio,ie=u.volume,le=u.watchTimeMs,se=$.adClientToken,ue=$.audioAvailabilityInfo,ce=$.autoplayGatingResult,de=$.broadcastStatus,me=$.canAutoplay,pe=$.disableDubbing,_e=$.initialTracePolicy,fe=$.isNCSR,ge=$.isPremiumMusicVideo,he=$.volumeSetting,ye=d.jsx(C,{children:i});n("cr:6094")(z,{controller:s,coreVideoStates:l,videoPlayerPassiveViewabilityInfo:m});var Ce=(a=o("wrapWithContextProviders")).wrapWithContextProviders(ye,[a.makeRenderProviderFn((c||(c=o("VideoPlayerContexts"))).VideoFBIDContext,oe),o("wrapWithContextProviders").makeRenderProviderFn(c.StallingContext,Z),o("wrapWithContextProviders").makeRenderProviderFn(c.PlayingContext,Q),o("wrapWithContextProviders").makeRenderProviderFn(c.InPlayStallingContext,x),o("wrapWithContextProviders").makeRenderProviderFn(c.BufferEndContext,y),o("wrapWithContextProviders").makeRenderProviderFn(c.LastMuteReasonContext,F),o("wrapWithContextProviders").makeRenderProviderFn(c.LastPlayReasonContext,W),o("wrapWithContextProviders").makeRenderProviderFn(c.LastPauseReasonContext,O),o("wrapWithContextProviders").makeRenderProviderFn(c.PausedContext,G),o("wrapWithContextProviders").makeRenderProviderFn(c.CurrentAudioTrackIDContext,R),o("wrapWithContextProviders").makeRenderProviderFn(c.CurrentVideoTrackIDContext,E),o("wrapWithContextProviders").makeRenderProviderFn(c.CurrentVideoQualityContext,L),o("wrapWithContextProviders").makeRenderProviderFn(c.MutedContext,H),o("wrapWithContextProviders").makeRenderProviderFn(c.TargetAudioTrackContext,te),o("wrapWithContextProviders").makeRenderProviderFn(c.VolumeContext,ie),o("wrapWithContextProviders").makeRenderProviderFn(c.SelectedVideoQualityContext,J),o("wrapWithContextProviders").makeRenderProviderFn(c.SeekingContext,Y),o("wrapWithContextProviders").makeRenderProviderFn(c.DurationContext,k),o("wrapWithContextProviders").makeRenderProviderFn(c.EndedContext,I),o("wrapWithContextProviders").makeRenderProviderFn(c.ErrorContext,T),o("wrapWithContextProviders").makeRenderProviderFn(c.DimensionsContext,K||null),o("wrapWithContextProviders").makeRenderProviderFn(c.InstanceKeyContext,z),o("wrapWithContextProviders").makeRenderProviderFn(c.ControllerContext,s),o("wrapWithContextProviders").makeRenderProviderFn(c.AvailableAudioTracksContext,f),o("wrapWithContextProviders").makeRenderProviderFn(c.AvailableVideoQualitiesContext,g),o("wrapWithContextProviders").makeRenderProviderFn(c.AvailableVideoTracksContext,h),o("wrapWithContextProviders").makeRenderProviderFn(c.PlayerVersionContext,j),o("wrapWithContextProviders").makeRenderProviderFn(c.IsAbrEnabledContext,P),o("wrapWithContextProviders").makeRenderProviderFn(c.TargetVideoQualityContext,re),o("wrapWithContextProviders").makeRenderProviderFn(c.PlaybackRateContext,ne),o("wrapWithContextProviders").makeRenderProviderFn(c.CanAutoplayContext,me),o("wrapWithContextProviders").makeRenderProviderFn(c.VolumeSettingContext,he),o("wrapWithContextProviders").makeRenderProviderFn(c.AutoplayGatingResultContext,ce),o("wrapWithContextProviders").makeRenderProviderFn(c.BroadcastStatusContext,de),o("wrapWithContextProviders").makeRenderProviderFn(c.LoopCountContext,U),o("wrapWithContextProviders").makeRenderProviderFn(c.LoopCurrentContext,V),o("wrapWithContextProviders").makeRenderProviderFn(c.AdClientTokenContext,se),o("wrapWithContextProviders").makeRenderProviderFn(c.ActiveCaptionsContext,p),o("wrapWithContextProviders").makeRenderProviderFn(c.CaptionsVisibleContext,S),o("wrapWithContextProviders").makeRenderProviderFn(c.CaptionDisplayStyleContext,b),o("wrapWithContextProviders").makeRenderProviderFn(c.CaptionsLoadedContext,v),o("wrapWithContextProviders").makeRenderProviderFn(c.InbandCaptionsAutogeneratedContext,D),o("wrapWithContextProviders").makeRenderProviderFn(c.StreamInterruptedContext,ee),o("wrapWithContextProviders").makeRenderProviderFn(c.WatchTimeContext,le),o("wrapWithContextProviders").makeRenderProviderFn(c.LastPlayedTimeContext,B),o("wrapWithContextProviders").makeRenderProviderFn(c.SeekableRangesContext,X),o("wrapWithContextProviders").makeRenderProviderFn(c.LatencyLevelContext,q),o("wrapWithContextProviders").makeRenderProviderFn(c.IsLiveRewindActiveContext,w),o("wrapWithContextProviders").makeRenderProviderFn(c.IsLiveRewindAvailableContext,A),o("wrapWithContextProviders").makeRenderProviderFn(c.AudioAvailabilityInfoContext,ue),o("wrapWithContextProviders").makeRenderProviderFn(c.IsNCSRContext,fe),o("wrapWithContextProviders").makeRenderProviderFn(c.IsPremiumMusicVideoContext,ge),o("wrapWithContextProviders").makeRenderProviderFn(c.InitialTracePolicyContext,_e),o("wrapWithContextProviders").makeRenderProviderFn(c.ActiveEmsgBoxesContext,_),o("wrapWithContextProviders").makeRenderProviderFn(c.VideoPixelsAspectRatioContext,ae!=null?ae:null),o("wrapWithContextProviders").makeRenderProviderFn(c.DisableDubbingContext,pe!=null?pe:!1),function(e){return d.jsx(r("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:N,isFullscreen:M,videoPlayerPassiveViewabilityInfo:m,children:e})}]);r("useBlockCappedListItemWhenPlayingVideo")(s,z),r("useDisableVirtualizationWhenPlayingVideo")(s,z);var be=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating();return d.jsx("div",{"data-instancekey":be?void 0:z,"data-testid":void 0,children:Ce})}b.displayName=b.name+" [from "+i.id+"]";var v=d.memo(b);l.default=v}),98);
__d("GlobalVideoPortsID",["FBLogger","cometUniqueID"],(function(t,n,r,o,a,i,l){"use strict";function e(){return"id-pv-"+r("cometUniqueID")()}function s(e){if(typeof e=="string"){var t="id-pv-";if(e.indexOf(t)===0&&e.length>t.length)return e;throw r("FBLogger")("comet_video_player").mustfixThrow('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "%s"',e)}else return null}function u(){return"id-pp-"+r("cometUniqueID")()}l.makeVideoID=e,l.ensureVideoID=s,l.makePlaceID=u}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","FBLogger","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.current!=null&&o("CometFullScreen").getFullScreenElement()===e.current}function s(t){var n=[];function a(){n.forEach(function(e){e()})}var i=null;return{getIsFullscreen:function(){return e(t)},requestSetIsFullscreen:function(a,i){var n=t.current;if(n==null)throw r("FBLogger")("comet_video_player").mustfixThrow("Requested full screen while the element is not present");o("CometFullScreen").isSupported()?a!==e(t)&&(a===!0?o("CometFullScreen").requestFullScreen(n):a===!1&&o("CometFullScreen").exitFullScreen()):a&&i!=null&&typeof i.webkitEnterFullScreen=="function"?i.webkitEnterFullScreen():!a&&i!=null&&typeof i.webkitExitFullScreen=="function"&&i.webkitExitFullscreen()},subscribe:function(t){return n.length===0&&i==null&&(i=o("CometFullScreen").subscribeToFullScreenChangeEvent(a)),n.push(t),{remove:function(){r("removeFromArray")(n,t),n.length===0&&i!=null&&(i(),i=null)}}}}}l.createFullscreenController=s}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=r("usePrevious")(e);u(function(){e!==n&&n!==null&&n&&!e&&t(o("GlobalVideoPortsID").makeVideoID())},[e,n,t])}function m(e,t){var n=c(null),r=n[0],a=n[1];e!==r&&(r!==null&&r&&!e&&t(o("GlobalVideoPortsID").makeVideoID()),a(e))}var p=r("gkx")("24382")?m:d;function _(e){var t=e.portalingEnabled,n=e.portalingFromVideoID,r=o("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),a=o("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),i=o("GlobalVideoPortsContexts").useGlobalVideoPortsState(),l=a!=null&&i!=null,s=(l||r!=null)&&(t||n!=null),d=c(function(){return o("GlobalVideoPortsID").makePlaceID()}),m=d[0],_=c(function(){return o("GlobalVideoPortsID").makeVideoID()}),f=_[0],g=_[1],h=s&&t&&n!=null,y=h&&n!=null?n:f;return p(h,g),u(function(){s&&!l&&r&&r()},[l,s,r]),{canBecomePortableLater:s,currentVideoID:y,globalVideoPortsManager:a,globalVideoPortsState:i,thisPlaceID:m}}l.useRegenerateUniqueVideoID_exportedForTest=p,l.useVideoPlayerPortalingPlaceState=_}),98);
__d("getOwnObjectValues",[],(function(t,n,r,o,a,i){function e(e){return Object.keys(e).map(function(t){return e[t]})}i.default=e}),66);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","deepEquals","getOwnObjectValues","gkx","react","shallowEqual"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useRef,p=u.useState;function _(e){var t=e.coreVideoPlayerMetaData,n=e.currentVideoID,o=e.fullscreenController,a=e.globalVideoPortsManager,i=e.implementations,l=e.injectCoreVideoStatesRef,s=e.isFullscreen,u=e.portablePlaceContainer,c=e.portablePlaceMetaData,m=e.renderComponents,p=e.renderPlaceholder,_=e.thisPlaceID,f=e.trackingDataEncrypted,g=e.trackingNodes,h=e.viewportMarginsForViewability;d(function(){a.addOrUpdatePlace({coreVideoPlayerMetaData:t,fullscreenController:o,implementations:i,injectCoreVideoStatesRef:l,isFullscreen:s,portablePlaceContainer:u,portablePlaceID:_,portablePlaceMetaData:c,portableVideoID:n,renderComponents:m,renderPlaceholder:p,trackingDataEncrypted:f,trackingNodes:g,viewportMarginsForViewability:h})},[].concat(r("getOwnObjectValues")(t),[n,o,s,a,u],r("getOwnObjectValues")(c||{}),[m,p,_,f,g,h])),d(function(){return function(){a.removePlace({portablePlaceID:_})}},[a,_])}function f(e){var t=e.coreVideoPlayerMetaData,n=e.currentVideoID,o=e.fullscreenController,a=e.globalVideoPortsManager,i=e.implementations,l=e.injectCoreVideoStatesRef,s=e.isFullscreen,u=e.portablePlaceContainer,c=e.portablePlaceMetaData,p=e.renderComponents,_=e.renderPlaceholder,f=e.thisPlaceID,g=e.trackingDataEncrypted,h=e.trackingNodes,y=e.viewportMarginsForViewability,C=m(null),b=m(null);d(function(){var e={coreVideoPlayerMetaData:t,implementations:i,isFullscreen:s,portablePlaceID:f,portablePlaceMetaData:c,portableVideoID:n,trackingDataEncrypted:g,trackingNodes:h,viewportMarginsForViewability:y},d={fullscreenController:o,injectCoreVideoStatesRef:l,portablePlaceContainer:u,renderComponents:p,renderPlaceholder:_};r("deepEquals")(e,C.current)&&r("shallowEqual")(d,b.current)||(C.current=e,b.current=d,a.addOrUpdatePlace(babelHelpers.extends({},e,d)))}),d(function(){return function(){C.current=null,b.current=null,a.removePlace({portablePlaceID:f})}},[a,f])}var g=r("gkx")("17097")?f:_;function h(e){var t,n,a,i,l=e.currentPlaceID,u=e.currentVideoID,d=e.globalVideoPortsManager,_=e.globalVideoPortsState_DEPRECATED,f=e.isFullscreen,h=e.previousPlaceMetaData,y=e.renderComponents,C=e.thisPlaceID,b=p(function(){return o("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})}),v=b[0],S=m(null);g(babelHelpers.extends({},e,{injectCoreVideoStatesRef:S,portablePlaceContainer:v}));var R=c(r("BaseContextualLayerAnchorRootContext")),L=m(null);return s.jsxs(r("BaseContextualLayerAnchorRootContext").Provider,{value:f?L:R,children:[s.jsx(o("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:v},C),s.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:_!=null?(t=(n=d.getCurrentPlaceStateForVideo(_,u))==null?void 0:n.portablePlaceID)!=null?t:null:l,currentVideoID:u,injectCoreVideoStatesRef:S,previousPlaceMetaData:_!=null?(a=(i=d.getPortableVideoState(_,u))==null?void 0:i.previousPlaceMetaData)!=null?a:null:h,renderComponents:y,thisPlaceID:C}),s.jsx("div",{ref:L})]})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","FBLogger","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","useStable","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useEffect,p=c.useState,_={bottom:0,left:0,right:0,top:0};function f(e){var t=e.ref,n=e.children,r=e.debugRole,a=e.testid;return u.jsx(o("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:r,ref:t,testid:void 0,children:n})}f.displayName=f.name+" [from "+i.id+"]";function g(t){var n,a=t.coreVideoPlayerMetaData,i=t.implementations,l=t.portalingEnabled,s=t.portalingFromVideoID,c=t.portalingPlaceMetaData,g=t.renderComponents,h=t.renderPlaceholder;m(function(){return function(){}},[]);var y=s!=null?o("GlobalVideoPortsID").ensureVideoID(s):null;s!=null&&y==null&&r("FBLogger")("comet_video_player").mustfix("The provided portalingFromVideoID (%s) does not look like such an ID. The video player will not use portaling until a valid ID is provided",String(s));var C=o("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:l,portalingFromVideoID:y}),b=C.canBecomePortableLater,v=C.currentVideoID,S=C.globalVideoPortsManager,R=C.globalVideoPortsState,L=C.thisPlaceID,E=d(r("BaseViewportMarginsContext")),k=(e||(e=r("useUnsafeRef_DEPRECATED")))(null),I=r("useStable")(function(){return o("VideoPlayerFullscreenController").createFullscreenController(k)}),T=p(I.getIsFullscreen()),D=T[0],x=T[1];m(function(){var e=I.subscribe(function(){var e=I.getIsFullscreen();x(e)});return x(I.getIsFullscreen()),function(){e.remove()}},[I,x]);var $=d(r("CometTrackingNodesContext")),P=$.join(""),N=d(r("CometTrackingCodeContext")),M=(n=N.encrypted_tracking[0])!=null?n:"",w=D?_:E,A="comet-video-player-place"+(a.videoFBID!=null?"-vid-"+a.videoFBID:"");if(!b)return u.jsx(f,{debugRole:null,ref:k,testid:void 0,children:u.jsx(o("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:L,currentVideoID:v,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:L,children:u.jsx(r("CoreVideoPlayer.react"),{coreVideoPlayerMetaData:a,fullscreenController:I,implementations:i,isFullscreen:D,renderWithCoreVideoStates:g,trackingDataEncrypted:M,trackingNodes:P,viewportMarginsForViewability:w})})});if(S&&R){var F,O,B,W;return u.jsx(f,{debugRole:null,ref:k,testid:void 0,children:u.jsx(r("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentPlaceID:(F=(O=S.getCurrentPlaceStateForVideo(R,v))==null?void 0:O.portablePlaceID)!=null?F:null,currentVideoID:v,fullscreenController:I,globalVideoPortsManager:S,globalVideoPortsState_DEPRECATED:null,implementations:i,isFullscreen:D,portablePlaceMetaData:c,previousPlaceMetaData:(B=(W=S.getPortableVideoState(R,v))==null?void 0:W.previousPlaceMetaData)!=null?B:null,renderComponents:g,renderPlaceholder:h,thisPlaceID:L,trackingDataEncrypted:M,trackingNodes:P,viewportMarginsForViewability:w})})}else{var q;return u.jsx(f,{debugRole:null,ref:k,testid:void 0,children:u.jsx(o("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:v,previousPlaceMetaData:null,renderPlaceholder:h,thisPlaceID:L,videoPixelsAspectRatio:(q=a.videoPixelsAspectRatio)!=null?q:null})})}}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={initialTracePolicy:null,routeTracePolicy:null},d=s.createContext(c);function m(){return u(d)}l.VideoPlayerTracePolicyContext=d,l.useVideoPlayerTracePolicy=m}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=e.children,n=e.initialTracePolicy,r=e.routeTracePolicy,a=d(n),i=a[0],l=a[1],u=d(r),m=u[0],p=u[1];return c(function(){i!==n&&l(n),m!==r&&p(r)},[n,r,i,m]),s.jsx(o("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:i,routeTracePolicy:m},children:t})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=e.children,n=e.coreVideoPlayerMetaData,o=e.implementations,a=e.portalingEnabled,i=e.portalingFromVideoID,l=e.portalingPlaceMetaData,c=e.portalingRenderPlaceholder,d=u(function(e){return s.jsx(r("VideoPlayerComponentContainer.react"),babelHelpers.extends({},e,{children:t}))},[t]);return s.jsx(r("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:n.initialTracePolicy,routeTracePolicy:n.routeTracePolicy,children:s.jsx(r("VideoPlayerPortalingPlace.react"),{coreVideoPlayerMetaData:n,implementations:o,portalingEnabled:a,portalingFromVideoID:i,portalingPlaceMetaData:l,renderComponents:d,renderPlaceholder:c})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("DataViewReader",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.$1=0,this.$2=e}var t=e.prototype;return t.seek=function(t){this.$1=t},t.skip=function(t){var e=this.$1;return this.$1+=t,e},t.readUint8=function(){return this.$2.getUint8(this.skip(1))},t.readUint16=function(t){return t===void 0&&(t=!1),this.$2.getUint16(this.skip(2),t)},t.readUint32=function(t){return t===void 0&&(t=!1),this.$2.getUint32(this.skip(4),t)},t.readUint64=function(t){t===void 0&&(t=!1);var e,n;if(t?(n=this.$2.getUint32(this.skip(4),!0),e=this.$2.getUint32(this.skip(4),!0)):(e=this.$2.getUint32(this.skip(4)),n=this.$2.getUint32(this.skip(4))),e>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*e+n},t.readInt64=function(t){t===void 0&&(t=!1);var e,n;if(t?(n=this.$2.getInt32(this.skip(4),!0),e=this.$2.getInt32(this.skip(4),!0)):(e=this.$2.getInt32(this.skip(4)),n=this.$2.getInt32(this.skip(4))),e>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(e|0)+n},t.readInt16=function(t){return t===void 0&&(t=!1),this.$2.getInt16(this.skip(2),t)},t.readInt32=function(t){return t===void 0&&(t=!1),this.$2.getInt32(this.skip(4),t)},t.readZeroTerminatedString=function(t){for(var e="",n=0,r;n++<t&&(r=this.readUint8());)e+=String.fromCharCode(r);return e},t.readChars=function(t){for(var e="";t-- >0;)e+=String.fromCharCode(this.$2.getUint8(this.skip(1)));return e},t.readBytes=function(t){for(var e=[];t-- >0;)e.push(this.$2.getUint8(this.skip(1)));return e},t.getDataView=function(){return this.$2},t.getCursor=function(){return this.$1},t.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0},e})();i.default=e}),66);
__d("IGDSArrowLeftOutline24Icon.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M22 11H4.414l5.293-5.293a1 1 0 1 0-1.414-1.414l-6.999 7a1 1 0 0 0-.217 1.089 1 1 0 0 0 .217.326l7 6.999a.997.997 0 0 0 1.413 0 1 1 0 0 0 0-1.414L4.414 13H22a1 1 0 1 0 0-2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("IGDSCheckPanoOutlineIcon.react",["IGDSSVGIconBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("polyline",{fill:"none",points:"22 5 9.002 17.998 2.005 11.004",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("IGDSSVGIconBase.react"),babelHelpers.extends({},e,{viewBox:"0 0 24 24",children:n})),t[1]=e,t[2]=a):a=t[2],a}var c=s.memo(u);l.default=c}),98);
__d("IGDSXOutlineIcon.react",["IGDSXPanoOutlineIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("IGDSXPanoOutlineIcon.react"),babelHelpers.extends({},e)),t[0]=e,t[1]=n):n=t[1],n}var c=s.memo(u);l.default=c}),98);
__d("IGDSDialogHeader.react",["fbt","BaseHeading.react","IGDSArrowLeftOutline24Icon.svg.react","IGDSChevronIcon.react","IGDSIcon.react","IGDSIconButton.react","IGDSXOutlineIcon.react","react","react-compiler-runtime","shouldUseIGDSPrismDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"\ub3cc\uc544\uac00\uae30"),d=s._(/*BTDS*/"\ub2eb\uae30"),m={heading:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",fontSize:"xl565be",fontWeight:"xwhw2v2",justifyContent:"xl56j7k",lineHeight:"x5dp1im",textAlign:"x2b8uid",$$css:!0},headingLarge:{fontSize:"x1ms8i2q",lineHeight:"x1ehagqq",$$css:!0},truncatedHeading:{overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(26),n=e.borderBottom,a=e.children,i=e.endAdornment,l=e.onBack,s=e.onClose,p=e.size,_=e.startAdornment,f=e.truncateText,g=n===void 0?"default":n,h=p===void 0?"default":p,y,C,b;if(t[0]!==g||t[1]!==i||t[2]!==l||t[3]!==s||t[4]!==h||t[5]!==_){var v=r("shouldUseIGDSPrismDialog")();y=_!=null?_:l!=null?v?u.jsx(r("IGDSIconButton.react"),{"aria-label":c,onClick:l,padding:0,children:u.jsx(r("IGDSIcon.react"),{icon:r("IGDSArrowLeftOutline24Icon.svg.react"),size:24})}):u.jsx(r("IGDSIconButton.react"),{"aria-label":c,onClick:l,children:u.jsx(r("IGDSChevronIcon.react"),{alt:c,direction:"back",size:18})}):null;var S=s!=null?v?u.jsx(r("IGDSIconButton.react"),{"aria-label":d,onClick:s,padding:0,children:u.jsx(r("IGDSXOutlineIcon.react"),{alt:d,size:24})}):u.jsx(r("IGDSIconButton.react"),{"aria-label":d,onClick:s,children:u.jsx(r("IGDSXOutlineIcon.react"),{alt:d,size:18})}):null;v?y==null?(y=S,C=i):l!=null&&s!=null?C=S:C=i:C=S!=null?S:i,b={0:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x11x8uw5"},4:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x6s0dn4 x1n2wch9 x1hmvnq2 xf7dkkf xv54qhq"},2:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x11x8uw5 x1ixjvfu x1q0q8m5 xso031l"},6:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x6s0dn4 x1n2wch9 x1hmvnq2 xf7dkkf xv54qhq x1ixjvfu x1q0q8m5 xso031l"},1:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s xe98eky"},5:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x6s0dn4 x1hmvnq2 xf7dkkf xv54qhq xe98eky"},3:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x1ixjvfu x1q0q8m5 xso031l xe98eky"},7:{className:"x78zum5 x1q0g3np x1c4vz4f x2lah0s x6s0dn4 x1hmvnq2 xf7dkkf xv54qhq x1ixjvfu x1q0q8m5 xso031l xe98eky"}}[!!(v&&g!=="simple-separator")<<2|(g==="default"||g==="simple-separator")<<1|(h==="large")<<0],t[0]=g,t[1]=i,t[2]=l,t[3]=s,t[4]=h,t[5]=_,t[6]=y,t[7]=C,t[8]=b}else y=t[6],C=t[7],b=t[8];var R;t[9]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x6s0dn4 x78zum5 x19l4sor x1c4vz4f x2lah0s xl56j7k"},t[9]=R):R=t[9];var L;t[10]!==y?(L=u.jsx("div",babelHelpers.extends({},R,{children:y})),t[10]=y,t[11]=L):L=t[11];var E=h==="large"&&m.headingLarge,k=f===!0&&m.truncatedHeading,I;t[12]!==E||t[13]!==k?(I=[m.heading,E,k],t[12]=E,t[13]=k,t[14]=I):I=t[14];var T;t[15]!==a||t[16]!==I?(T=u.jsx(r("BaseHeading.react"),{xstyle:I,children:a}),t[15]=a,t[16]=I,t[17]=T):T=t[17];var D;t[18]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x6s0dn4 x78zum5 x19l4sor x1c4vz4f x2lah0s xl56j7k"},t[18]=D):D=t[18];var x;t[19]!==C?(x=u.jsx("div",babelHelpers.extends({},D,{children:C})),t[19]=C,t[20]=x):x=t[20];var $;return t[21]!==x||t[22]!==b||t[23]!==L||t[24]!==T?($=u.jsxs("div",babelHelpers.extends({},b,{children:[L,T,x]})),t[21]=x,t[22]=b,t[23]=L,t[24]=T,t[25]=$):$=t[25],$}l.default=p}),226);
__d("InstagramChallengeRoutes",[],(function(t,n,r,o,a,i){"use strict";var e="/challenge/action",l="/challenge/v2/action";i.TAKE_CHALLENGE_BASE_PATH=e,i.TAKE_CHALLENGE_TOA_BASE_PATH=l}),66);
__d("InstagramWebBloksDialogContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({onClose:r("emptyFunction")});l.default=u}),98);
__d("PlaybackSpeedExperiments",["CurrentUser","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("gkx")("26216")}function s(){return!1}function u(){return!!(e()||s())}function c(){return s(),!1}function d(){return r("CurrentUser").getID()!=="0"}function m(){return e()?!1:s()?!0:(c(),!1)}function p(){return!0}l.enableWwwPlaybackSpeedControl=u,l.isInCometHeadroomTest=c,l.enableCometPlaybackSpeedControl=d,l.enableCometPlaybackSpeedControlNUX=m,l.enablePlaybackSpeedLogging=p}),98);
__d("PolarisCountryCallingCodes",[],(function(t,n,r,o,a,i){"use strict";var e=new Map([["AC","247"],["AD","376"],["AE","971"],["AF","93"],["AG","1"],["AI","1"],["AL","355"],["AM","374"],["AO","244"],["AR","54"],["AS","1"],["AT","43"],["AU","61"],["AW","297"],["AX","358"],["AZ","994"],["BA","387"],["BB","1"],["BD","880"],["BE","32"],["BF","226"],["BG","359"],["BH","973"],["BI","257"],["BJ","229"],["BL","590"],["BM","1"],["BN","673"],["BO","591"],["BQ","599"],["BR","55"],["BS","1"],["BT","975"],["BW","267"],["BY","375"],["BZ","501"],["CA","1"],["CC","61"],["CD","243"],["CF","236"],["CG","242"],["CH","41"],["CI","225"],["CK","682"],["CL","56"],["CM","237"],["CN","86"],["CO","57"],["CR","506"],["CU","53"],["CV","238"],["CW","599"],["CX","61"],["CY","357"],["CZ","420"],["DE","49"],["DJ","253"],["DK","45"],["DM","1"],["DO","1"],["DZ","213"],["EC","593"],["EE","372"],["EG","20"],["EH","212"],["ER","291"],["ES","34"],["ET","251"],["FI","358"],["FJ","679"],["FK","500"],["FM","691"],["FO","298"],["FR","33"],["GA","241"],["GB","44"],["GD","1"],["GE","995"],["GF","594"],["GG","44"],["GH","233"],["GI","350"],["GL","299"],["GM","220"],["GN","224"],["GP","590"],["GQ","240"],["GR","30"],["GT","502"],["GU","1"],["GW","245"],["GY","592"],["HK","852"],["HN","504"],["HR","385"],["HT","509"],["HU","36"],["ID","62"],["IE","353"],["IL","972"],["IM","44"],["IN","91"],["IO","246"],["IQ","964"],["IR","98"],["IS","354"],["IT","39"],["JE","44"],["JM","1"],["JO","962"],["JP","81"],["KE","254"],["KG","996"],["KH","855"],["KI","686"],["KM","269"],["KN","1"],["KP","850"],["KR","82"],["KW","965"],["KY","1"],["KZ","7"],["LA","856"],["LB","961"],["LC","1"],["LI","423"],["LK","94"],["LR","231"],["LS","266"],["LT","370"],["LU","352"],["LV","371"],["LY","218"],["MA","212"],["MC","377"],["MD","373"],["ME","382"],["MF","590"],["MG","261"],["MH","692"],["MK","389"],["ML","223"],["MM","95"],["MN","976"],["MO","853"],["MP","1"],["MQ","596"],["MR","222"],["MS","1"],["MT","356"],["MU","230"],["MV","960"],["MW","265"],["MX","52"],["MY","60"],["MZ","258"],["NA","264"],["NC","687"],["NE","227"],["NF","672"],["NG","234"],["NI","505"],["NL","31"],["NO","47"],["NP","977"],["NR","674"],["NU","683"],["NZ","64"],["OM","968"],["PA","507"],["PE","51"],["PF","689"],["PG","675"],["PH","63"],["PK","92"],["PL","48"],["PM","508"],["PR","1"],["PS","970"],["PT","351"],["PW","680"],["PY","595"],["QA","974"],["RE","262"],["RO","40"],["RS","381"],["RU","7"],["RW","250"],["SA","966"],["SB","677"],["SC","248"],["SD","249"],["SE","46"],["SG","65"],["SH","290"],["SI","386"],["SJ","47"],["SK","421"],["SL","232"],["SM","378"],["SN","221"],["SO","252"],["SR","597"],["SS","211"],["ST","239"],["SV","503"],["SX","1"],["SY","963"],["SZ","268"],["TA","290"],["TC","1"],["TD","235"],["TG","228"],["TH","66"],["TJ","992"],["TK","690"],["TL","670"],["TM","993"],["TN","216"],["TO","676"],["TR","90"],["TT","1"],["TV","688"],["TW","886"],["TZ","255"],["UA","380"],["UG","256"],["US","1"],["UY","598"],["UZ","998"],["VA","379"],["VC","1"],["VE","58"],["VG","1"],["VI","1"],["VN","84"],["VU","678"],["WF","681"],["WS","685"],["YE","967"],["YT","262"],["ZA","27"],["ZM","260"],["ZW","263"]]),l=e;i.default=l}),66);
__d("PolarisCountryCodeUtils",["PolarisConfig","PolarisCountryCallingCodes","memoize"],(function(t,n,r,o,a,i,l){"use strict";var e=r("memoize")(function(){var e=o("PolarisConfig").getCountryCode()==="internal"?"US":o("PolarisConfig").getCountryCode(),t=r("PolarisCountryCallingCodes").get(e!=null?e:"");return e!=null&&t!=null?{code:e,phoneCode:t}:null});function s(e){var t=r("PolarisCountryCallingCodes").get(e||"");return e!=null&&t!=null?{code:e,phoneCode:t}:{code:"US",phoneCode:"1"}}function u(e){return e.code+" +"+e.phoneCode}l.getInitialCountryCode=e,l.countryCodeFromCode=s,l.stringFromCountryCode=u}),98);
__d("PolarisRelationshipActionFollowUser",["PolarisGenericStrings","PolarisSentryFeedbackActions","PolarisSharedAPI","QPLUserFlow","polarisLogAction","polarisUserSelectors","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return n===void 0&&(n={}),function(a,i){r("QPLUserFlow").addPoint(r("qpl")._(379204720,"1722"),"request_started");var l=i().users.viewerId;return r("polarisLogAction")("followUserAttempt",babelHelpers.extends({},n,{source:t})),a({subjectUserId:e,type:"FOLLOW_USER"}),o("PolarisSharedAPI").followUser(e).then(function(s){r("QPLUserFlow").endSuccess(r("qpl")._(379204720,"1722")),r("polarisLogAction")("followUserSuccess",babelHelpers.extends({},n,{source:t})),a({followResult:s.result,isPrivate:o("polarisUserSelectors").isPrivate(i(),e),subjectUserId:e,type:"FOLLOW_SUCCEEDED",viewerId:l})},function(i){var l,s,u;r("QPLUserFlow").endFailure(r("qpl")._(379204720,"1722"),"request_failed"),r("polarisLogAction")("followUserFailure",babelHelpers.extends({},n,{source:t}));var c=((l=i.responseObject)==null?void 0:l.spam)||!1;if(c){var d,m,p,_,f,g,h,y=(d=i.responseObject)==null?void 0:d.feedback_title,C=(m=i.responseObject)==null?void 0:m.feedback_message,b=(p=i.responseObject)==null?void 0:p.feedback_url,v=(_=i.responseObject)==null?void 0:_.feedback_action,S=(f=i.responseObject)==null?void 0:f.feedback_appeal_label,R=(g=i.responseObject)==null?void 0:g.restriction_enrollment_data,L=(h=i.responseObject)==null?void 0:h.enforcement_transparency_instance_identifier;a(o("PolarisSentryFeedbackActions").showSentryFeedback({action:v,enforcement_transparency_instance_identifier:L,feedback_appeal_label:S,message:C,restriction_enrollment_data:R,source:t,sourceOfAction:"follow_user",title:y,url:b}))}var E={subjectUserId:e,toast:{text:(s=(u=i.responseObject)==null?void 0:u.message)!=null?s:o("PolarisGenericStrings").FAILED_TO_LOAD_TEXT},type:"FOLLOW_FAILED"};a(E)})}}l.followUser=e}),98);
__d("PolarisFollowButtonContainer.react",["PolarisFollowButton.react","PolarisReactRedux.react","PolarisRelationshipActionFollowUser","PolarisRelationshipActionUnfollowUser","polarisRelationshipSelectors.react","react","react-compiler-runtime","usePolarisLoggedOutIntentEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t){return{relationship:o("polarisRelationshipSelectors.react").getRelationship(e.relationships,t.userId)}}function c(e,t){return{onFollowUser:function(r,a,i){return t.onFollowUserCallback&&t.onFollowUserCallback(),e(o("PolarisRelationshipActionFollowUser").followUser(r,a,i))},onUnfollowUser:function(r,a,i){t.onUnfollowUserCallback&&t.onUnfollowUserCallback(),e(o("PolarisRelationshipActionUnfollowUser").unfollowUser(r,a,i))}}}function d(e){var t=o("react-compiler-runtime").c(8),n=r("usePolarisLoggedOutIntentEntryPointDialog")(),a=n[0],i=n[1],l;t[0]!==a?(l=function(t,n){a==null||a({nextUrl:t,source:n})},t[0]=a,t[1]=l):l=t[1];var u=l,c;t[2]!==i?(c=function(){i==null||i()},t[2]=i,t[3]=c):c=t[3];var d=c,m;return t[4]!==u||t[5]!==d||t[6]!==e?(m=s.jsx(r("PolarisFollowButton.react"),babelHelpers.extends({},e,{onLoggedOutIntentClick:u,onLoggedOutIntentMouseEnter:d})),t[4]=u,t[5]=d,t[6]=e,t[7]=m):m=t[7],m}var m=o("PolarisReactRedux.react").connect(u,c)(d);l.default=m}),98);
__d("PolarisIGCoreBox",["cx","FBLogger","IGDSBox.react","err","joinClasses","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["__filesource","color","dangerouslySetClassName","shape"],u,c=u||(u=o("react")),d=(function(t){function n(){return t.apply(this,arguments)||this}babelHelpers.inheritsLoose(n,t),n.toMargin=function(t){var e;switch(t){case 0:e=0;break;case 1:e=1;break;case 2:e=2;break;case 3:e=3;break;case 4:e=4;break;case 5:e=5;break;case 6:e=6;break;case 7:e=7;break;case 8:e=8;break;case 9:e=9;break;case 10:e=10;break;case 11:e=11;break;case 12:e=12;break;case 13:e=13;break;case 14:e=14;break;case 15:e=15;break;case 16:e=16;break;case 17:e=17;break;default:e="auto";break}return e};var o=n.prototype;return o.$1=function(t){var e=t.border,n=t.shape;return(e?"_ab8j":"")+(n==="circle"?" _ab8k":"")+(n==="rounded"?" _ab8l":"")+(n==="extra-rounded"?" _ab8m":"")},o.$2=function(t){var e=t.color;return(e==="ig-primary-button"?"_ab8n":"")+(e==="ig-highlight-background"?" _ab8o":"")+(e==="web-secondary-action"?" _ab8p":"")+(e==="ig-secondary-background"?" _ab8q":"")+(e==="docpen-red"?" _ab8r":"")+(e==="ig-primary-background"?" _ab8s":"")+(e==="ig-primary-text"?" _ab8t":"")+(e==="web-always-white"?" _ab8u":"")+(e==="web-overlay-on-media"?" _ab8v":"")},o.$3=function(t){var e=t.display;return(e==="flex"?"_ab8w":"")+(e==="block"?" _ab8x":"")+(e==="inlineBlock"?" _ab8y":"")+(e==="none"?" _ab8z":"")+(e==="visuallyHidden"?" _ab8-":"")},o.$4=function(t){var e=t.alignContent,n=t.alignItems,r=t.alignSelf,o=t.direction,a=t.flex,i=t.justifyContent,l=t.wrap;return(e==="start"?"_ab8_":"")+(e==="end"?" _ab90":"")+(e==="center"?" _ab91":"")+(e==="between"?" _ab92":"")+(e==="around"?" _ab93":"")+(e==="stretch"?" _ab94":"")+(n==="start"?" _ab95":"")+(n==="end"?" _ab96":"")+(n==="center"?" _ab97":"")+(n==="baseline"?" _ab98":"")+(n==="stretch"?" _ab99":"")+(r==="start"?" _ab9a":"")+(r==="end"?" _ab9b":"")+(r==="center"?" _ab9c":"")+(r==="baseline"?" _ab9d":"")+(r==="stretch"?" _ab9e":"")+(i==="start"?" _ab9f":"")+(i==="end"?" _ab9g":"")+(i==="center"?" _ab9h":"")+(i==="between"?" _ab9i":"")+(i==="around"?" _ab9j":"")+(o==="row"?" _ab9k":"")+(o==="rowReverse"?" _ab9l":"")+(o==="column"?" _ab9m":"")+(o==="columnReverse"?" _ab9n":"")+(a==="grow"?" _ab9o":"")+(a==="none"?" _ab9p":"")+(a==="shrink"?" _ab9q":"")+(l?" _ab9r":"")},o.$5=function(t){var e=t.height,n=t.maxHeight,r=t.maxWidth,o=t.minHeight,a=t.minWidth,i=t.width,l={};for(var s in arguments[0])arguments[0][s]!==void 0&&(l[s]=arguments[0][s]);return l},o.$6=function(t){var e=t.overflow;return(e==="hidden"?"_ab9s":"")+(e==="scroll"?" _ab9t":"")+(e==="scrollX"?" _ab9u":"")+(e==="scrollY"?" _ab9v":"")+(e==="auto"?" _ab9w":"")},o.$7=function(t){var e=t.padding,n=t.paddingX,r=t.paddingY,o=n!==void 0?n:e,a=r!==void 0?r:e;return(o===1?"_ab9x":"")+(o===2?" _ab9y":"")+(o===3?" _ab9z":"")+(o===4?" _ab9-":"")+(o===5?" _ab9_":"")+(o===6?" _aba0":"")+(o===7?" _aba1":"")+(o===8?" _aba2":"")+(o===9?" _aba3":"")+(o===10?" _aba4":"")+(o===11?" _aba5":"")+(o===12?" _aba6":"")+(a===1?" _aba7":"")+(a===2?" _aba8":"")+(a===3?" _aba9":"")+(a===4?" _abaa":"")+(a===5?" _abab":"")+(a===6?" _abac":"")+(a===7?" _abad":"")+(a===8?" _abae":"")+(a===9?" _abaf":"")+(a===10?" _abag":"")+(a===11?" _abah":"")+(a===12?" _abai":"")},o.$8=function(t){var e=t.margin,n=t.marginBottom,r=t.marginEnd,o=t.marginStart,a=t.marginTop,i=n!==void 0?n:e,l=a!==void 0?a:e,s=o!==void 0?o:e,u=r!==void 0?r:e;return(i===1?"_abaj":"")+(i===2?" _abak":"")+(i===3?" _abal":"")+(i===4?" _abam":"")+(i===5?" _aban":"")+(i===6?" _abao":"")+(i===7?" _abap":"")+(i===8?" _abaq":"")+(i===9?" _abar":"")+(i===10?" _abas":"")+(i===11?" _abat":"")+(i===12?" _abau":"")+(i===13?" _abav":"")+(i===14?" _abaw":"")+(i===15?" _abax":"")+(i===16?" _abay":"")+(i===17?" _abaz":"")+(i==="auto"?" _aba-":"")+(s===1?" _aba_":"")+(s===2?" _abb0":"")+(s===3?" _abb1":"")+(s===4?" _abb2":"")+(s===5?" _abb3":"")+(s===6?" _abb4":"")+(s===7?" _abb5":"")+(s===8?" _abb6":"")+(s===9?" _abb7":"")+(s===10?" _abb8":"")+(s===11?" _abb9":"")+(s===12?" _abba":"")+(s===13?" _abbb":"")+(s===14?" _abbc":"")+(s===15?" _abbd":"")+(s===16?" _abbe":"")+(s===17?" _abbf":"")+(s==="auto"?" _abbg":"")+(u===1?" _abbh":"")+(u===2?" _abbi":"")+(u===3?" _abbj":"")+(u===4?" _abbk":"")+(u===5?" _abbl":"")+(u===6?" _abbm":"")+(u===7?" _abbn":"")+(u===8?" _abbo":"")+(u===9?" _abbp":"")+(u===10?" _abbq":"")+(u===11?" _abbr":"")+(u===12?" _abbs":"")+(u===13?" _abbt":"")+(u===14?" _abbu":"")+(u===15?" _abbv":"")+(u===16?" _abbw":"")+(u===17?" _abbx":"")+(u==="auto"?" _abby":"")+(l===1?" _abbz":"")+(l===2?" _abb-":"")+(l===3?" _abb_":"")+(l===4?" _abc0":"")+(l===5?" _abc1":"")+(l===6?" _abc2":"")+(l===7?" _abc3":"")+(l===8?" _abc4":"")+(l===9?" _abc5":"")+(l===10?" _abc6":"")+(l===11?" _abc7":"")+(l===12?" _abc8":"")+(l===13?" _abc9":"")+(l===14?" _abca":"")+(l===15?" _abcb":"")+(l===16?" _abcc":"")+(l===17?" _abcd":"")+(l==="auto"?" _abce":"")},o.$9=function(t){var e=t.bottom,n=t.left,r=t.position,o=t.right,a=t.top;return(e?"_abcf":"")+(n?" _abcg":"")+(r==="absolute"?" _abch":"")+(r==="fixed"?" _abci":"")+(r==="relative"?" _abcj":"")+(o?" _abck":"")+(a?" _abcl":"")},o.render=function(){if(m(this.props)){var t=this.props,n=t.__filesource,o=t.color,a=t.dangerouslySetClassName,i=t.shape,l=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsx(r("IGDSBox.react"),babelHelpers.extends({},l,{color:p(o),shape:_(i)}))}var s=this.props,u=s.accessibilityLabel,d=s.accessibilityLabelledBy,f=s.alignContent,g=s.alignItems,h=s.alignSelf,y=s.border,C=s.bottom,b=s.children,v=s.color,S=s.containerRef,R=s.dangerouslySetClassName,L=s["data-testid"],E=s["data-visualcompletion"],k=s.direction,I=s.display,T=s.flex,D=s.height,x=s.id,$=s.justifyContent,P=s.left,N=s.margin,M=s.marginBottom,w=s.marginEnd,A=s.marginStart,F=s.marginTop,O=s.maxHeight,B=s.maxWidth,W=s.minHeight,q=s.minWidth,U=s.overflow,V=s.padding,H=s.paddingX,G=s.paddingY,z=s.position,j=s.right,K=s.shape,Q=s.top,X=s.width,Y=s.wrap,J=this.$1({border:y,shape:K}),Z=this.$2({color:v}),ee=this.$3({display:I}),te=this.$4({alignContent:f,alignItems:g,alignSelf:h,direction:k,flex:T,justifyContent:$,wrap:Y}),ne=this.$8({margin:N,marginBottom:M,marginEnd:w,marginStart:A,marginTop:F}),re=this.$6({overflow:U}),oe=this.$7({padding:V,paddingX:H,paddingY:G}),ae=this.$9({bottom:C,left:P,position:z,right:j,top:Q}),ie=r("joinClasses")(J,Z,ee,te,ne,re,oe,ae),le=r("joinClasses")(ie,R==null?void 0:R.__className,"_abcm");return c.jsx("div",babelHelpers.extends({},{},{"aria-label":u,"aria-labelledby":d,className:le,"data-testid":void 0,"data-visualcompletion":E,id:x,ref:S,style:this.$5({height:D,maxHeight:O,maxWidth:B,minHeight:W,minWidth:q,width:X}),children:b}))},n})(c.PureComponent);d.defaultProps={alignContent:"stretch",alignItems:"stretch",alignSelf:"auto",border:!1,bottom:!1,color:"transparent",direction:"column",display:"flex",flex:"none",justifyContent:"start",left:!1,margin:0,overflow:"visible",padding:0,position:"static",right:!1,shape:"square",top:!1,wrap:!1};function m(e){return e.dangerouslySetClassName==null}function p(e){switch(e){case"ig-primary-background":return"primaryBackground";case"ig-secondary-background":return"secondaryBackground";case"ig-highlight-background":return"highlightBackground";case"ig-primary-button":return"primaryButton";case"web-secondary-action":return"secondaryAction";case"transparent":return"transparent";case"ig-primary-text":return"primaryText";case"web-always-white":return"alwaysWhite";default:return r("FBLogger")("ig_web").catching(r("err")('Attempted to map PolarisIGCoreBox color "%s" which has no IGDS equivalent',e)),"transparent"}}function _(e){switch(e){case"square":case"rounded":case"circle":return e;case"extra-rounded":return"extraRounded";default:return r("FBLogger")("ig_web").catching(r("err")('Attempted to map PolarisIGCoreBox shape "%s" which has no IGDS equivalent',e)),"square"}}l.default=d}),98);
__d("PolarisIGCorePhoneNumberInput.react",["cx","fbt","IGCoreModal.react","IGDSBox.react","IGDSChevronDownPanoOutline24Icon.react","IGDSDivider.react","IGDSText.react","ISOCountryCode","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton.react","PolarisIGCoreIconButton.react","PolarisIGCoreModalHeader.react","PolarisIGCoreTextInput.react","PolarisIGVirtualList.react","gkx","memoizeWithArgs","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=r("memoizeWithArgs")(function(e,t,n){return Array.from(t.entries()).filter(function(t){var o=t[0],a=t[1],i=n[r("ISOCountryCode")[o]];return i?!!(e===""||o.toUpperCase().includes(e)||i.toUpperCase().includes(e)):!1})},function(e){return e}),m=c.memo(function(t){return c.jsx(r("PolarisIGCoreBox"),{dangerouslySetClassName:t.isFirst?void 0:{__className:"_aa89"},height:p,marginEnd:4,marginStart:4,children:c.jsx("button",{className:"_aa8a",onClick:t.onChangeCountryCode,type:"button",children:c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",position:"relative",children:[c.jsx(r("IGDSText.react"),{children:t.countryName}),c.jsx(r("IGDSText.react"),{color:"secondaryText",children:"+"+t.phoneCode})]})})})}),p=54,_=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={filterText:"",showCountryCodeSelector:!1},t.$1=function(e){var n=t.props.onBlur;n&&n(e)},t.$2=function(e){var n=t.props.onFocus;n&&n(e)},t.$3=function(e){var n=t.props.onFocusCountryCode;n&&n(e)},t.onCloseModal=function(){t.setState({showCountryCodeSelector:!1})},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.displayPhoneCode=function(t){return t==null?"":t.code+" +"+t.phoneCode},n.getListOption=function(t){var e=this;return function(n){var o=n.index,a=t[o],i=a[0],l=a[1];return c.jsx(m,{countryCodeValue:i,countryName:e.props.countryNamesMap[r("ISOCountryCode")[i]],isFirst:o===0,onChangeCountryCode:function(){e.props.onChangeCountryCode({code:i,phoneCode:l}),e.onCloseModal()},phoneCode:l},i)}},n.render=function(){var e=this,t,n,a,i,l=this.props,s=l["aria-describedby"],m=l["aria-label"],_=l["aria-labelledby"],f=l.backgroundColor,g=l.disabled,h=l.endAdornment,y=l.hasError,C=l.maxLength,b=l.onChange,v=l.onKeyDown,S=l.placeholder,R=l.readOnly,L=l.required,E=l.style,k=l.value,I=r("gkx")("19881"),T=this.props.isNuxStepV2===!0?c.jsx("div",{className:"_aa8b",children:c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",minWidth:75,children:[c.jsx(r("IGDSBox.react"),{marginEnd:1,children:c.jsxs(r("IGDSText.react"),{color:"primaryText",weight:"normal",zeroMargin:!0,children:[(t=(n=this.props.countryCode)==null?void 0:n.code)!=null?t:""," +",(a=(i=this.props.countryCode)==null?void 0:i.phoneCode)!=null?a:""]})}),c.jsx(r("IGDSBox.react"),{alignItems:"end",flex:"grow",justifyContent:"end",children:c.jsx(r("IGDSChevronDownPanoOutline24Icon.react"),{alt:o("PolarisGenericStrings").DOWN_CHEVRON_ALT,color:"ig-primary-icon",size:12})})]})})}):c.jsx("div",{className:"_aa8b",children:I?c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsx(r("IGDSText.react"),{color:"primaryButtonText",weight:"normal",zeroMargin:!0,children:this.displayPhoneCode(this.props.countryCode)})}):c.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,color:"ig-secondary-button",onClick:function(){return e.setState({showCountryCodeSelector:!0})},children:c.jsx(r("IGDSText.react"),{color:"primaryButton",weight:"semibold",zeroMargin:!0,children:this.displayPhoneCode(this.props.countryCode)})})}),D=d(this.state.filterText.toUpperCase(),this.props.countryCodesMap,this.props.countryNamesMap),x=u._(/*BTDS*/"\uad6d\uac00 \uc120\ud0dd");return c.jsxs(c.Fragment,{children:[this.state.showCountryCodeSelector&&c.jsxs(r("IGCoreModal.react"),{"aria-label":x,dangerouslySetClassName:{__className:"_aa8c"},onClose:this.onCloseModal,size:"large",children:[" ",c.jsx(r("PolarisIGCoreModalHeader.react"),{onClose:this.onCloseModal,children:x}),c.jsxs(r("IGDSBox.react"),{position:"relative",children:[c.jsx(r("IGDSBox.react"),{marginEnd:2,marginStart:2,position:"relative",children:c.jsx(r("PolarisIGCoreTextInput.react"),{backgroundColor:"transparent",name:"filter",onChange:function(n){return e.setState({filterText:n.target.value})},onFocus:this.$3,placeholder:u._(/*BTDS*/"\uad6d\uac00 \uc774\ub984 \ub610\ub294 \ucf54\ub4dc"),startAdornment:c.jsx(r("PolarisIGCoreIconButton.react"),{alt:o("PolarisGenericStrings").SEARCH_TEXT,icon:o("PolarisAssetManagerGlyphMapping").ICONS.SEARCH_OUTLINE_24_GREY9}),style:"borderless",type:"search",value:this.state.filterText})}),c.jsx(r("IGDSDivider.react"),{}),c.jsx(r("PolarisIGVirtualList.react"),{className:"_aa8d",containerSize:"auto",estimatedItemSize:p,itemCount:D.length,renderer:this.getListOption(D)})]})]}),c.jsx(r("PolarisIGCoreTextInput.react"),{"aria-describedby":s,"aria-label":m,"aria-labelledby":_,autoComplete:"tel",backgroundColor:f,dangerouslySetClassName:{__className:this.props.isNuxStepV2===!0?"_aup2":"_aa8e"},disabled:g,endAdornment:h,hasError:y,maxLength:C,name:"phone",onBlur:this.$1,onChange:b,onFocus:this.$2,onKeyDown:v,placeholder:S,readOnly:R,required:L,startAdornment:T,style:E,type:"tel",value:k})]})},t})(c.Component);l.default=_}),226);
__d("PolarisIGCoreSheetDragBar.react",["cx","PolarisIGCoreSheetDraggable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx(r("PolarisIGCoreSheetDraggable.react"),{children:u.jsx("div",{className:"_ac7m",children:u.jsx("div",{className:"_ac7n"})})}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("PolarisIGCoreSheet.react",["cx","PolarisBodyScrollLock.react","PolarisIGCoreModalBackdrop.react","PolarisIGCoreSheetContext.react","PolarisIGCoreSheetDragBar.react","polarisGetAppPlatform","react","usePolarisViewport"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p=c.useRef,_=c.useState,f=300,g=28;function h(e){var t=e.allowScrolling,n=t===void 0?!0:t,a=e.children,i=e["data-testid"],l=e.isVisible,s=l===void 0?!0:l,c=e.onClose,h=e.shouldClose,y=h===void 0?!1:h,C=e.shouldDisablePopInAnimation,b=C===void 0?!1:C,v=e.stops,S=v===void 0?["auto"]:v,R=e.transparent,L=R===void 0?!1:R,E=r("usePolarisViewport")(),k=E.height,I=p(),T=_(!0),D=T[0],x=T[1],$=p(null),P=p(null),N=p([]),M=p(!1),w=_(k),A=w[0],F=w[1],O=_(A!==0),B=O[0],W=O[1],q=function(t){return N.current.reduce(function(e,n){return Math.abs(n-t)<Math.abs(e-t)?n:e},1/0)};m(function(){!B&&k!==0&&(F(k),W(!0))},[B,A,k]),m(function(){var e;if(B){var t=((e=I.current)==null?void 0:e.scrollHeight)||0,n=k-t-g;N.current=[].concat(S,["0%"]).map(function(e){if(typeof e=="string"){if(e==="auto")return n;if(e.slice(-1)==="%"){var t=1-Number(e.slice(0,-1))/100;return Math.ceil(t*k)}}else if(typeof e=="number")return e<0?-1*e:k-e-g;throw new Error('IGCoreSheet: Unknown stop value "'+e+'"')}).map(function(e){return Math.max(0,Math.min(e,k))}),F(q(A))}},[].concat(S,[B,k])),m(function(){if(s){var e=N.current,t=e[0];F(t)}},[s]);var U=d(function(e){$.current=e.touches[0].screenY,P.current=A,x(!1)},[A]),V=d(function(e){if(!($.current==null||P.current==null||!M.current)){var t=e.touches[0].screenY,n=$.current-t;F(P.current-n),e.preventDefault()}},[]);m(function(){return document.addEventListener("touchmove",V,{passive:!1}),function(){return document.removeEventListener("touchmove",V)}},[V]);var H=function(){var e=q(A);x(!0),F(e),A>=k?c():e>=k&&window.setTimeout(function(){c()},f),$.current=null},G=d(function(){x(!0),F(k),window.setTimeout(function(){c()},f)},[c,k]);m(function(){y&&G()},[G,y]);var z=k-A-g,j=s&&o("polarisGetAppPlatform").isIOS(),K=o("PolarisBodyScrollLock.react").useBodyScrollLock(j,n);return u.jsx(r("PolarisIGCoreSheetContext.react").Provider,{value:M,children:u.jsx(r("PolarisIGCoreModalBackdrop.react"),{isVisible:s,justifyContent:"flex-start",onClose:G,onTouchEnd:H,onTouchStart:U,overflow:"hidden",children:u.jsxs("div",{className:"_ac7o"+(L===!0?" _ac7p":""),"data-testid":void 0,ref:K,style:{animation:b?"none":"",transform:"translateY("+A+"px)",transition:D&&!b?"transform "+f/1e3+"s ease":""},children:[u.jsx(r("PolarisIGCoreSheetDragBar.react"),{}),u.jsx("div",{className:"_ac7q",ref:I,style:{height:z+"px"},children:typeof a=="function"?a(z):a})]})})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("PolarisIGCoreSheetOrModal",["IGCoreModal.react","IGDSBox.react","IGDSThemeProvider.react","InstagramWebBloksDialogContext.react","PolarisIGCoreModalHeader.react","PolarisIGCoreSheet.react","PolarisUA","polarisWithForwardRef.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=400;function d(e){var t=o("react-compiler-runtime").c(41),n=e.children,a=e.closeButtonPosition,i=e["data-testid"],l=e.desktopMaxHeight,d=e.forwardedRef,_=e.headerLeftAlign,f=e.headerSize,g=e.headerStartAdornment,h=e.hideCloseButton,y=e.isModalOverlayTransparent,C=e.isVisible,b=e.modalClassName,v=e.modalStyle,S=e.onBack,R=e.onClose,L=e.size,E=e.stops,k=e.title,I=l===void 0?c:l,T=u(r("InstagramWebBloksDialogContext.react")),D;t[0]!==T||t[1]!==R?(D=function(){T==null||T.onClose(),R()},t[0]=T,t[1]=R,t[2]=D):D=t[2];var x=D;if(o("PolarisUA").isMobile()){var $=C!=null?C:!0,P;t[3]!==n||t[4]!==g||t[5]!==S||t[6]!==k?(P=function(t){return s.jsx(m,{headerStartAdornment:g,height:t,onBack:S,title:k,children:n})},t[3]=n,t[4]=g,t[5]=S,t[6]=k,t[7]=P):P=t[7];var N;return t[8]!==d||t[9]!==x||t[10]!==E||t[11]!==$||t[12]!==P||t[13]!==i?(N=s.jsx(r("IGDSThemeProvider.react"),{children:s.jsx(r("PolarisIGCoreSheet.react"),{"data-testid":void 0,isVisible:$,onClose:x,ref:d,stops:E,children:P})}),t[8]=d,t[9]=x,t[10]=E,t[11]=$,t[12]=P,t[13]=i,t[14]=N):N=t[14],N}var M=y===!0&&p.transparentBackground,w=C!=null?C:!0,A;t[15]!==x||t[16]!==_||t[17]!==f||t[18]!==g||t[19]!==h||t[20]!==S||t[21]!==k?(A=k!=null||S!=null?s.jsx(r("PolarisIGCoreModalHeader.react"),{leftAlign:_,onBack:S,onClose:h===!0?null:x,size:f,startAdornment:g,children:k}):null,t[15]=x,t[16]=_,t[17]=f,t[18]=g,t[19]=h,t[20]=S,t[21]=k,t[22]=A):A=t[22];var F;t[23]!==n?(F=s.jsx(r("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:n}),t[23]=n,t[24]=F):F=t[24];var O;t[25]!==I||t[26]!==A||t[27]!==F?(O=s.jsxs(r("IGDSBox.react"),{maxHeight:I,position:"relative",children:[A,F]}),t[25]=I,t[26]=A,t[27]=F,t[28]=O):O=t[28];var B;return t[29]!==a||t[30]!==d||t[31]!==x||t[32]!==y||t[33]!==b||t[34]!==v||t[35]!==L||t[36]!==M||t[37]!==w||t[38]!==O||t[39]!==i?(B=s.jsx(r("IGCoreModal.react"),{className:b,closeButtonPosition:a,"data-testid":void 0,innerContentXStyle:M,isOverlayTransparent:y,isVisible:w,onClose:x,ref:d,size:L,style:v,children:O}),t[29]=a,t[30]=d,t[31]=x,t[32]=y,t[33]=b,t[34]=v,t[35]=L,t[36]=M,t[37]=w,t[38]=O,t[39]=i,t[40]=B):B=t[40],B}function m(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.headerStartAdornment,i=e.height,l=e.onBack,u=e.title,c;t[0]!==a||t[1]!==l||t[2]!==u?(c=u!=null||l!=null||a!=null?s.jsx(r("PolarisIGCoreModalHeader.react"),{onBack:l,startAdornment:a,children:u}):null,t[0]=a,t[1]=l,t[2]=u,t[3]=c):c=t[3];var d=c,m;t[4]!==n||t[5]!==i?(m=typeof n=="function"?n(i):n,t[4]=n,t[5]=i,t[6]=m):m=t[6];var p;t[7]!==m?(p=s.jsx(r("IGDSBox.react"),{flex:"grow",overflow:"auto",position:"relative",children:m}),t[7]=m,t[8]=p):p=t[8];var _;return t[9]!==d||t[10]!==p?(_=s.jsxs(s.Fragment,{children:[d,p]}),t[9]=d,t[10]=p,t[11]=_):_=t[11],_}var p={transparentBackground:{backgroundColor:"xjbqb8w",$$css:!0}},_=r("polarisWithForwardRef.react")(d);l.DEFAULT_CONTAINER_MAX_HEIGHT=c,l.IGCoreSheetOrModal=_}),98);
__d("PolarisPhoneCommonStrings",["fbt","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"\uc804\ud654\ubc88\ud638\ub97c \ucd94\uac00\ud558\uc138\uc694"),d=s._(/*BTDS*/"Instagram\uc758 \uc5c5\ub370\uc774\ud2b8 \ub0b4\uc6a9\uc744 SMS\ub85c \uc218\uc2e0\ud560 \uc218 \uc788\uc73c\uba70, \uc5b8\uc81c\ub4e0\uc9c0 \uc218\uc2e0\uc744 \ucde8\uc18c\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."),m=s._(/*BTDS*/"\uc804\ud654\ubc88\ud638"),p=s._(/*BTDS*/"\uc804\ud654\ubc88\ud638\ub97c \ucd94\uac00\ud558\uba74 \ub354 \uc27d\uac8c \ub85c\uadf8\uc778\ud558\uace0, \uacc4\uc815\uc744 \ubcf5\uad6c\ud558\uace0, \ud314\ub85c\uc6b0\ud560 \uc0ac\ub78c\uc744 \ucc3e\ub294 \ub370 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4."),_=s._(/*BTDS*/"\ubcc0\uacbd"),f=s._(/*BTDS*/"\uc804\ud654\ubc88\ud638\ub97c \uc798\ubabb \uc785\ub825\ud558\uc168\ub098\uc694?"),g=s._(/*BTDS*/"\uc644\ub8cc"),h=s._(/*BTDS*/"\ud655\uc778 \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"),y=s._(/*BTDS*/"\uc778\uc99d \ucf54\ub4dc");function C(e){return s._(/*BTDS*/"{phoneNumber}\ubc88\uc73c\ub85c \uc804\uc1a1\ub41c \uc778\uc99d \ucf54\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694.",[s._param("phoneNumber",e)])}function b(e){return s._(/*BTDS*/"\ucf54\ub4dc\ub97c \ubc1b\uc9c0 \ubabb\ud55c \uacbd\uc6b0 {resendCode}\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",[s._param("resendCode",e)])}l.ADD_PHONE_NUMBER_LABEL=c,l.PHONE_NUMBER_CAPTION=d,l.PHONE_NUMBER_LABEL=m,l.PHONE_NUMBER_VALUE_PROP=p,l.CONFIRMATION_CODE_CHANGE_CODE=_,l.CONFIRMATION_CODE_CHANGE_CODE_QUESTION=f,l.CONFIRMATION_CODE_DONE=g,l.ENTER_CONFIRMATION_CODE_LABEL=h,l.CONFIRMATION_CODE_TITLE=y,l.confirmationCodeBodyText=C,l.confirmationCodeResendCode=b}),226);
__d("PolarisPhoneNumberCountryCodeInput.react",["CountryNames","PolarisCountryCallingCodes","PolarisIGCorePhoneNumberInput.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=s.jsx(r("PolarisIGCorePhoneNumberInput.react"),babelHelpers.extends({countryCodesMap:r("PolarisCountryCallingCodes"),countryNamesMap:r("CountryNames")},e)),t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);
__d("PolarisVideoHelpers",["PolarisMediaTypes","PolarisSizing"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.dashInfo==null)return null;var t=e.dashInfo,n=t.is_dash_eligible,r=t.number_of_qualities,o=t.video_dash_manifest;return!n||o==null?null:{isDashEligible:n,numberOfQualities:r,videoDashManifest:o}}function s(e,t){var n;return(n=e.videoResources)==null?void 0:n.find(function(e){return e.type===t})}function u(e){var t,n,r;return(t=(n=s(e,o("PolarisMediaTypes").MediaVersionType.VIDEO_480_HIGH))==null?void 0:n.src)!=null?t:(r=s(e,o("PolarisMediaTypes").MediaVersionType.VIDEO_480_LOW))==null?void 0:r.src}function c(e){var t;return(t=s(e,o("PolarisMediaTypes").MediaVersionType.VIDEO_640_HIGH))==null?void 0:t.src}function d(e,t){return{autoplayGatingResult:"unknown",autoplaySetting:e===!0?"default_autoplay":"off",canAutoplay:e===!0||t===!0?"allow":"deny"}}function m(e,t){if(e==null)return 100;var n=o("PolarisSizing").getHeightPercent(e);return t?Math.min(n,o("PolarisSizing").CAPPED_HEIGHT_PERCENT):n}l.getDashInfoFromPost=e,l.getSDVideoSrcFromPost=u,l.getHDVideoSrcFromPost=c,l.getVideoPlayerAutoplayProps=d,l.getVideoPaddingPercentFromDimensions=m}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzErrorUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={error:null},t.suppressReactDefaultErrorLoggingIUnderstandThisWillMakeBugsHarderToFindAndFix=!0,babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromError=function(t){return{error:r("getErrorSafe")(t)}};var n=t.prototype;return n.componentDidCatch=function(t,n){var e=n.componentStack,a=r("getErrorSafe")(t);a.componentStack=e;var i=this.props,l=i.description,s=i.onError,u=i.project,c=o("oz-player/utils/OzErrorUtils").isOzError(t)?t.getType():t!=null&&typeof t.name=="string"?t.name:a.name;try{a.name=c}catch(e){}var d="VideoPlayerErrorBoundary caught an "+c;l!=null&&(d=d+" ("+l+")");var m=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"],p=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha","OZ_DRM_MANAGER: Endpoint returned error: DEVICE_CERTIFICATE_REVOKED"],_=m.every(function(e){return a.name!==e})&&p.every(function(e){return!a.message.startsWith(e)}),f=r("FBLogger")(u==null?"comet_video_player":u).catching(a);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(a.name)&&(f=f.addToCategoryKey(a.message)),_?f.fatal(d):f.warn(d),s!=null&&s(a)},n.render=function(){var e=this.props,t=e.children,n=e.fallback,r=this.state.error;return r?typeof n=="function"?n(r):n:t},t})(s.PureComponent);l.default=u}),98);
__d("VideoPlayerSurface.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.children;return t!=null?t:null}u.displayName=u.name+" [from "+i.id+"]";var c=s.memo(u);l.default=c}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e=r("deferredLoadComponent")(r("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));l.default=e}),98);
__d("VideoPlayerIMFMetadataContext",["FBLogger","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={imfExpectedFromEmsg:!1,specInlineJson:null},d=s.createContext(c);d.displayName="VideoPlayerIMFMetadataContext";var m=d.Provider;function p(){var e=u(d);if(e===c)throw r("FBLogger")("comet_video_player").mustfixThrow("useVideoPlayerIMFMetadata is not called from a component nested under VideoPlayerRelay/VideoPlayerX.");return e}l.VideoPlayerIMFMetadataContextProvider=m,l.useVideoPlayerIMFMetadataFromContext=p}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:13141","cr:913","setInterval"],(function(t,n,r,o,a,i,l){"use strict";var e=2e4,s=new Set,u=null;function c(t,a){a===void 0&&(a="extender"),s.add(t),u==null&&(o("WebSession").extend(Date.now()+e+2e3),n("cr:13141")==null||n("cr:13141").extend(),u=r("setInterval")(function(){o("WebSession").extend(Date.now()+e+2e3),n("cr:13141")==null||n("cr:13141").extend(),n("cr:913")&&new(n("cr:913"))().setClientTime(Date.now()).setWebsessionID(o("WebSession").getId()).setReason(a).log()},e))}function d(e){s.delete(e);var t=s.size;t===0&&u!=null&&(r("clearInterval")(u),u=null)}l.subscribe=c,l.unsubscribe=d}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useId;function m(){var e=(s||(s=o("VideoPlayerHooks"))).usePlaying(),t=d();return c(function(){if(e)return o("WebSessionExtender").subscribe(t,"video"),function(){o("WebSessionExtender").unsubscribe(t)}},[e,t]),null}l.default=m}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=(e||(e=o("VideoPlayerHooks"))).useStalling(),n=e.useStreamInterrupted(),r=e.useIsLiveRewindActive(),a=n&&!r,i=t,l=a?"live_video_interrupted_overlay":i?"spinner":"none";return{liveVideoInterruptedOverlayVisible:a,loadingIndicatorType:l,spinnerVisible:i}}l.default=s}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","once","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("deferredLoadComponent")(r("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),c=r("deferredLoadComponent")(r("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),d=r("once")(function(){return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(c,{})})});function m(){var e=r("useVideoPlayerDefaultLoadingIndicatorsLogic")(),t=e.loadingIndicatorType,n=e.spinnerVisible,o=s.jsx(u,{isVisible:n}),a=null;switch(t){case"spinner":a=o;break;case"live_video_interrupted_overlay":a=d();break;case"none":default:a=o}return{loadingIndicatorElement:a,loadingIndicatorType:t}}l.default=m}),98);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=Object.values(r("CVCv3DisabledPlayerOrigins")),s=Object.values(r("CVCv3DisabledPlayerSubOrigins")),u=10,c=(function(){function t(t,n,o,a,i,l){var u=this;this.$1=new(r("CVCv3SubscriptionHelper"))(t,n,o),this.$5=i,this.$6=null,this.$9=null,this.$10=!this.$1.isValidSubscription(),this.$3=null,this.$2=null;var c=n!=null?e.includes(n):!1,d=o!=null?s.includes(o):!1;!c&&!d&&(this.$3=a,this.$11=l,this.$4=a.subscribe(function(){if(u.$3==null){u.$1.logDebugInfo("empty_video_controller");return}var e=u.$3.getCurrentState();e.playing?u.$12(e):u.$13()}))}var n=t.prototype;return n.$12=function(t){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}if(t.playing){if(this.$2==null){var e=this.$3.getPlayheadPosition();e>=0&&(this.$2=e)}}else this.$2=null;this.$14(0)},n.stopUnifiedCVC=function(){this.$13()},n.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null},n.$13=function(){r("clearTimeout")(this.$8),r("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null},n.$15=function(){r("clearTimeout")(this.$7),this.$7=null},n.$16=function(){this.$9=null,this.$15(),this.$14(0)},n.$14=function(t){var e=this;this.$3==null||this.$8!=null||this.$9!=null||this.$10||(this.$8=r("setTimeout")(function(){e.$8=null;var t=e.$17();if(t==null){e.$1.logDebugInfo("empty_request");return}e.$9=t;var n=Date.now(),a=!1;r("promiseDone")(t,function(r){if(t===e.$9)if(e.$9=null,r!=null){var o=e.$1.processUnifiedResponse(r);e.$18(o,n)}else e.$1.logHttpResponseBad("null payload",Date.now()-n)},function(t){a=!0,e.$1.logHttpRequestFailure(t!=null?JSON.stringify(t):null,Date.now()-n)}),e.$7=r("setTimeout")(function(){a||e.$1.logHttpRequestTimeout(Date.now()-n),e.$16()},u*o("DateConsts").MS_PER_SEC)},t))},n.$18=function(t,n){this.$15();var e=Date.now()-n;if(t.d!=null?(this.$1.logHttpRequestSuccess(e),this.$11!=null&&this.$11(t.d)):this.$1.logHttpResponseBad("no data field",e),t.a!=null){var r=t.a.t;switch(r){case"p":var a=t.a.pi;a==null&&(a=u),this.$14(a*o("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}},n.$17=function(){var e=this.$19();if(e==null)return null;var t={d:JSON.stringify(e)};return r("cometAsyncFetch")(r("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:t,method:"POST"})},n.$19=function(){if(this.$3==null)return null;var e={};this.$6!=null&&(e.lc=this.$6),this.$5&&(e.ls=!0);var t=0,n=0;this.$2!=null&&(t=this.$2,n=this.$3.getPlayheadPosition());var r=this.$3.getCurrentState(),o=this.$1.makeUnifiedVideoCVCUpdate(t,n,this.$20(r),r.muted,e);return o},n.$20=function(t){return t.playing||t.seeking?"playing":t.ended?"ended":t.paused?"paused":"unknown"},n.testing_setLastStartPosition=function(t){this.$2=t},n.testing_makeUnifiedStateUpdate=function(){return this.$19()},n.testing_handleUnifiedResponse=function(t){return this.$18(t,Date.now())},t})();l.default=c}),98);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect,c=o("createVideoStateHook").createVideoStateHook(null),d=c.setterHook,m=o("createVideoStateHook").createVideoStateHook(null),p=m.setterHook,_=m.valueHook;function f(e){var t=e.disableSubscription,n=e.playerFormat,a=e.subOrigin,i=e.videoFBID,l=(s||(s=o("VideoPlayerHooks"))).useIsLive(),c=s.useIsFullscreen(),m=s.useIsDesktopPictureInPicture(),_=s.useController(),f=d(),g=p();u(function(){if(t===!0){r("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:i,name:"disable_subscription"}});return}var e=new(r("UnifiedVideoCVCSubscription"))(i,r("getPlayerFormatForLogData")({isDesktopPictureInPicture:m,isFullscreen:c},n),a,_,l,function(e){g(e)});return f(e),function(){e.destroy()}},[m,c,l,t,n,g,f,a,_,i])}var g=_;l.useVideoPlayerUnifiedCVCProvider=f,l.useVideoPlayerUnifiedCVCData=g}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerHooks","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useImperativeHandle,m=(e=n("cr:99"))==null?void 0:e.VideoPlayerWithDebugOverlay;function p(e){var t=e.apiRef,a=e.children,i=e.disableCVCSubscription,l=e.disableLoadingIndicator,s=l===void 0?!1:l,p=e.disableLogging,_=e.instreamVideoAdBreaksPlayer,f=e.playerFormat,g=e.subOrigin,h=e.videoFBID,y=e.videoPlayerIMFFromVideoMetadata,C=e.videoPlayerSpherical,b=(u||(u=o("VideoPlayerHooks"))).useController(),v=o("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo();d(typeof t=="function"?t:null,function(){return{controller:b,portalingPlaceInfo:v}},[b,v]),o("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:p===!0||i===!0,playerFormat:f,subOrigin:g,videoFBID:h});var S=r("useVideoPlayerDefaultLoadingIndicators")(),R=S.loadingIndicatorElement;return c.jsxs(o("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:y!=null?y:null,children:[C,s?null:R,r("gkx")("24328")?c.jsx(o("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,c.jsxs(r("VideoPlayerCaptionsAreaDeferred.react"),{children:[a,_]}),c.jsx(r("CoreVideoPlayerAutoplayClient.react"),{}),c.jsx(r("CoreVideoPlayerAudioClient.react"),{}),n("cr:1954434")?c.jsx(n("cr:1954434"),{}):null,m?c.jsx(m,{subOrigin:g}):null,c.jsx(r("VideoPlayerWebSessionExtender.react"),{})]})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("useParentRoute",["CometRouterParentRouteContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometRouterParentRouteContext"))}l.default=u}),98);
__d("usePlayerOriginRouteTracePolicy",["CometNotificationsRootContext","CometRouteRenderType","react","useCometRouteTracePolicy","useCometRouterState","useParentRoute","useRoutePassthroughProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e,t=s(r("CometNotificationsRootContext")),n=t.isNotificationsRoute,a=r("useCometRouteTracePolicy")(),i=o("CometRouteRenderType").useIsPushView(),l=r("useParentRoute")(),u=r("useCometRouterState")(),c=r("useRoutePassthroughProps")();if((c==null?void 0:c.isARLTW)===!0)return"comet.watch.arltw";var d=a==="comet.videos.tahoe",m=a==="comet.stories.viewer",p=a==="comet.reels.home"||a==="comet.reels.unified.player";if(i){if(d)return"unknown";if(m)return a;if(p&&(l==null?void 0:l.tracePolicy)==null&&u!=null){var _,f=u.main,g=u.pushViewStack,h=g&&g.length>1?g[g.length-2]:f,y=h.route;return(_=y.tracePolicy)!=null?_:a}}return n&&!d?a:(e=l==null?void 0:l.tracePolicy)!=null?e:a}l.default=u}),98);
__d("useRouteProductAttribution",["CometRouteProductAttributionContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(r("CometRouteProductAttributionContext"))}l.default=u}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerMetaData","CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";var e=["apiRef","children","disableLoadingIndicator","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical"],s,u=s||(s=o("react"));function c(t){var n=t.apiRef,a=t.children,i=t.disableLoadingIndicator,l=t.implementations,s=t.instreamVideoAdBreaksPlayer,c=t.portalingEnabled,d=t.portalingFromVideoID,m=t.portalingPlaceMetaData,p=t.portalingRenderPlaceholder,_=t.videoPlayerIMFFromVideoMetadata,f=t.videoPlayerSpherical,g=babelHelpers.objectWithoutPropertiesLoose(t,e),h=r("usePlayerOriginRouteTracePolicy")(),y=r("useRouteProductAttribution")();y||(y=g.productAttribution);var C=o("CoreVideoPlayerMetaData").applyDefaultsToCoreVideoPlayerMetaData(babelHelpers.extends({},g,{productAttribution:y,routeTracePolicy:h}));return u.jsx(r("CoreVideoPlayerWithComponents.react"),{coreVideoPlayerMetaData:C,implementations:l,portalingEnabled:c,portalingFromVideoID:d,portalingPlaceMetaData:m,portalingRenderPlaceholder:p,children:u.jsx(r("VideoPlayerXImplSurface.react"),{apiRef:n,children:a,disableCVCSubscription:C.loggingConfig.disableCVCSubscription,disableLoadingIndicator:i,disableLogging:C.loggingConfig.disableLogging,instreamVideoAdBreaksPlayer:s,playerFormat:C.playerFormat,subOrigin:C.subOrigin,videoFBID:C.videoFBID,videoPlayerIMFFromVideoMetadata:_,videoPlayerSpherical:f})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometFacebookHelpURLConstants","FDSLink.react","FDSText.react","gkx","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=r("gkx")("20836")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":o("CometFacebookHelpURLConstants").FACEBOOK_HELP_BASE_URL+"/396404120401278/list";return u.jsx(r("FDSText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:u.jsx(r("FDSLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about video playback issues"),href:e,target:"_blank",children:s._(/*BTDS*/"\ub354 \uc54c\uc544\ubcf4\uae30")})})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["FDSText.react","VideoPlayerFallbackLearnMoreLink.react","cr:2324","cr:4149","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.background,o=e.debugError,a=e.message,i=e.showDebugWithoutError,l=i===void 0?!0:i,u=e.showLearnMoreLink,c=u===void 0?!0:u;return s.jsxs("div",{className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x2vl965 x1a8lsjc xe2zdcy x1n2onr6 xh8yej3",children:[s.jsxs("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox"},1:{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox x1vjfegm"}}[(t!=null)<<0],{children:[s.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w",children:s.jsx(r("FDSText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:a})}),c&&s.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w",children:s.jsx(r("VideoPlayerFallbackLearnMoreLink.react"),{})}),(o!=null||l)&&s.jsxs(s.Fragment,{children:[n("cr:4149")?s.jsx(n("cr:4149"),{error:o}):null,n("cr:2324")?s.jsx(n("cr:2324"),{error:o}):null]})]})),t!=null&&s.jsx("div",{className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy",children:t})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.background,n=e.debugError,o=e.message,a=e.showDebugWithoutError,i=e.showLearnMoreLink,l=o!=null?o:s._(/*BTDS*/"\uc8c4\uc1a1\ud569\ub2c8\ub2e4. \uc774 \ub3d9\uc601\uc0c1\uc744 \uc7ac\uc0dd\ud558\ub294 \uc911 \ubb38\uc81c\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");return u.jsx(r("VideoPlayerFallbackCoverImplWithoutRetry.react"),{background:t,debugError:n,message:l,showDebugWithoutError:a,showLearnMoreLink:i})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("getVideoPlayerUserFacingErrorMessageFromError",["fbt","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return r("gkx")("24345")&&e.message.toLowerCase().indexOf("audio_renderer_error")>=0}function u(e){return e.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function c(e){return e.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||e.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0}function d(e){return e.name==="OZ_NETWORK"&&e.message.includes("CDN URL expired")}function m(t){var n=null;return e(t)?n=s._(/*BTDS*/"\uc624\ub514\uc624 \ub80c\ub354\ub7ec \uc624\ub958: \ucef4\ud4e8\ud130\ub97c \ub2e4\uc2dc \uc2dc\uc791\ud558\uc138\uc694."):u(t)?n=s._(/*BTDS*/"\uc774 \ub3d9\uc601\uc0c1\uc740 DRM\uc73c\ub85c \ubcf4\ud638\ub418\uc9c0\ub9cc \uae30\uae30 \uc778\uc99d\uc11c\uac00 \ud574\uc9c0\ub41c \uac83 \uac19\uc2b5\ub2c8\ub2e4. \ube0c\ub77c\uc6b0\uc800\uac00 \ucd5c\uc2e0 \ubc84\uc804\uc778\uc9c0 \ud655\uc778\ud55c \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."):c(t)?n=s._(/*BTDS*/"\uc774 \ub3d9\uc601\uc0c1\uc740 \ud604\uc7ac \uc0ac\uc6a9 \uc911\uc778 \ube0c\ub77c\uc6b0\uc800, \uc6b4\uc601 \uccb4\uc81c \ub610\ub294 \ud558\ub4dc\uc6e8\uc5b4\uc5d0\uc11c \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):d(t)&&(n=s._(/*BTDS*/"\ud604\uc7ac \uc774 \ub3d9\uc601\uc0c1 \ucf58\ud150\uce20\ub97c \uc774\uc6a9\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),n}l.default=m}),226);
__d("defaultErrorBoundaryFallback",["VideoPlayerFallbackCover.react","getVideoPlayerUserFacingErrorMessageFromError","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=r("getVideoPlayerUserFacingErrorMessageFromError")(e);return s.jsx(r("VideoPlayerFallbackCover.react"),{debugError:e,message:t})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("VideoPlayerX.react",["VideoPlayerErrorBoundary.react","VideoPlayerXImpl.react","defaultErrorBoundaryFallback","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn","errorBoundaryFallback"],s,u=s||(s=o("react"));function c(t){var n=t.doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn,o=n===void 0?!1:n,a=t.errorBoundaryFallback,i=babelHelpers.objectWithoutPropertiesLoose(t,e),l=u.jsx(r("VideoPlayerXImpl.react"),babelHelpers.extends({VideoPlayerShakaPerformanceLoggerClass:null,isSpherical:i.videoPlayerSpherical!=null},i));return o?l:u.jsx(r("VideoPlayerErrorBoundary.react"),{description:"VideoPlayerX",fallback:a!=null?a:r("defaultErrorBoundaryFallback"),children:l})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("computeAspectRatio",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e!=null&&t!=null&&e!==0&&t!==0?e/t:null}i.default=e}),66);
__d("PolarisVideoUA",["InstagramUserAgent","PolarisConfig","gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("InstagramUserAgent").is_ios_mmse_supported_browser}function s(){if(o("PolarisConfig").isLoggedOutUserMobile()&&e()){var t;return(t=r("qex")._("2944"))!=null?t:!1}return o("PolarisConfig").isLoggedOutUser()&&r("gkx")("9965")||r("gkx")("25417")}function u(){var t;return o("PolarisConfig").isLoggedOutUserMobile()&&e()?(t=r("qex")._("2944"))!=null?t:!1:r("gkx")("12799")}l.isIOSMMSESupportedBrowser=e,l.doesPlatformSupportDash=s,l.isIOSDeviceWithDASH=u}),98);
__d("usePolarisLOXLogExposureViaGraphQL",["CometRelay","fetchPolarisLoggedOutExperiment","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=o("react-compiler-runtime").c(4),a=o("CometRelay").useRelayEnvironment(),i=c(!1),l;n[0]!==t||n[1]!==a||n[2]!==e?(l=function(){!i.current&&e&&r("promiseDone")(r("fetchPolarisLoggedOutExperiment")(a,t).finally(function(){i.current=!0}))},n[0]=t,n[1]=a,n[2]=e,n[3]=l):l=n[3],u(l,void 0)}l.default=d}),98);
__d("usePolarisGetDashInfo",["PolarisConfig","PolarisRoutePropUtils","PolarisVideoUA","qex","react","react-compiler-runtime","usePolarisLOXLogExposureViaGraphQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){return e==null?!1:o("PolarisVideoUA").doesPlatformSupportDash()}function c(e){var t,n=o("react-compiler-runtime").c(5),a;n[0]!==e?(a=u(e),n[0]=e,n[1]=a):a=n[1];var i=a,l=s(o("PolarisRoutePropUtils").PolarisRoutePropContext),c=l==null?void 0:l.routePropQE.getBool("is_ios_video_dash_enabled"),d;n[2]!==i?(d=o("PolarisConfig").isLoggedOutUserMobile()&&i,n[2]=i,n[3]=d):d=n[3];var m;return n[4]===Symbol.for("react.memo_cache_sentinel")?(m={name:"ig_mweb_dash_video_playback_universe",param:"is_dash_disabled"},n[4]=m):m=n[4],r("usePolarisLOXLogExposureViaGraphQL")(d,m),!i||o("PolarisConfig").isLoggedOutUserMobile()&&o("PolarisVideoUA").isIOSMMSESupportedBrowser()&&!c||o("PolarisConfig").isLoggedOutUserMobile()&&((t=r("qex")._("4664"))!=null&&t)?null:e}l.default=c}),98);
__d("PolarisVideo.react",["CometVideoPlayerLoggingConfigForPolaris","IGNavChain","PolarisContainerModuleUtils","PolarisRoutePropUtils","PolarisVideoHelpers","VideoPlayerErrorBoundary.react","VideoPlayerSurface.react","VideoPlayerX.react","computeAspectRatio","cr:7521","defaultErrorBoundaryFallback","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisGetDashInfo","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t,a=o("react-compiler-runtime").c(44),i=e.adInfo,l=e.alt,c=e.autoplay,m=e.canAutoplay,p=e.children,_=e.dashInfo,f=e.hdSrc,g=e.isAd,h=e.isLive,y=e.loopCount,C=e.mediaId,b=e.originalHeight,v=e.originalWidth,S=e.ownerId,R=e.poster,L=e.renderVideoPixelsFit,E=e.sdSrc,k=e.seoWebCrawlerLookasideUrl,I=e.trackingToken,T=r("usePolarisGetDashInfo")(_),D;a[0]!==T||a[1]!==f||a[2]!==g||a[3]!==h||a[4]!==E?(D={dashInfo:T,hdSrc:f,isAd:g,isLive:h,sdSrc:E},a[0]=T,a[1]=f,a[2]=g,a[3]=h,a[4]=E,a[5]=D):D=a[5];var x=n("cr:7521")(D),$;a[6]!==c||a[7]!==m?($=o("PolarisVideoHelpers").getVideoPlayerAutoplayProps(c,m),a[6]=c,a[7]=m,a[8]=$):$=a[8];var P=$,N;a[9]!==b||a[10]!==v?(N=r("computeAspectRatio")(v,b),a[9]=b,a[10]=v,a[11]=N):N=a[11];var M=N,w=r("usePolarisAnalyticsContext")(),A=r("useStable")(d),F=u(o("PolarisRoutePropUtils").PolarisRoutePropContext),O;a[12]!==(F==null?void 0:F.routePropQE)?(O=F==null?void 0:F.routePropQE.getBool("is_ssr_enabled"),a[12]=F==null?void 0:F.routePropQE,a[13]=O):O=a[13];var B=O,W;a[14]!==(F==null?void 0:F.routeProp)?(W=F==null?void 0:F.routeProp.getString("general_uuid"),a[14]=F==null?void 0:F.routeProp,a[15]=W):W=a[15];var q=W,U;a[16]!==h?(U=o("CometVideoPlayerLoggingConfigForPolaris").createCometVideoPlayerLoggingConfigForPolaris(h),a[16]=h,a[17]=U):U=a[17];var V;a[18]!==w?(V=o("PolarisContainerModuleUtils").getContainerModule(w),a[18]=w,a[19]=V):V=a[19];var H=(t=i==null?void 0:i.tracking_token)!=null?t:I,G=i?"paid":"organic",z;a[20]!==A||a[21]!==S||a[22]!==V||a[23]!==H||a[24]!==G?(z={author_id:S,current_watching_module:V,nav_chain:A,tracking_token:H,tracking_type:G},a[20]=A,a[21]=S,a[22]=V,a[23]=H,a[24]=G,a[25]=z):z=a[25];var j=B&&q!=null?C+q:void 0,K;a[26]!==p?(K=p!=null?p:s.jsx(r("VideoPlayerSurface.react"),{}),a[26]=p,a[27]=K):K=a[27];var Q;return a[28]!==l||a[29]!==P||a[30]!==x||a[31]!==h||a[32]!==B||a[33]!==y||a[34]!==C||a[35]!==R||a[36]!==L||a[37]!==k||a[38]!==z||a[39]!==j||a[40]!==K||a[41]!==U||a[42]!==M?(Q=s.jsx(r("VideoPlayerX.react"),babelHelpers.extends({alt:l,bypassUseCometSizeError:B,disableLoadingIndicator:!0,doNotRenderErrorBoundaryIUnderstandIMustProvideMyOwn:!0,implementations:x,isLiveStreaming:h,loggingConfig:U,loggingToSNAPLAdditionalData:z,loopCount:y,portalingEnabled:!1,poster:R,preloadForProgressiveDisabled:!0,renderVideoPixelsFit:L,seoWebCrawlerLookasideUrl:k,subOrigin:"inline",videoFBID:C,videoPixelsAspectRatio:M,videoPlayerUniqueIDOverride:j},P,{children:K})),a[28]=l,a[29]=P,a[30]=x,a[31]=h,a[32]=B,a[33]=y,a[34]=C,a[35]=R,a[36]=L,a[37]=k,a[38]=z,a[39]=j,a[40]=K,a[41]=U,a[42]=M,a[43]=Q):Q=a[43],Q}function d(){var e;return(e=r("IGNavChain").getInstance())==null?void 0:e.getNavChainForSend()}function m(e){return s.jsx(r("VideoPlayerErrorBoundary.react"),{description:"PolarisVideoX",fallback:r("defaultErrorBoundaryFallback"),children:s.jsx(c,babelHelpers.extends({},e))})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("SecurePostMessage",["invariant"],(function(t,n,r,o,a,i,l){"use strict";var e="*",s={sendMessageToSpecificOrigin:function(n,r,o,a){o!==e||l(0,21157),n.postMessage(r,o,a)},sendMessageForCurrentOrigin:function(t,n){t.postMessage(n)},sendMessageAllowAnyOrigin_UNSAFE:function(n,r,o){n.postMessage(r,e,o)}};a.exports=s}),null);
__d("VideoControlsContainerFocusedContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoHomeTypedLiteLogger",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:VideoHomeLoggerConfig")}),null);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});l.default=u}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useEffect,m=u.useState,p=s.createContext(null);function _(e){var t=e.children,n=r("useStable")(function(){var e=null,t=null,n=null;return{getBottomRowAddOn:function(){return t},initialize:function(o){n=function(n){t=n,o(n)},e!=null&&(n(e),e=null)},setBottomRowAddOn:function(r){if(n==null){e=r;return}n(r)}}});return s.jsx(p.Provider,{value:n,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=c(p),n=m(e),r=n[0],o=n[1];return d(function(){t!=null&&t.initialize(o)},[t]),r}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=c(p);d(function(){t!=null&&t.setBottomRowAddOn(e)},[e,t])}l.VideoPlayerControlsBottomRowAddOnContext=p,l.VideoPlayerControlsBottomRowAddOnContextProvider=_,l.useVideoPlayerControlsBottomRowAddOn=f,l.useSetVideoPlayerControlsBottomRowAddOn=g}),98);
__d("VideoPlayerCaptionsDisplay.react",["FBLogger","VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useContext,m={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},p={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},_={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},f={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function g(e){switch(e){case"center":return m.captionsCenterAlign;case"left":return m.captionsLeftAlign;case"right":return m.captionsRightAlign;default:r("FBLogger")("comet_video_player").mustfix("Unsupported captions text alignment: %s",e)}}function h(e,t,n){var r={},o=e.captionsBackgroundColor,a=e.captionsBackgroundOpacity,i=e.captionsTextColor,l=e.captionsTextSize;if(o!==null){var s=a!==null?_[a]:1;r.backgroundColor="rgba("+f[o]+","+s+")"}return i!==null&&(r.color="rgba("+f[i]+")"),l!==null&&(r.fontSize=t!=null?babelHelpers.extends({},p,t)[l]:p[l]),n&&(r.marginBottom=35),r}function y(t){var n,a,i=t.activeCaptions,l=t.adjustments,s=t.captionDisplayStyle,p=i==null?void 0:i.rows,_=d(r("VideoPlayerCaptionsDisplayConfigContext")),f=_.liveCaptionsTextAlignment,y=_.textSizeMapping,C=d(o("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext),b=(C==null?void 0:C.getBottomRowAddOn())!=null,v={};s&&(v=h(s,y,b));var S=(u||(u=o("VideoPlayerHooks"))).useIsLive(),R=(n=i==null||(a=i.styles)==null?void 0:a.textAlignment)!=null?n:"center";if(p!=null&&p.length>0){var L=p.map(function(e){return e.trim()}).filter(function(e){return!!e});return L.length>0?c.jsx("div",{className:(e||(e=r("stylex")))(m.captionsContainer,g(S&&f!=null?f:R)),style:{paddingLeft:l.left,paddingRight:l.right,transform:"translateY("+-l.bottom+"px)"},children:c.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r x32vodv xat24cr x1v6o4qg xulzisn xoge9qh x1uwfbks xytt9sc",style:v,children:L.map(function(e,t){return c.jsxs("span",{children:[e,c.jsx("br",{})]},t)})})}):null}return null}y.displayName=y.name+" [from "+i.id+"]";var C=c.memo(y),b=C;l.default=b}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(){var e=(s||(s=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservations();return u(function(){var t={bottom:0,left:0,right:0,top:0};return e.length>0&&e.forEach(function(e){t[e.location]+=e.size}),t},[e])}l.default=c}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","useVideoPlayerCaptionsDisplayAdjustments"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(){var e=(s||(s=o("VideoPlayerHooks"))).useActiveCaptions(),t=r("useVideoPlayerCaptionsDisplayAdjustments")(),n=s.useCaptionDisplayStyle();return u.jsx(r("VideoPlayerCaptionsDisplay.react"),{activeCaptions:e,adjustments:t,captionDisplayStyle:n})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useReducer,p=d.useState;function _(e,t){switch(t.type){case"reserve":return e.concat(t.reservation);case"release":return e.filter(function(e){return e!==t.reservation});default:return e}}function f(e){var t=e.children,n=m(_,[]),a=n[0],i=n[1],l=p({release:function(t){i({reservation:t,type:"release"})},reserve:function(t){return i({reservation:t,type:"reserve"}),t}}),d=l[0],f=(s||(s=o("VideoPlayerHooks"))).useCaptionsVisible();return c.jsx((u||(u=o("VideoPlayerContexts"))).VideoPlayerCaptionsReservationActionsContext.Provider,{value:d,children:c.jsxs(u.VideoPlayerCaptionsReservationsContext.Provider,{value:a,children:[f?c.jsx(r("VideoPlayerCaptions.react"),{}):null,t]})})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("VideoPlayerControlsHiddenContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(!1);l.default=u}),98);
__d("VideoPlayerControlIcon.react",["BaseFocusRing.react","BaseTooltip.react","CometPressable.react","CometTooltipImpl.react","FDSIcon.react","VideoPlayerControlsHiddenContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e=["tooltipOffsetY","children"],s=["color","disabled","icon","label","tooltip","tooltipAlign","tooltipImpl","tooltipOffsetY"],u,c=u||(u=o("react")),d=u.useContext,m={default:{backgroundColor:"xjbqb8w",borderTop:"x76ihet",borderInlineEnd:"xtmcdsl",borderBottom:"x112ta8",borderInlineStart:"x4gj9lk",cursor:"x1ypdohk",display:"x1rg5ohu",height:"x1qx5ct2",marginTop:"x1k70j0n",marginInlineEnd:"xbelrpt",marginBottom:"xzueoph",marginInlineStart:"xdzw4kq",opacity:"x1iy03kw",outline:"x1a2a7pz",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",":hover_opacity":"x1o7uuvo",$$css:!0},disabled:{cursor:"xt0e3qv",opacity:"xbyyjgo",":hover_opacity":"xj34u2y",$$css:!0},dropShadow:{filter:"x1qo4wvw",$$css:!0}};function p(t){var n=t.tooltipOffsetY,o=t.children,a=babelHelpers.objectWithoutPropertiesLoose(t,e),i=Math.min(0,n!=null?n:0);return c.jsx("span",{className:"xuk3077 x78zum5 x14atkfc",style:{marginTop:i},children:c.jsx(r("BaseTooltip.react"),babelHelpers.extends({},a,{children:c.jsx("span",{className:"xuk3077 x78zum5 x14atkfc",style:{paddingTop:-i},children:typeof o=="function"?o(void 0):o})}))})}p.displayName=p.name+" [from "+i.id+"]";function _(e){var t=e.color,n=t===void 0?"white":t,o=e.disabled,a=e.icon,i=e.label,l=e.tooltip,u=l===void 0?null:l,_=e.tooltipAlign,f=_===void 0?"start":_,g=e.tooltipImpl,h=e.tooltipOffsetY,y=babelHelpers.objectWithoutPropertiesLoose(e,s),C=d(r("VideoPlayerControlsHiddenContext"));return c.jsx(p,{align:f,position:"above",tooltip:u,tooltipImpl:g!=null?g:r("CometTooltipImpl.react"),tooltipOffsetY:h,children:c.jsx(r("BaseFocusRing.react"),{children:function(t){return c.jsx(r("CometPressable.react"),babelHelpers.extends({},y,{disabled:o,display:"inline",label:i,overlayDisabled:!0,testid:void 0,xstyle:[m.default,o===!0&&m.disabled,t,C===!0&&m.dropShadow],children:c.jsx(r("FDSIcon.react"),{color:n,icon:a,size:20})}))}})})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("VideoPlayerControlsContainerOverlay.react",["CometErrorBoundary.react","FocusWithinHandler.react","VideoControlsContainerFocusedContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerControlsHiddenContext","VideoPlayerHooks","react","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useState,_=44,f={backgroundGradient:{backgroundImage:"x11v4dcs",bottom:"x1ey2m1c",position:"x10l6tqk",transitionDuration:"x1d8287x",transitionProperty:"x6o7n8i",transitionTimingFunction:"xl405pv",width:"xh8yej3",zIndex:"x8knxv4",$$css:!0},hidden:{opacity:"xg01cxk",pointerEvents:"x47corl",visibility:"xlshs6z",$$css:!0},visible:{opacity:"x1hc1fzr",$$css:!0}};function g(t){var n=t.children,a=t.height,i=t.initialBottomRowAddOn,l=i===void 0?null:i,s=t.isBackgroundVisible,d=t.isVisible,g=t.xstyle,h=p(0),y=h[0],C=h[1],b=r("useResizeObserver")(function(e){C(e.height)}),v=o("VideoPlayerControlsBottomRowAddOnContext").useVideoPlayerControlsBottomRowAddOn(l),S=(u||(u=o("VideoPlayerHooks"))).useVideoPlayerCaptionsReservationActions(),R=S.release,L=S.reserve,E=a!=null?a:_;m(function(){if(d||s){var e=L({location:"bottom",size:E});return function(){R(e)}}},[d,s,L,R,E]);var k=s===!1||d===!1,I=s===!0||d===!0;return c.jsx(r("FocusWithinHandler.react"),{children:function(o,a){return c.jsx(r("VideoControlsContainerFocusedContext").Provider,{value:a,children:c.jsxs("div",babelHelpers.extends({},{0:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h"},4:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np"},2:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h xg01cxk x47corl xlshs6z"},6:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np xg01cxk x47corl xlshs6z"},1:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x1hc1fzr"},5:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x1hc1fzr"},3:{className:"x1ey2m1c x1q0g3np x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x47corl xlshs6z x1hc1fzr"},7:{className:"x1ey2m1c x10l6tqk x1d8287x x6o7n8i xl405pv xh8yej3 x11uqc5h x6s0dn4 xzt5al7 x78zum5 x1q0g3np x47corl xlshs6z x1hc1fzr"}}[(v==null)<<2|(d===!1)<<1|(d===!0)<<0],{"data-testid":void 0,children:[c.jsx("div",{className:(e||(e=r("stylex")))(f.backgroundGradient,k&&f.hidden,I&&f.visible,g),style:{height:E+y}}),c.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:k,children:v==null?n:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"x6s0dn4 xzt5al7 x78zum5 x1q0g3np",children:n}),c.jsx(r("CometErrorBoundary.react"),{children:c.jsx("div",{ref:b,children:v})})]})})]}))})}})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("VideoPlayerControlsGroups.react",["VideoControlsContainerFocusedContext","VideoPlayerControlsHiddenContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t=e.children,n=e.isVisible,o=n===void 0?!0:n,a=e.noPaddingEnd,i=a===void 0?!1:a,l=e.noPaddingStart,c=l===void 0?!1:l,d=u(r("VideoControlsContainerFocusedContext")),m=o||d,p=u(r("VideoPlayerControlsHiddenContext"));return s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1fmh03i x47corl"},4:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1fmh03i x47corl"},2:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1fmh03i x47corl"},6:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 xaso8d8 x1hc1fzr"},5:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xaso8d8 xyri2b x1hc1fzr"},3:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x1gabggj x18d9i69 x1c1uobl x1hc1fzr"},7:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 xexx8yu x18d9i69 xyri2b x1c1uobl x1hc1fzr"}}[!!i<<2|!!c<<1|!!m<<0],{children:s.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:p||!m,children:t})}))}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=e.children,n=e.isVisible,o=n===void 0?!0:n,a=e.noPaddingEnd,i=e.noPaddingStart,l=u(r("VideoControlsContainerFocusedContext")),c=o||l,d=u(r("VideoPlayerControlsHiddenContext"));return s.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1fmh03i x47corl"},1:{className:"x6s0dn4 x78zum5 x1q0g3np x2lah0s xozqiw3 x1iyjqo2 x1hc1fzr"}}[!!c<<0],{children:s.jsx(r("VideoPlayerControlsHiddenContext").Provider,{value:d||!c,children:t})}))}d.displayName=d.name+" [from "+i.id+"]",l.Contracted=c,l.Expanded=d}),98);
__d("VideoPlayerLiveRewindControlContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({cachedLiveRewindTimestamp:null,onLiveRewindControlEvent:function(){}});l.default=u}),98);
__d("VideoPlayerPlaybackControlBase.react",["fbt","ix","FBLogger","VideoPlayerControlIcon.react","fbicon","react"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=e.onPress,n=e.playbackIcon,a=e.showTooltip,i=a===void 0?!0:a,l=e.useOutlineIcons,d,m;switch(n){case"pause":d=s._(/*BTDS*/"\uc77c\uc2dc \uc815\uc9c0"),m=l===!0?o("fbicon")._(u("497677"),20):o("fbicon")._(u("497675"),20);break;case"replay":d=s._(/*BTDS*/"\ub2e4\uc2dc \ubcf4\uae30"),m=l===!0?o("fbicon")._(u("534222"),20):o("fbicon")._(u("534219"),20);break;case"play":d=s._(/*BTDS*/"\uc7ac\uc0dd"),m=l===!0?o("fbicon")._(u("484866"),20):o("fbicon")._(u("484863"),20);break;default:throw r("FBLogger")("comet_video_player").mustfixThrow("The playback icon is unsupported %s",n)}return c.jsx(r("VideoPlayerControlIcon.react"),{icon:m,label:d,onPress:t,tooltip:i?d:null})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useFeedClickEventHandler",["react","useStoryClickEventLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=r("useStoryClickEventLogger")();return s(function(r){e&&e(r);var o=r.type;if(o==="click"||o==="contextmenu"||o==="mousedown"&&typeof r.button=="number"&&(r.button===1||r.button===2)||o==="keydown"&&(r.key==="Enter"||r.key===" ")){var a=typeof r.button=="number"?r.button:0;n(r.timeStamp,a,t)}},[e,n,t])}l.default=u}),98);
__d("useMinifiedProductAttribution",["CometProductAttribution","useRouteProductAttribution"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useRouteProductAttribution")();return e!=null?o("CometProductAttribution").minifyProductAttributionV2(e):null}l.default=e}),98);
__d("useVideoPlayerControllerSubscriptionHavingController",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t){var n=d(function(){return t(e,null)}),r=n[0],o=n[1],a=c(t);return u(function(){a.current=t},[t]),u(function(){o(function(t){return a.current(e,t)});var t=e.subscribe(function(){o(function(t){return a.current(e,t)})});return function(){t.remove()}},[e]),r}l.default=m}),98);
__d("useVideoPlayerControllerSubscription",["VideoPlayerHooks","useVideoPlayerControllerSubscriptionHavingController"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("useVideoPlayerControllerSubscriptionHavingController")((e||(e=o("VideoPlayerHooks"))).useController(),t)}l.default=s}),98);
__d("VideoPlayerPlaybackControl.react",["CometTrackingNodeProvider.react","VideoHomeTypedLiteLogger","VideoPlayerHooks","VideoPlayerPlaybackControlBase.react","react","useFeedClickEventHandler","useMinifiedProductAttribution","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=e.isNPC,n=t===void 0?!1:t,a=e.showTooltip,i=a===void 0?!0:a,l=e.unmuteOnPlay,d=l===void 0?!1:l,m=e.useOutlineIcons;c(function(){n&&r("VideoHomeTypedLiteLogger").log({event:"npc_control_playback_button_impression"})},[n]);var p=r("useVideoPlayerControllerSubscription")(function(e,t){var n=e.getCurrentState(),r=n.ended,o=n.paused,a=n.playing,i=n.stalling,l=e.getPlayheadPosition(),s=n.duration,u=!o&&(a||i),c=!a&&r&&l>=s;return t!=null&&t.showPauseButton===u&&t.showReplayButton===c?t:{showPauseButton:u,showReplayButton:c}}),_=p.showPauseButton,f=p.showReplayButton,g=(s||(s=o("VideoPlayerHooks"))).useController(),h=r("useMinifiedProductAttribution")(),y=r("useFeedClickEventHandler")(function(){n&&r("VideoHomeTypedLiteLogger").log({attribution_id_v2:h,click_point:"npc_control_playback_button",event:"click",event_target:"video"}),_?g.pause("user_initiated"):(d&&g.setMuted(!1,"user_initiated"),g.play("user_initiated"))}),C=_?"pause":f?"replay":"play";return u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:592,children:u.jsx(r("VideoPlayerPlaybackControlBase.react"),{onPress:y,playbackIcon:C,showTooltip:i,useOutlineIcons:m})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("getFormattedTimestamp",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t="",n=e;isNaN(n)?n=0:n<0&&(n*=-1,t="-");var r=Math.floor(n/o("DateConsts").SEC_PER_HOUR),a=Math.floor((n-r*o("DateConsts").SEC_PER_HOUR)/o("DateConsts").SEC_PER_MIN),i=Math.round(n-r*o("DateConsts").SEC_PER_HOUR-a*o("DateConsts").SEC_PER_MIN);i===o("DateConsts").SEC_PER_MIN&&(i=0,a++),a===o("DateConsts").MIN_PER_HOUR&&(a=0,r++);var l=("0"+i).slice(-2);if(r===0)return""+t+a+":"+l;var s=("0"+a).slice(-2);return""+t+r+":"+s+":"+l}l.default=e}),98);
__d("VideoPlayerPlaybackTimerBase.react",["getFormattedTimestamp","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.currentTime,n=e.duration;return s.jsxs("div",{className:"x14ctfv x1rg5ohu x1pg5gke xss6m8b x7h9g57 xf6vk7d xpcyujq x9hgts1 x2b8uid x27saw0 x3ajldb",children:[s.jsx("span",{className:"x1s688f x15hfatp",children:r("getFormattedTimestamp")(t)}),n!=null&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:" / "}),s.jsx("span",{children:r("getFormattedTimestamp")(n)})]})]})}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("useLiveRewindUtils",["VideoPlayerHooks","VideoPlayerLiveRewindControlContext","react","useVideoPlayerControllerSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useContext,m=10,p=10;function _(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){var n,r=e.getCurrentState().seekableRanges,o=r!=null&&(n=r.end(r.length()-1))!=null?n:0,a=Math.min(e.getPlayheadPosition()+m,o);a===o?(e.setIsLiveRewindActive(!1),e.seek(o)):e.seek(a),t.onLiveRewindControlEvent()},[t,e])}function f(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){var n,r=e.getCurrentState().seekableRanges,o=(n=r==null?void 0:r.start(0))!=null?n:0,a=Math.max(e.getPlayheadPosition()-p,o);e.seek(a),e.setIsLiveRewindActive(!0),t.onLiveRewindControlEvent()},[t,e])}function g(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){var n,r=e.getCurrentState().seekableRanges,o=r!=null&&(n=r.end(r.length()-1))!=null?n:0;e.seek(o),e.play("user_initiated"),e.setIsLiveRewindActive(!1),t.onLiveRewindControlEvent()},[t,e])}function h(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){var n,r=e.getCurrentState().seekableRanges,o=(n=r==null?void 0:r.start(0))!=null?n:0;e.seek(o),e.setIsLiveRewindActive(!0),t.onLiveRewindControlEvent()},[t,e])}function y(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){e.play("user_initiated"),t.onLiveRewindControlEvent()},[t,e])}function C(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){e.pause("user_initiated"),e.setIsLiveRewindActive(!0),t.onLiveRewindControlEvent()},[t,e])}function b(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(){var n,r=e.getCurrentState().seekableRanges,o=(n=r==null?void 0:r.start(0))!=null?n:0;e.seek(o),e.setIsLiveRewindActive(!0),e.play("user_initiated"),t.onLiveRewindControlEvent()},[t,e])}function v(){var e=(s||(s=o("VideoPlayerHooks"))).useController(),t=d(r("VideoPlayerLiveRewindControlContext"));return c(function(n){var r,o,a=e.getCurrentState().seekableRanges,i=(r=a==null?void 0:a.start(0))!=null?r:0,l=a!=null&&(o=a.end(a.length()-1))!=null?o:0,s=Math.min(i+n,l);e.scrubEnd(s),s===l?e.setIsLiveRewindActive(!1):e.setIsLiveRewindActive(!0),t.onLiveRewindControlEvent()},[t,e])}function S(){return r("useVideoPlayerControllerSubscription")(function(e){var t,n;return(t=(n=e.getCurrentState().seekableRanges)==null?void 0:n.start(0))!=null?t:0})}l.useLiveRewindForward=_,l.useLiveRewindBack=f,l.useLiveRewindLive=g,l.useLiveRewindStart=h,l.useLiveRewindPlay=y,l.useLiveRewindPause=C,l.useLiveRewindReplay=b,l.useLiveRewindScrub=v,l.useLiveRewindSeekableStartTime=S}),98);
__d("VideoPlayerPlaybackTimer.react",["VideoPlayerHooks","VideoPlayerPlaybackTimerBase.react","react","useLiveRewindUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=_,d=function(t,n){return t-n.duration};function m(){var e=o("useLiveRewindUtils").useLiveRewindSeekableStartTime(),t=(s||(s=o("VideoPlayerHooks"))).useCurrentTimeThrottled(200),n=s.useCurrentTimeThrottled(1e3,d),a=s.useIsLiveRewindActive(),i=a?n:t-e;return u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:i,duration:null})}m.displayName=m.name+" [from "+i.id+"]";function p(){var e=(s||(s=o("VideoPlayerHooks"))).useDuration(),t=s.useCurrentTimeThrottled(200);return u.jsx(r("VideoPlayerPlaybackTimerBase.react"),{currentTime:t,duration:e})}p.displayName=p.name+" [from "+i.id+"]";function _(){var e=(s||(s=o("VideoPlayerHooks"))).useIsLive();return e?u.jsx(m,{}):u.jsx(p,{})}_.displayName=_.name+" [from "+i.id+"]";var f=c;l.default=f}),98);
__d("useDebouncedValue",["clearTimeout","react","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=c(e),o=n[0],a=n[1];return u(function(){var n=r("setTimeout")(function(){return a(e)},t);return function(){return r("clearTimeout")(n)}},[e,t]),o}l.default=d}),98);
__d("VideoPlayerSpinner.react",["CometLightweightVideoAttachmentContext","FDSLoadingAnimation.react","gkx","react","stylex","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext,d=36,m={spinner:{height:"xc9qbxq",insetInlineStart:"xbudbmw",opacity:"x1hc1fzr",position:"x10l6tqk",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0},spinnerSnappier:{transitionDelay:"x2p8vrm",$$css:!0},spinnerSnappierHidden:{transitionDelay:"x1ahifba",$$css:!0}};function p(t){var n=t.isVisible,o=r("useDebouncedValue")(n,n?200:500),a=c(r("CometLightweightVideoAttachmentContext")),i=a.isLightweightVideoAttachment;return u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.spinner,r("gkx")("24333")?[m.spinnerSnappier,!n&&m.spinnerHidden,!n&&m.spinnerSnappierHidden]:[!n&&m.spinnerHidden]),{children:u.jsx(r("FDSLoadingAnimation.react"),{animationPaused:!o,color:i?"media":"default",size:d})}))}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("VideoPlayerStateBasedLoggingEventsJSModuleWrapper",["VideoPlayerStateBasedLoggingEvents"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("VideoPlayerStateBasedLoggingEvents")}),98);
__d("XLogoutControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/logout.php",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("getErrorNameFromMediaErrorCode",[],(function(t,n,r,o,a,i){"use strict";function e(e){switch(e){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+(e!=null?e:"UNDEFINED")}}i.default=e}),66);
__d("getMoreGranularErrorNameFromHTMLVideoElementErrorMessage",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t,n,r=/^([A-Z_]+:)|([A-Z_]+\s+\(0x[0-9A-Fa-f]+\))/.exec(e),o=((t=(n=r==null?void 0:r[1])!=null?n:r==null?void 0:r[2])!=null?t:"").replace(/\s+/,"_").replace(/[^A-Za-z0-9_]/g,"");return o!==""?o:null}i.default=e}),66);
__d("getPasskeyCredentials",["nullthrows"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("nullthrows")(navigator.credentials)}l.getPasskeyCredentials=e}),98);
__d("isTruthy",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e!=null&&!!e}i.default=e}),66);
__d("maybeSendMessageToIGVR",["InstagramUserAgent","SecurePostMessage"],(function(t,n,r,o,a,i,l){"use strict";var e="https://www.instagram.com";function s(t){r("InstagramUserAgent").is_igvr&&o("SecurePostMessage").sendMessageToSpecificOrigin(window,JSON.stringify(t),e)}l.default=s}),98);
__d("polarisGetUserFromUserInfo",["normalizr"],(function(t,n,r,o,a,i,l){"use strict";var e=new(o("normalizr")).schema.Entity("userInfo",{},{idAttribute:function(t){return String(t.pk)},processStrategy:function(t){var e,n,r,o=(e=t.mutual_followers_count)!=null?e:0,a={additional_count:0,usernames:[]};if(o>0){var i,l;a.usernames=(i=(l=t.profile_context_links_with_user_ids)==null?void 0:l.map(function(e){return e.username}).filter(Boolean))!=null?i:[],a.additional_count=o-a.usernames.length}return{aiAgentOwnerUsername:t.ai_agent_owner_username,aiAgentType:t.ai_agent_type,bio:t.biography,counts:{followedBy:t.follower_count,follows:t.following_count,media:t.media_count},fullName:t.full_name,id:String(t.pk),interopMessagingUserFbid:t.interop_messaging_user_fbid!=null&&t.interop_messaging_user_fbid!==""?String(t.interop_messaging_user_fbid):void 0,isPrivate:t.is_private,isUnpublished:t.is_unpublished,isUserInCanada:t.is_in_canada,isVerified:t.is_verified,mutualFollowers:a,profilePictureUrl:t.profile_pic_url,shouldRemoveMessageButtonRiskyInteraction:t.remove_message_entrypoint,showAccountTransparencyDetails:t.show_account_transparency_details,transparencyLabel:(n=t.transparency_label)!=null?n:void 0,transparencyProduct:(r=t.transparency_product)!=null?r:void 0,username:t.username,website:t.external_url,websiteLinkshimmed:t.external_lynx_url}}});function s(t){return o("normalizr").normalize(t,e).entities.userInfo}l.default=s}),98);
__d("shouldUseOzAddonFeatures",["gkx","polarisGetAppPlatform"],(function(t,n,r,o,a,i,l){"use strict";function e(){return!o("polarisGetAppPlatform").isIOS()&&r("gkx")("15065")&&r("gkx")("5113")===!0}function s(){return r("gkx")("25417")||r("gkx")("17440")}function u(){return r("gkx")("13181")||r("gkx")("17440")}l.shouldIGWebLOXPrefetchDash=e,l.shouldPrefetchDash=s,l.shouldDashFallbackToProgressive=u}),98);/*FB_PKG_DELIM*/
__d("DirectReshareButtonTapFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2065"),s=o("FalcoLoggerInternal").create("direct_reshare_button_tap",e),u=s;l.default=u}),98);
__d("PolarisCarouselMedia_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCarouselMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"items",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},e,{args:null,kind:"FragmentSpread",name:"PolarisMediaItemFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisOrganicImpressionActionForCarousel_media"},{args:null,kind:"FragmentSpread",name:"PolarisVpvdImpressionActionForCarousel_media"}],storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisCarouselMedia_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},t={alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},o={args:null,kind:"FragmentSpread",name:"PolarisMediaItemFragment_media"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCarouselMedia_media",selections:[e,t,n,r,{alias:null,args:null,kind:"ScalarField",name:"open_carousel_submission_state",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[e,r,t,n,o,{args:null,kind:"FragmentSpread",name:"PolarisOrganicImpressionActionForCarousel_media"},{args:null,kind:"FragmentSpread",name:"PolarisVpvdImpressionActionForCarousel_media"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},o],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaItemFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaItemFragment_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"overlay_type",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostMediaVideoPlayer"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSensitivityOverlayFragment_media"},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_uri",storageKey:null},{alias:null,args:null,concreteType:"XDTImageVersion2",kind:"LinkedField",name:"image_versions2",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTImageCandidate",kind:"LinkedField",name:"candidates",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserTagInfosDict",kind:"LinkedField",name:"usertags",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTUserTagInfoDict",kind:"LinkedField",name:"in",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"position",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMediaOpenCarouselOverlay_media"},{args:null,kind:"FragmentSpread",name:"PolarisPhotoWrapper_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaPerMediaLike_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaOpenCarouselOverlay_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOpenCarouselOverlay_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"previous_submitter",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMediaOpenCarouselOverlay.react",["CometRelay","IGDSBox.react","PolarisIGCoreButton.react","PolarisLinkBuilder","PolarisMediaOpenCarouselOverlay_media.graphql","PolarisTimestamp.react","PolarisUserAvatar.react","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l,s,c,d,m,p=o("react-compiler-runtime").c(19),_=t.carouselOwnerName,f=t.carouselOwnerProfilePic,g=t.media,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaOpenCarouselOverlay_media.graphql"),g),y=(a=(i=(l=h.previous_submitter)==null?void 0:l.username)!=null?i:_)!=null?a:"",C=(s=(c=h==null||(d=h.previous_submitter)==null?void 0:d.profile_pic_url)!=null?c:f)!=null?s:"",b=(m=h.taken_at)!=null?m:0;if(y===""||C===""||b===0)return null;var v;p[0]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x1awj2ng x6prxxf xk50ysn xi5uv41 x10l6tqk xubrqkt x1eu8d0j"},p[0]=v):v=p[0];var S;p[1]!==y||p[2]!==C?(S=u.jsx(r("PolarisUserAvatar.react"),{isLink:!0,profilePictureUrl:C,size:20,username:y}),p[1]=y,p[2]=C,p[3]=S):S=p[3];var R;p[4]===Symbol.for("react.memo_cache_sentinel")?(R={alignSelf:"center",marginLeft:"6px"},p[4]=R):R=p[4];var L;p[5]!==y?(L=o("PolarisLinkBuilder").buildUserLink(r("nullthrows")(y)),p[5]=y,p[6]=L):L=p[6];var E;p[7]!==y?(E=r("nullthrows")(y),p[7]=y,p[8]=E):E=p[8];var k;p[9]!==L||p[10]!==E?(k=u.jsx("div",{style:R,children:u.jsx(r("PolarisIGCoreButton.react"),{borderless:!0,color:"web-always-white",href:L,children:E})}),p[9]=L,p[10]=E,p[11]=k):k=p[11];var I;p[12]===Symbol.for("react.memo_cache_sentinel")?(I={className:"xamitd3 x6prxxf x1ny7uwr xdwrcjd x1n2onr6 xnfr1j"},p[12]=I):I=p[12];var T;p[13]!==b?(T=u.jsx("div",babelHelpers.extends({},I,{children:u.jsx(r("PolarisTimestamp.react"),{isLong:!1,value:b})})),p[13]=b,p[14]=T):T=p[14];var D;return p[15]!==S||p[16]!==k||p[17]!==T?(D=u.jsx("div",babelHelpers.extends({},v,{children:u.jsxs(r("IGDSBox.react"),{alignItems:"start",direction:"row",justifyContent:"start",padding:2,position:"relative",wrap:!0,children:[S,k,T]})})),p[15]=S,p[16]=k,p[17]=T,p[18]=D):D=p[18],D}l.default=c}),98);
__d("PolarisMediaPerMediaLike_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaPerMediaLike_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMediaPerMediaLike.react",["CometRelay","IGDSBox.react","PolarisLikeButton.react","PolarisMediaPerMediaLike_media.graphql","PolarisPostDetailsSectionProvider.react","react","react-compiler-runtime","stylex","usePolarisLikeMedia"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d={like_per_media_with_one_indicator:{bottom:"x1hcwysg",insetInlineStart:"x1tyeaix",left:null,right:null,position:"x10l6tqk",$$css:!0},like_per_media_without_left_indicators:{bottom:"x1hcwysg",insetInlineStart:"xk3w2oy",left:null,right:null,position:"x10l6tqk",$$css:!0}},m={0:d.like_per_media_without_left_indicators,1:d.like_per_media_with_one_indicator};function p(t){var a,i,l,u=o("react-compiler-runtime").c(22),p=t.leftSideIndicators,_=t.media,f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaPerMediaLike_media.graphql"),_),g=o("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),h;u[0]!==g||u[1]!==f?(h={analyticsContext:g,mediaFragmentKey:f,sourceOfLike:"carousel_media_like"},u[0]=g,u[1]=f,u[2]=h):h=u[2];var y=r("usePolarisLikeMedia")(h),C=(a=f.like_count)!=null?a:0,b=m[p]||d.like_per_media_without_left_indicators,v=(i=f.like_count)!=null?i:0,S=v.toString().length,R;u[3]!==b?(R=(s||(s=r("stylex"))).props(b),u[3]=b,u[4]=R):R=u[4];var L=C>0?"pill":"circle",E=C>0?38+10*(S-1):28,k=(l=f.has_liked)!=null?l:!1,I;u[5]!==f.pk||u[6]!==y?(I=function(t){return y(f.pk,t)},u[5]=f.pk,u[6]=y,u[7]=I):I=u[7];var T;u[8]!==k||u[9]!==I?(T=c.jsx(r("PolarisLikeButton.react"),{color:"ig-primary-icon",isHovered:!0,isLiked:k,onChange:I,padding:0,size:12}),u[8]=k,u[9]=I,u[10]=T):T=u[10];var D;u[11]!==v||u[12]!==C?(D=C>0&&c.jsx("div",{className:"x1awj2ng x1pg5gke xo1l8bm xdwrcjd",children:v}),u[11]=v,u[12]=C,u[13]=D):D=u[13];var x;u[14]!==L||u[15]!==E||u[16]!==T||u[17]!==D?(x=c.jsxs(r("IGDSBox.react"),{alignItems:"center",color:"primaryText",direction:"row",height:28,justifyContent:"center",position:"relative",shape:L,width:E,wrap:!0,children:[T,D]}),u[14]=L,u[15]=E,u[16]=T,u[17]=D,u[18]=x):x=u[18];var $;return u[19]!==R||u[20]!==x?($=c.jsx("div",babelHelpers.extends({},R,{children:x})),u[19]=R,u[20]=x,u[21]=$):$=u[21],$}l.default=p}),98);
__d("PolarisMediaSensitivityOverlayFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSensitivityOverlayFragment_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"preview",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisMediaOverlayMediaCoverInfo_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaSensitivityOverlay.next.react",["CometRelay","JSResourceForInteraction","PolarisMediaSensitivityOverlayFragment_media.graphql","PolarisSensitivityOverlay.react","PolarisUA","lazyLoadComponent","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","usePolarisMediaOverlayMediaCoverInfo"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("PolarisPostSecretReelQRCode.react").__setRef("PolarisMediaSensitivityOverlay.next.react"));function d(t){var a,i,l,s,d=o("react-compiler-runtime").c(13),m=t.analyticsContext,p=t.media,_=t.onShowPostClicked,f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaSensitivityOverlayFragment_media.graphql"),p),g=r("usePolarisMediaOverlayMediaCoverInfo")(f);if(f==null||g==null)return null;var h=f.code;if(!o("PolarisUA").isMobile()&&h!=null&&(((a=g)==null?void 0:a.overlayType)==="SECRET_LINK"||((i=g)==null?void 0:i.overlayType)==="EARLY_ACCESS")){var y=f.product_type===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?"reel":"p",C;d[0]!==h||d[1]!==y?(C=u.jsx(c,{params:{permalink_key:y,shortcode:h}}),d[0]=h,d[1]=y,d[2]=C):C=d[2];var b;d[3]!==g||d[4]!==C?(b=babelHelpers.extends({},g,{extra:C}),d[3]=g,d[4]=C,d[5]=b):b=d[5],g=b}var v=(l=(s=f.user)==null?void 0:s.id)!=null?l:"",S;return d[6]!==m||d[7]!==f.id||d[8]!==f.preview||d[9]!==g||d[10]!==_||d[11]!==v?(S=u.jsx(r("PolarisSensitivityOverlay.react"),{analyticsContext:m,isPhoto:!1,mediaId:f.id,mediaOverlayCoverInfo:g,onShowPostClicked:_,ownerId:v,previewData:f.preview,variant:"post"}),d[6]=m,d[7]=f.id,d[8]=f.preview,d[9]=g,d[10]=_,d[11]=v,d[12]=S):S=d[12],S}l.default=d}),98);
__d("PolarisPhotoWrapper_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPhotoWrapper_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"XDTStoryCTADict",kind:"LinkedField",name:"story_cta",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTAdLink",kind:"LinkedField",name:"links",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"webUri",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPhotoWrapper.next.react",["CometRelay","CometVisualCompletionAttributes","InstagramODS","PolarisClickEventLoggerProvider.react","PolarisExternalLink.react","PolarisPhotoWrapper_media.graphql","PolarisSponsoredPostContext.react","PolarisTrackingNodeProvider.react","PolarisUA","react","react-compiler-runtime","usePolarisOffsiteTrackingDataURLParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useContext;function d(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.externalURL,i=e.wrappedRef,l=m,s=r("usePolarisOffsiteTrackingDataURLParams")(a),c;t[0]!==n||t[1]!==a||t[2]!==s?(c=function(t){return u.jsx("div",{ref:t,children:u.jsx(r("PolarisExternalLink.react"),{className:"x4gyw5p",href:a,ignoreDoubleClick:!0,onClick:l,queryParams:s,children:n})})},t[0]=n,t[1]=a,t[2]=s,t[3]=c):c=t[3];var d;return t[4]!==c||t[5]!==i?(d=u.jsx(r("PolarisClickEventLoggerProvider.react"),{ignoreDoubleClick:!0,children:u.jsx(r("PolarisTrackingNodeProvider.react"),{ref:i,trackingNode:86,children:c})}),t[4]=c,t[5]=i,t[6]=d):d=t[6],d}function m(){r("InstagramODS").incr("web.ads.feed.link_click")}function p(t){var a,i,l=o("react-compiler-runtime").c(7),s=t.children,m=t.media$key,p=t.ref,_=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPhotoWrapper_media.graphql"),m),f=_.link,g=_.story_cta,h=c(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),y=h.singleImageAdAsCta,C=(a=g==null||(i=g[0].links)==null||(i=i[0])==null?void 0:i.webUri)!=null?a:f;if(C!=null&&y&&o("PolarisUA").isDesktop()){var b;return l[0]!==s||l[1]!==C||l[2]!==p?(b=u.jsx(r("PolarisTrackingNodeProvider.react"),{trackingNode:12,children:function(t){return u.jsx("div",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{ref:t,children:u.jsx(d,{externalURL:C,wrappedRef:p,children:s})}))}}),l[0]=s,l[1]=C,l[2]=p,l[3]=b):b=l[3],b}var v;return l[4]!==s||l[5]!==p?(v=u.jsx("div",{ref:p,children:s}),l[4]=s,l[5]=p,l[6]=v):v=l[6],v}l.default=p}),98);
__d("PolarisFeedPostMediaVideoPlayer.react",["CometSSRRenderingStateHooks","CometVisualCompletionAttributes","InstagramSEOCrawlBot","PolarisMediaVideo.react","PolarisPostVideoPlayerWrapper.react","PolarisSEOCrawlerPostVideo.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(18),n=e.adInfo,a=e.analyticsContext,i=e.asSidecarChild,l=e.autoplay,u=e.onLoop,c=e.post,d=e.poster,m=e.seoWebCrawlerLookasideUrl,p=e.shouldAutoPlay,_=o("CometSSRRenderingStateHooks").useIsClientRendering();if(!_){var f=m!=null?m:String(c.src)+"&get_thumbnail=0";if(r("InstagramSEOCrawlBot").should_enable_video_indexing_changes){var g;f=(g=c.videoUrl)!=null?g:f}var h=r("InstagramSEOCrawlBot").use_lookaside_for_post_media&&r("InstagramSEOCrawlBot").should_use_lookaside_url_for_reels_html&&d!=null?d:c.thumbnailSrc,y;t[0]!==f||t[1]!==h?(y=r("InstagramSEOCrawlBot").is_crawler_with_ssr?s.jsx(r("PolarisSEOCrawlerPostVideo.react"),{src:f,thumbnailSrc:h}):s.jsx(s.Fragment,{}),t[0]=f,t[1]=h,t[2]=y):y=t[2];var C=y,b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 xud2p1a x78zum5 xdt5ytf x6ikm8r x10wlt62 x1n2onr6 xh8yej3"},t[3]=b):b=t[3];var v;return t[4]!==a||t[5]!==C||t[6]!==c?(v=s.jsx("div",babelHelpers.extends({},b,{children:s.jsx(r("PolarisPostVideoPlayerWrapper.react"),{analyticsContext:a,post:c,children:C})})),t[4]=a,t[5]=C,t[6]=c,t[7]=v):v=t[7],v}var S;return t[8]!==n||t[9]!==a||t[10]!==i||t[11]!==l||t[12]!==u||t[13]!==c||t[14]!==d||t[15]!==m||t[16]!==p?(S=s.jsx("div",babelHelpers.extends({},r("CometVisualCompletionAttributes").IGNORE_LATE_MUTATION,{children:s.jsx(r("PolarisMediaVideo.react"),{adInfo:n,analyticsContext:a,asSidecarChild:i,autoplay:l,onLoop:u,post:c,poster:d,seoWebCrawlerLookasideUrl:m,shouldAutoPlay:p})})),t[8]=n,t[9]=a,t[10]=i,t[11]=l,t[12]=u,t[13]=c,t[14]=d,t[15]=m,t[16]=p,t[17]=S):S=t[17],S}l.default=u}),98);
__d("PolarisMediaVideoPlayerFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaVideoPlayerFragment_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dash_eligible",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"number_of_qualities",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"video_dash_manifest",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaVideoPlayer.react",["CometRelay","PolarisMediaTypes","PolarisMediaVideoPlayerFragment_media.graphql","PolarisVideo.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(23),l=t.adInfo,s=t.children,c=t.loopCount,p=t.queryReference,_=t.trackingToken,f=t.videoPixelsFit,g=c===void 0?-1:c,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaVideoPlayerFragment_media.graphql"),p),y=h.is_dash_eligible===1,C;i[0]!==h.number_of_qualities||i[1]!==h.video_dash_manifest||i[2]!==y?(C={isDashEligible:y,numberOfQualities:h.number_of_qualities,videoDashManifest:h.video_dash_manifest},i[0]=h.number_of_qualities,i[1]=h.video_dash_manifest,i[2]=y,i[3]=C):C=i[3];var b=C,v;if(i[4]!==h.video_versions){var S;v=(S=h.video_versions)==null||(S=S.find(m))==null?void 0:S.url,i[4]=h.video_versions,i[5]=v}else v=i[5];var R=v,L;if(i[6]!==h.video_versions){var E;L=(E=h.video_versions)==null||(E=E.find(d))==null?void 0:E.url,i[6]=h.video_versions,i[7]=L}else L=i[7];var k=L,I=(a=h.user)==null?void 0:a.pk,T;i[8]!==f?(T=f?function(e){return f}:null,i[8]=f,i[9]=T):T=i[9];var D;return i[10]!==l||i[11]!==s||i[12]!==b||i[13]!==h.original_height||i[14]!==h.original_width||i[15]!==h.pk||i[16]!==R||i[17]!==g||i[18]!==k||i[19]!==I||i[20]!==T||i[21]!==_?(D=u.jsx(r("PolarisVideo.react"),{adInfo:l,autoplay:!0,dashInfo:b,hdSrc:R,loopCount:g,mediaId:h.pk,originalHeight:h.original_height,originalWidth:h.original_width,ownerId:I,renderVideoPixelsFit:T,sdSrc:k,trackingToken:_,children:s},h.pk),i[10]=l,i[11]=s,i[12]=b,i[13]=h.original_height,i[14]=h.original_width,i[15]=h.pk,i[16]=R,i[17]=g,i[18]=k,i[19]=I,i[20]=T,i[21]=_,i[22]=D):D=i[22],D}function d(e){return o("PolarisMediaTypes").MediaVersionType.cast(e.type)===o("PolarisMediaTypes").MediaVersionType.VIDEO_480_HIGH||o("PolarisMediaTypes").MediaVersionType.cast(e.type)===o("PolarisMediaTypes").MediaVersionType.VIDEO_480_LOW}function m(e){return o("PolarisMediaTypes").MediaVersionType.cast(e.type)===o("PolarisMediaTypes").MediaVersionType.VIDEO_640_HIGH}l.default=c}),98);
__d("PolarisPostMediaVideoPlayer.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostMediaVideoPlayer",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"carousel_parent_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_uri",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostMediaVideoPlayerWrapper"},{args:null,kind:"FragmentSpread",name:"PolarisMediaVideoPlayerFragment_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostMediaVideoPlayerWrapper.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostMediaVideoPlayerWrapper",selections:[{alias:null,args:null,kind:"ScalarField",name:"original_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"original_width",storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostMediaVideoPlayerWrapper.react",["CometRelay","PolarisPostMediaVideoPlayerWrapper.graphql","PolarisVideoHelpers","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(13),a=t.children,i=t.queryReference,l=t.shouldCapHeight,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostMediaVideoPlayerWrapper.graphql"),i),c;if(r[0]!==s.original_height||r[1]!==s.original_width||r[2]!==l){var d=s.original_height!=null&&s.original_width!=null?{height:s.original_height,width:s.original_width}:null;c=o("PolarisVideoHelpers").getVideoPaddingPercentFromDimensions(d,l),r[0]=s.original_height,r[1]=s.original_width,r[2]=l,r[3]=c}else c=r[3];var m=c,p;r[4]===Symbol.for("react.memo_cache_sentinel")?(p="x1n2onr6",r[4]=p):p=r[4];var _=m+"%",f;r[5]!==_?(f={paddingBottom:_},r[5]=_,r[6]=f):f=r[6];var g;r[7]===Symbol.for("react.memo_cache_sentinel")?(g={className:"xyzq4qe x5yr21d x10l6tqk xh8yej3"},r[7]=g):g=r[7];var h;r[8]!==a?(h=u.jsx("div",babelHelpers.extends({},g,{children:a})),r[8]=a,r[9]=h):h=r[9];var y;return r[10]!==f||r[11]!==h?(y=u.jsx("div",{className:p,style:f,children:h}),r[10]=f,r[11]=h,r[12]=y):y=r[12],y}l.default=c}),98);
__d("PolarisPostMediaVideoPlayer.react",["CometRelay","FBLogger","InstagramSEOCrawlBot","PolarisFeedPostMediaVideoPlayer.react","PolarisIsLoggedIn","PolarisLookasideUtils","PolarisMediaVideoPlayer.react","PolarisPostContext.react","PolarisPostMediaVideoPlayer.graphql","PolarisPostMediaVideoPlayerWrapper.react","PolarisViewpointReact.react","cr:9686","polarisAdsSelectors.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisIsOnPostPage","usePolarisIsOnProfilePage","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useContext,m=c.useState;function p(t){var a,i=o("react-compiler-runtime").c(43),l=t.onLoop,s=t.parentPostIDForSideCar,c=t.queryReference,p=t.sidecarIndex,f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostMediaVideoPlayer.graphql"),c),g=r("usePolarisIsOnFeedPage")(),h=r("usePolarisIsOnPostPage")(),y=r("usePolarisIsOnProfilePage")();g||h||y||r("FBLogger")("ig_web").warn("PolarisPostMediaVideoPlayer should only be used on the feed and post page");var C=d(o("PolarisPostContext.react").PolarisPostContext),b=C.shouldCapHeight,v;if(i[0]!==f.carousel_parent_id||i[1]!==f.pk||i[2]!==s){var S,R,L,E;v=(S=(R=s==null||(L=s.split("_"))==null?void 0:L[0])!=null?R:(E=f.carousel_parent_id)==null||(E=E.split("_"))==null?void 0:E[0])!=null?S:f.pk,i[0]=f.carousel_parent_id,i[1]=f.pk,i[2]=s,i[3]=v}else v=i[3];var k=v,I;i[4]!==k?(I=function(t){return o("polarisPostSelectors").getPostById(t,k)},i[4]=k,i[5]=I):I=i[5];var T=r("usePolarisSelector")(I),D=T.sidecarChildren,x=p!=null&&D!=null&&D.length>p&&(D==null?void 0:D[p])!=null?D==null?void 0:D[p]:null,$=x!=null?x:T,P=g?"feedPage":"postPage",N=m(!1),M=N[0],w=N[1],A=o("polarisAdsSelectors.react").useFeedAdInfo(f.pk,_);if(g||r("InstagramSEOCrawlBot").is_crawler_with_ssr&&(h||y)){var F;i[6]!==f.display_uri||i[7]!==T.code||i[8]!==p?(F=o("PolarisLookasideUtils").getLookasideSrcForPicture(T.code,f.display_uri,p),i[6]=f.display_uri,i[7]=T.code,i[8]=p,i[9]=F):F=i[9];var O=F,B;i[10]!==f.display_uri||i[11]!==T.code||i[12]!==p?(B=o("PolarisLookasideUtils").getLookasideSrcForVideo(T.code,f.display_uri,p),i[10]=f.display_uri,i[11]=T.code,i[12]=p,i[13]=B):B=i[13];var W=B,q=f.carousel_parent_id!=null,U;return i[14]!==A||i[15]!==P||i[16]!==$||i[17]!==l||i[18]!==O||i[19]!==W||i[20]!==q?(U=u.jsx(r("PolarisFeedPostMediaVideoPlayer.react"),{adInfo:A,analyticsContext:P,asSidecarChild:q,autoplay:!0,onLoop:l,post:$,poster:O,seoWebCrawlerLookasideUrl:W,shouldAutoPlay:!0}),i[14]=A,i[15]=P,i[16]=$,i[17]=l,i[18]=O,i[19]=W,i[20]=q,i[21]=U):U=i[21],U}var V;i[22]!==M?(V=function(t){e:switch(t.state){case"entered":case"updated":{var e=t.percentVisible>.2;M!==e&&w(e);break e}case"exited":w(!1)}},i[22]=M,i[23]=V):V=i[23];var H=V,G;i[24]===Symbol.for("react.memo_cache_sentinel")?(G=o("PolarisIsLoggedIn").isLoggedIn(),i[24]=G):G=i[24];var z=!G,j=(a=A==null?void 0:A.tracking_token)!=null?a:$.trackingToken,K;i[25]!==A||i[26]!==P||i[27]!==$||i[28]!==M||i[29]!==l?(K=u.jsx(n("cr:9686"),{adInfo:A,analyticsContext:P,autoplay:!0,isVisible:M,onLoop:l,post:$}),i[25]=A,i[26]=P,i[27]=$,i[28]=M,i[29]=l,i[30]=K):K=i[30];var Q;i[31]!==f||i[32]!==j||i[33]!==K?(Q=u.jsx(r("PolarisMediaVideoPlayer.react"),{loopCount:z?0:-1,queryReference:f,trackingToken:j,children:K}),i[31]=f,i[32]=j,i[33]=K,i[34]=Q):Q=i[34];var X;i[35]!==f||i[36]!==b||i[37]!==Q?(X=u.jsx(r("PolarisPostMediaVideoPlayerWrapper.react"),{queryReference:f,shouldCapHeight:b,children:Q}),i[35]=f,i[36]=b,i[37]=Q,i[38]=X):X=i[38];var Y=X,J;return i[39]!==$||i[40]!==H||i[41]!==Y?(J=z?u.jsx(o("PolarisViewpointReact.react").Viewpoint,{action:[H],id:$.id,children:function(t){return u.jsx("div",{ref:t,children:Y})}}):Y,i[39]=$,i[40]=H,i[41]=Y,i[42]=J):J=i[42],J}function _(e){return e}l.default=p}),98);
__d("PolarisMediaItem.react",["CometPlaceholder.react","CometRelay","CometSSRRenderingStateHooks","PolarisAdsGatingHelpers","PolarisFeedCardProvider.react","PolarisFeedSeenStateManagerSingleton","PolarisLookasideUtils","PolarisMediaConstants","PolarisMediaItemFragment_media.graphql","PolarisMediaOpenCarouselOverlay.react","PolarisMediaPerMediaLike.react","PolarisMediaSensitivityOverlay.next.react","PolarisPhoto.react","PolarisPhotoWithIndicator.react","PolarisPhotoWrapper.next.react","PolarisPostImpressionTrackingNode.react","PolarisPostMediaVideoPlayer.react","PolarisViewpointReact.react","gkx","polarisMediaOverlayInfoUtils","polarisPostSelectors","react","react-compiler-runtime","usePolarisSelector"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useRef,_=c.useState;function f(t){var a,l,s,c=o("react-compiler-runtime").c(103),d=t.isOpenCarousel,f=t.mediaType,h=t.onVideoLoop,y=t.originalHeight,C=t.originalWidth,b=t.ownerName,v=t.ownerProfilePic,S=t.postId,R=t.queryReference,L=t.renderThumbnailForVideoForSSR,E=t.sidecarIndex,k=t.viewpointActions,I=L===void 0?!1:L,T=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaItemFragment_media.graphql"),R),D;c[0]===Symbol.for("react.memo_cache_sentinel")?(D=r("PolarisFeedSeenStateManagerSingleton").get(),c[0]=D):D=c[0];var x=D,$,P;if(c[1]!==T.id||c[2]!==S||c[3]!==E){$=[],P=E!=null;var N;c[6]!==T.id||c[7]!==P||c[8]!==S?(N=function(t){x.addImpression({carouselParentID:P?S:void 0,mediaID:T.id,snapshot:t})},c[6]=T.id,c[7]=P,c[8]=S,c[9]=N):N=c[9];var M=N;$.push(M),c[1]=T.id,c[2]=S,c[3]=E,c[4]=$,c[5]=P}else $=c[4],P=c[5];var w=m(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),A;c[10]!==w?(A=function(){w.setIsMediaRendered==null||w.setIsMediaRendered(!0)},c[10]=w,c[11]=A):A=c[11];var F=A,O=p(null),B;c[12]!==T.media_overlay_info||c[13]!==P?(B=(T==null?void 0:T.media_overlay_info)!=null&&P&&o("polarisMediaOverlayInfoUtils").isMediaOverlayTypeSensitiveContent(T.media_overlay_info.overlay_type),c[12]=T.media_overlay_info,c[13]=P,c[14]=B):B=c[14];var W=_(B),q=W[0],U=W[1],V=(a=(l=r("usePolarisSelector")(function(e){return o("polarisPostSelectors").getPostOrNullById(e,S)}))==null?void 0:l.code)!=null?a:T.code,H=(s=T.image_versions2)==null||(s=s.candidates)==null?void 0:s[0].url,G=T.accessibility_caption,z=r("gkx")("4012"),j=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating();if(q){var K;c[15]===Symbol.for("react.memo_cache_sentinel")?(K=function(){return U(!1)},c[15]=K):K=c[15];var Q;return c[16]!==T?(Q=u.jsx(r("PolarisMediaSensitivityOverlay.next.react"),{analyticsContext:"postPage",media:T,onShowPostClicked:K}),c[16]=T,c[17]=Q):Q=c[17],Q}var X;if(c[18]!==G||c[19]!==T||c[20]!==F||c[21]!==H||c[22]!==P||c[23]!==d||c[24]!==j||c[25]!==f||c[26]!==h||c[27]!==y||c[28]!==C||c[29]!==b||c[30]!==v||c[31]!==V||c[32]!==S||c[33]!==I||c[34]!==E){if(f===o("PolarisMediaConstants").MediaTypes.IMAGE&&H!=null){var Y,J;if(c[36]!==((Y=T.usertags)==null?void 0:Y.in)){var Z,ee;J=T==null||(Z=T.usertags)==null||(Z=Z.in)==null?void 0:Z.map(g),c[36]=(ee=T.usertags)==null?void 0:ee.in,c[37]=J}else J=c[37];var te=J,ne;if(c[38]!==T.display_uri||c[39]!==H||c[40]!==V||c[41]!==E){var re;ne=(re=o("PolarisLookasideUtils").getLookasideSrcForPicture(V,T.display_uri,E))!=null?re:H,c[38]=T.display_uri,c[39]=H,c[40]=V,c[41]=E,c[42]=ne}else ne=c[42];var oe=ne,ae=y!=null?y:0,ie=C!=null?C:0,le;c[43]!==ae||c[44]!==ie?(le={height:ae,width:ie},c[43]=ae,c[44]=ie,c[45]=le):le=c[45];var se;c[46]!==G||c[47]!==F||c[48]!==S||c[49]!==oe||c[50]!==le?(se={accessibilityCaption:G,dimensions:le,onPhotoRendered:F,postId:S,src:oe},c[46]=G,c[47]=F,c[48]=S,c[49]=oe,c[50]=le,c[51]=se):se=c[51];var ue=se;X=te!=null&&te.length>0?u.jsxs(r("PolarisPhotoWrapper.next.react"),{media$key:T,children:[u.jsx(o("PolarisPhotoWithIndicator.react").PhotoWithIndicator,babelHelpers.extends({},ue,{upcomingEvent:null,upcomingEventMediaId:"",upcomingEventThumbnailSrc:"",usertags:te})),P&&z&&d&&u.jsxs(u.Fragment,{children:[u.jsx(r("PolarisMediaOpenCarouselOverlay.react"),{carouselOwnerName:b,carouselOwnerProfilePic:v,media:T}),u.jsx(r("PolarisMediaPerMediaLike.react"),{leftSideIndicators:1,media:T})]})]}):u.jsxs(r("PolarisPhotoWrapper.next.react"),{media$key:T,children:[u.jsx(r("PolarisPhoto.react"),babelHelpers.extends({},ue)),P&&z&&d&&u.jsxs(u.Fragment,{children:[u.jsx(r("PolarisMediaOpenCarouselOverlay.react"),{carouselOwnerName:b,carouselOwnerProfilePic:v,media:T}),u.jsx(r("PolarisMediaPerMediaLike.react"),{leftSideIndicators:0,media:T})]})]})}else if(f===o("PolarisMediaConstants").MediaTypes.VIDEO){var ce;if(c[52]!==T.display_uri||c[53]!==H||c[54]!==V||c[55]!==E){var de;ce=(de=o("PolarisLookasideUtils").getLookasideSrcForPicture(V,T.display_uri,E))!=null?de:H,c[52]=T.display_uri,c[53]=H,c[54]=V,c[55]=E,c[56]=ce}else ce=c[56];var me=ce,pe=null;if(me!=null){var _e=(y!=null?y:0)-10,fe=(C!=null?C:0)-10,ge;c[57]!==_e||c[58]!==fe?(ge={height:_e,width:fe},c[57]=_e,c[58]=fe,c[59]=ge):ge=c[59];var he;if(c[60]!==G||c[61]!==F||c[62]!==S||c[63]!==me||c[64]!==ge){var ye={accessibilityCaption:G,dimensions:ge,onPhotoRendered:F,postId:S,src:me};he=u.jsx(r("PolarisPhoto.react"),babelHelpers.extends({},ye)),c[60]=G,c[61]=F,c[62]=S,c[63]=me,c[64]=ge,c[65]=he}else he=c[65];pe=he}var Ce=P?S:void 0,be;c[66]!==T||c[67]!==h||c[68]!==E||c[69]!==Ce?(be=u.jsx(r("PolarisPostMediaVideoPlayer.react"),{onLoop:h,parentPostIDForSideCar:Ce,queryReference:T,sidecarIndex:E}),c[66]=T,c[67]=h,c[68]=E,c[69]=Ce,c[70]=be):be=c[70];var ve;c[71]!==T||c[72]!==P||c[73]!==d||c[74]!==b||c[75]!==v?(ve=P&&z&&d&&u.jsxs(u.Fragment,{children:[u.jsx(r("PolarisMediaOpenCarouselOverlay.react"),{carouselOwnerName:b,carouselOwnerProfilePic:v,media:T}),u.jsx(r("PolarisMediaPerMediaLike.react"),{leftSideIndicators:0,media:T})]}),c[71]=T,c[72]=P,c[73]=d,c[74]=b,c[75]=v,c[76]=ve):ve=c[76];var Se;c[77]!==be||c[78]!==ve?(Se=u.jsxs(u.Fragment,{children:[be,ve]}),c[77]=be,c[78]=ve,c[79]=Se):Se=c[79];var Re=Se;j&&I===!0?X=pe:X=I===!0?u.jsx(r("CometPlaceholder.react"),{fallback:pe,name:i.id,children:Re}):Re}c[18]=G,c[19]=T,c[20]=F,c[21]=H,c[22]=P,c[23]=d,c[24]=j,c[25]=f,c[26]=h,c[27]=y,c[28]=C,c[29]=b,c[30]=v,c[31]=V,c[32]=S,c[33]=I,c[34]=E,c[35]=X}else X=c[35];var Le;c[80]!==k?(Le=k!=null?k:[],c[80]=k,c[81]=Le):Le=c[81];var Ee;c[82]!==$||c[83]!==Le?(Ee=[].concat($,Le),c[82]=$,c[83]=Le,c[84]=Ee):Ee=c[84];var ke;c[85]!==X?(ke=function(t){return u.jsx("div",{className:"x1i10hfl",ref:t,children:X})},c[85]=X,c[86]=ke):ke=c[86];var Ie;c[87]!==S||c[88]!==Ee||c[89]!==ke?(Ie=u.jsx(o("PolarisViewpointReact.react").Viewpoint,{action:Ee,id:S,children:ke}),c[87]=S,c[88]=Ee,c[89]=ke,c[90]=Ie):Ie=c[90];var Te=Ie;if(o("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){var De=f===o("PolarisMediaConstants").MediaTypes.IMAGE?"image":"video",xe;c[91]!==T.id||c[92]!==P||c[93]!==f||c[94]!==E?(xe=P?{carousel_media_id:T.id,carousel_media_type:f===o("PolarisMediaConstants").MediaTypes.IMAGE?"PHOTO":"VIDEO",index_of_card:String(E)}:null,c[91]=T.id,c[92]=P,c[93]=f,c[94]=E,c[95]=xe):xe=c[95];var $e=xe,Pe=P?"adMedia"+String(E):"adMedia",Ne;c[96]!==Te?(Ne=u.jsx("div",{ref:O,children:Te}),c[96]=Te,c[97]=Ne):Ne=c[97];var Me;return c[98]!==$e||c[99]!==De||c[100]!==Pe||c[101]!==Ne?(Me=u.jsx(r("PolarisPostImpressionTrackingNode.react"),{carouselInfo:$e,childrenRef:O,componentType:De,elementId:Pe,trackingNode:"MEDIA",children:Ne}),c[98]=$e,c[99]=De,c[100]=Pe,c[101]=Ne,c[102]=Me):Me=c[102],Me}return Te}function g(e){var t,n,r,o,a,i=e.position,l=e.user,s=0,u=0;return i&&(s=i[0],u=i[1]),{user:{fullName:(t=l==null?void 0:l.full_name)!=null?t:"",id:(n=l==null?void 0:l.id)!=null?n:"",isVerified:(r=l==null?void 0:l.is_verified)!=null?r:!1,profilePictureUrl:(o=l==null?void 0:l.profile_pic_url)!=null?o:"",username:(a=l==null?void 0:l.username)!=null?a:""},x:s,y:u}}l.default=f}),98);
__d("PolarisOrganicImpressionActionForCarousel_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisOrganicImpressionActionForCarousel_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisOrganicImpressionAction_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}];return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisOrganicImpressionAction_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:e,storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisOrganicImpressionAction.next.react",["CometRelay","IGNavChain","InstagramODS","InstagramOrganicCarouselImpressionFalcoEvent","InstagramOrganicImpressionFalcoEvent","PolarisContainerModuleUtils","PolarisLoggerUtils","PolarisMediaChainingPageConstants","PolarisOrganicImpressionActionForCarousel_media.graphql","PolarisOrganicImpressionAction_media.graphql","PolarisUA","PolarisViewpointActionUtils","memoizeWithArgs","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("PolarisOrganicImpressionAction_media.graphql");function c(e,t,n,r,a,i,l){var s=o("react-compiler-runtime").c(8),u;if(s[0]!==a||s[1]!==e||s[2]!==t||s[3]!==n||s[4]!==l||s[5]!==i||s[6]!==(r==null?void 0:r.id)){var c=h({carousel_media_id:e,carousel_starting_media_id:e,id:n,inventory_source:t,user_id:r==null?void 0:r.id},a);u=g(o("PolarisViewpointActionUtils").IMPRESSION_KIND.POST,n,c,a,i,l),s[0]=a,s[1]=e,s[2]=t,s[3]=n,s[4]=l,s[5]=i,s[6]=r==null?void 0:r.id,s[7]=u}else u=s[7];return u}function d(e,t,n,r){var a,i=o("CometRelay").useFragment(u,e),l=i.carousel_media,s=i.inventory_source,d=i.pk,m=i.user,p=l==null||(a=l[0])==null?void 0:a.id;return c(p,s,d,m,t,n,r)}function m(e,t,n,r){var a=o("react-compiler-runtime").c(10);if(e==null){var i;return a[0]===Symbol.for("react.memo_cache_sentinel")?(i=[],a[0]=i):i=a[0],i}var l;if(a[1]!==t||a[2]!==r||a[3]!==n||a[4]!==e){var s;a[6]!==t||a[7]!==r||a[8]!==n?(s=function(a){var e=h({carousel_media_id:a,id:a,inventory_source:r,user_id:n},t);return g(o("PolarisViewpointActionUtils").IMPRESSION_KIND.CAROUSEL,a,e,t)},a[6]=t,a[7]=r,a[8]=n,a[9]=s):s=a[9],l=e.map(s),a[1]=t,a[2]=r,a[3]=n,a[4]=e,a[5]=l}else l=a[5];return l}function p(e,t,r,a){var i=o("react-compiler-runtime").c(2),l=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisOrganicImpressionActionForCarousel_media.graphql"),e),u;i[0]!==l?(u=l==null?void 0:l.map(_),i[0]=l,i[1]=u):u=i[1];var c=u;return m(c,t,r,a)}function _(e){var t=e.pk;return t}function f(e,t){var n=o("react-compiler-runtime").c(5);r("vulture")("Xon0kfLCNilkeHByrGPayyG2ARw=");var a=o("CometRelay").useFragment(u,e),i=a.inventory_source,l=a.pk,s=a.user,c;if(n[0]!==t||n[1]!==i||n[2]!==l||n[3]!==(s==null?void 0:s.id)){var d=h({id:l,inventory_source:i,reel_id:l,user_id:s==null?void 0:s.id},t);c=g(o("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP,l,d,t),n[0]=t,n[1]=i,n[2]=l,n[3]=s==null?void 0:s.id,n[4]=c}else c=n[4];return c}function g(e,t,n,o,a,i){return function(l){var s=o||"";if(C(e,s).get(t)!==!0&&l.state==="entered"){if(!n){r("InstagramODS").incr("web.impression.dropped");return}y(e).log(function(){return n}),v(o,a),b(o,i),C(e,s).set(t,!0)}}}function h(e,t){var n,a=e.carousel_media_id,i=e.carousel_starting_media_id,l=e.id,s=e.inventory_source,u=e.reel_id,c=e.user_id,d=o("PolarisContainerModuleUtils").getContainerModule(t);return d==="unknown"||c==null?null:{carousel_media_id:a!=null?o("PolarisLoggerUtils").getFormattedMediaID(a,c!=null?c:""):void 0,carousel_starting_media_id:i,chaining_position:null,chaining_session_id:null,inventory_source:s,m_pk:l!=null?o("PolarisLoggerUtils").getFormattedMediaID(l,c!=null?c:""):"",module_name:d,nav_chain:(n=r("IGNavChain").getInstance())==null?void 0:n.getNavChainForSend(),pigeon_reserved_keyword_module:d,ranking_session_id:null,reel_id:u,tray_session_id:null,viewer_session_id:null}}function y(e){return e===o("PolarisViewpointActionUtils").IMPRESSION_KIND.POST||e===o("PolarisViewpointActionUtils").IMPRESSION_KIND.CLIP?r("InstagramOrganicImpressionFalcoEvent"):r("InstagramOrganicCarouselImpressionFalcoEvent")}var C=r("memoizeWithArgs")(function(e,t){return new Map},function(e,t){return e+"/"+t});function b(e,t){e===o("PolarisMediaChainingPageConstants").MEDIA_CHAINING_ANALYTICS_CONTEXT&&(t===0?r("InstagramODS").incr("web.msite.explore.chaining.seed"):r("InstagramODS").incr("web.msite.explore.chaining.recommended"))}function v(e,t){if(!(e!=="postPage"||!o("PolarisUA").isMobile()))switch(r("InstagramODS").incr("web.msite.single_post.impression"),t){case void 0:r("InstagramODS").incr("web.msite.single_post.impression.direct_visit");break;case"polaris.profilePage":r("vulture")("dGN0cdoimgO5rtGy2th2ef-q-F4="),r("InstagramODS").incr("web.msite.single_post.impression.profile")}}l.usePostImpressionActionBase=c,l.usePostImpressionAction=d,l.useCarouselImpressionActionBase=m,l.useCarouselImpressionAction=p,l.useClipImpressionAction=f}),98);
__d("PolarisCarouselMedia.react",["CometRelay","InstagramODS","InstagramWebAdEventsAuditFalcoEvent","PolarisAdsGatingHelpers","PolarisCarouselMedia_ad.graphql","PolarisCarouselMedia_media.graphql","PolarisMediaItem.react","PolarisOrganicImpressionAction.next.react","PolarisPostIdContext.react","PolarisPostImpressionTrackingNode.react","PolarisSidecar_DEPRECATED.react","PolarisVpvdImpressionAction.next.react","err","getPolarisPostIdFromNativeId","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useRef,f=.75,g=1,h=1;function y(t){var a,i,l,u,d,m,y,b,v=o("react-compiler-runtime").c(31),S=t.adFragmentKey,R=t.analyticsContext,L=t.handleMediaSidecarChildIndexChange,E=t.initialCarouselIndex,k=t.initialMediaWidthGuess,I=t.mediaFragmentKey,T=t.mediaWidthStyleOverride,D=t.renderAllSidecarChildren,x;v[0]===Symbol.for("react.memo_cache_sentinel")?(x=r("qex")._("2314"),v[0]=x):x=v[0];var $=x===!0,P=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisCarouselMedia_media.graphql"),I),N=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisCarouselMedia_ad.graphql"),S),M=P.open_carousel_submission_state==="open_with_submission_eligible"||P.open_carousel_submission_state==="open_with_submission_ineligible"||P.open_carousel_submission_state==="former_opened",w=p(o("PolarisPostIdContext.react").PolarisPostIdContext),A=(a=N==null?void 0:N.media_id)!=null?a:P.pk,F;if(v[1]!==w.postId||v[2]!==A){var O;F=(O=w.postId)!=null?O:r("getPolarisPostIdFromNativeId")(A),v[1]=w.postId,v[2]=A,v[3]=F}else F=v[3];var B=F;(N==null?void 0:N.media_id)!=null&&(N.media_id===P.pk?r("InstagramODS").incr("web.ads.feed.dpa_id.carousel.match"):(r("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:N==null?void 0:N.tracking_token,event:"ad_carousel_id_mismatch"}}),r("InstagramODS").incr("web.ads.feed.dpa_id.carousel.mismatch")));var W;v[4]!==L?(W=function(t,n,r){return[L].filter(Boolean).forEach(function(e){return e(t,n,r)})},v[4]=L,v[5]=W):W=v[5];var q=W,U=N!=null?N.items:P.carousel_media,V=o("PolarisOrganicImpressionAction.next.react").useCarouselImpressionAction(U,R,P==null||(i=P.user)==null?void 0:i.pk,P==null?void 0:P.inventory_source),H=o("PolarisVpvdImpressionAction.next.react").useCarouselVpvdImpressionAction(A,U,R,P==null||(l=P.user)==null?void 0:l.pk,P==null?void 0:P.inventory_source);if(U==null)throw r("err")("Cannot render carousel without media items");var G=(u=(d=P.user)==null?void 0:d.username)!=null?u:"",z=(m=(y=P.user)==null?void 0:y.profile_pic_url)!=null?m:"",j;v[6]!==V||v[7]!==U||v[8]!==H||v[9]!==M||v[10]!==T||v[11]!==G||v[12]!==z||v[13]!==B?(j=function(t,n,o){return U==null?void 0:U.map(function(e,n){var a,i,l,s=[];n<V.length&&s.push(V[n]),n<H.length&&s.push(H[n]);var u=c.jsx(r("PolarisMediaItem.react"),{isOpenCarousel:M,mediaType:(a=e.media_type)!=null?a:0,originalHeight:e.original_height,originalWidth:e.original_width,ownerName:G,ownerProfilePic:z,postId:B,queryReference:e,sidecarIndex:n,viewpointActions:n!==0?s:void 0}),d=((i=e.original_width)!=null?i:g)/((l=e.original_height)!=null?l:g),m=d<f?d/(o!=null?o:h):g;return $?c.jsx("div",{style:babelHelpers.extends({alignItems:"center",display:"flex",height:"100%",justifyContent:"center"},T!=null?T:{width:t}),children:c.jsx("div",{style:{maxHeight:"100%",maxWidth:"100%",width:m*100+"%"},children:u})},e.pk):c.jsx("div",{style:T!=null?T:{width:t},children:u},e.pk)})},v[6]=V,v[7]=U,v[8]=H,v[9]=M,v[10]=T,v[11]=G,v[12]=z,v[13]=B,v[14]=j):j=v[14];var K=j,Q;v[15]!==U?(Q=U==null?void 0:U.map(C),v[15]=U,v[16]=Q):Q=v[16];var X=Q,Y;v[17]===Symbol.for("react.memo_cache_sentinel")?(Y={className:"x1iyjqo2"},v[17]=Y):Y=v[17];var J=(b=U==null?void 0:U.length)!=null?b:0,Z;v[18]!==X||v[19]!==E||v[20]!==k||v[21]!==q||v[22]!==D||v[23]!==K||v[24]!==J?(Z=c.jsx("div",babelHelpers.extends({},Y,{children:c.jsx(o("PolarisSidecar_DEPRECATED.react").Sidecar,{dimensions:X,initialCarouselIndex:E,initialMediaWidthGuess:k,numSidecarChildren:J,onChildIndexChange:q,renderAllSidecarChildren:D,renderSidecarChildren:K})})),v[18]=X,v[19]=E,v[20]=k,v[21]=q,v[22]=D,v[23]=K,v[24]=J,v[25]=Z):Z=v[25];var ee=Z,te=_(null);if(o("PolarisAdsGatingHelpers").enableFeedPostImpressionLogging()){var ne,re=(ne=U==null?void 0:U.length)!=null?ne:0,oe;v[26]!==ee?(oe=c.jsx("div",{ref:te,children:ee}),v[26]=ee,v[27]=oe):oe=v[27];var ae;return v[28]!==oe||v[29]!==re?(ae=c.jsx(r("PolarisPostImpressionTrackingNode.react"),{childrenRef:te,componentType:"carousel",elementId:"carouselMedia",numCarouselCards:re,trackingNode:"MEDIA",children:oe}),v[28]=oe,v[29]=re,v[30]=ae):ae=v[30],ae}return ee}function C(e){var t=e.original_height,n=e.original_width;return{height:t!=null?t:0,width:n!=null?n:0}}l.default=y}),98);
__d("PolarisCommentLikeButton_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCommentLikeButton_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisCommentLike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentUnlike_comment"}],type:"XDTCommentDict",abstractKey:null};a.exports=e}),null);
__d("polarisGetXDTCommentDict",["igMapTypenameToRelayID"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=r("igMapTypenameToRelayID")("XDTCommentDict",null,t);return e.get(n)}l.default=e}),98);
__d("usePolarisCommentLikeMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9724457364340719"}),null);
__d("usePolarisCommentLikeMutation.graphql",["usePolarisCommentLikeMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"},{defaultValue:null,kind:"LocalArgument",name:"data"}],t=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"},{kind:"Variable",name:"data",variableName:"data"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_like",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePolarisCommentLikeMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePolarisCommentLikeMutation",selections:t},params:{id:n("usePolarisCommentLikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__media__comment_id__comment_like"]},name:"usePolarisCommentLikeMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePolarisCommentLike_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCommentLike_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTCommentDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisCommentLike",["CometRelay","FBLogger","QPLUserFlow","polarisGetXDTCommentDict","qpl","react","usePolarisAnalyticsContext","usePolarisCommentLikeMutation.graphql","usePolarisCommentLike_comment.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback,d=e!==void 0?e:e=n("usePolarisCommentLikeMutation.graphql");function m(e){var t=r("usePolarisAnalyticsContext")(),a=o("CometRelay").useFragment(s!==void 0?s:s=n("usePolarisCommentLike_comment.graphql"),e),i=o("CometRelay").useMutation(d),l=i[0];return c(function(){if(r("QPLUserFlow").start(r("qpl")._(379199145,"1297"),{annotations:{string:{source:t}}}),a.pk!=null){var e=function(t){if(a.pk!=null){var e=r("polarisGetXDTCommentDict")(t,a.pk);e==null||e.setValue(!0,"has_liked_comment");var n=e==null?void 0:e.getValue("comment_like_count");n!=null&&(e==null||e.setValue(Number(n)+1,"comment_like_count"))}};l({onCompleted:function(){r("QPLUserFlow").endSuccess(r("qpl")._(379199145,"1297"))},onError:function(t){r("FBLogger")("ig_web").mustfix("There was an error with usePolarisCommentLike",t.toString()),r("QPLUserFlow").endFailure(r("qpl")._(379199145,"1297"),"mutation_errored")},optimisticUpdater:e,updater:e,variables:{comment_id:a.pk,data:{}}})}},[a,l])}l.default=m}),98);
__d("usePolarisCommentUnlikeMutation_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25671653942440277"}),null);
__d("usePolarisCommentUnlikeMutation.graphql",["usePolarisCommentUnlikeMutation_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"comment_id"}],t=[{alias:null,args:[{kind:"Variable",name:"comment_id",variableName:"comment_id"}],concreteType:"XDTEmptyRecord",kind:"LinkedField",name:"xdt_api__v1__media__comment_id__comment_unlike",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"usePolarisCommentUnlikeMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"usePolarisCommentUnlikeMutation",selections:t},params:{id:n("usePolarisCommentUnlikeMutation_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__media__comment_id__comment_unlike"]},name:"usePolarisCommentUnlikeMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("usePolarisCommentUnlike_comment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisCommentUnlike_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],type:"XDTCommentDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisCommentUnlike",["CometRelay","FBLogger","QPLUserFlow","igMapTypenameToRelayID","qpl","react","usePolarisAnalyticsContext","usePolarisCommentUnlikeMutation.graphql","usePolarisCommentUnlike_comment.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback,d=e!==void 0?e:e=n("usePolarisCommentUnlikeMutation.graphql");function m(e){var t=r("usePolarisAnalyticsContext")(),a=o("CometRelay").useFragment(s!==void 0?s:s=n("usePolarisCommentUnlike_comment.graphql"),e),i=o("CometRelay").useMutation(d),l=i[0];return c(function(){if(r("QPLUserFlow").start(r("qpl")._(379197191,"1298"),{annotations:{string:{source:t}}}),a.pk!=null){var e=function(t){var e=r("igMapTypenameToRelayID")("XDTCommentDict",null,a.pk),n=t.get(e);n==null||n.setValue(!1,"has_liked_comment");var o=n==null?void 0:n.getValue("comment_like_count");o!=null&&(n==null||n.setValue(Number(o)-1,"comment_like_count"))};l({onCompleted:function(){r("QPLUserFlow").endSuccess(r("qpl")._(379197191,"1298"))},onError:function(t){r("FBLogger")("ig_web").mustfix("There was an error with usePolarisCommentUnlike",t.toString()),r("QPLUserFlow").endFailure(r("qpl")._(379197191,"1298"),"mutation_errored")},optimisticUpdater:e,updater:e,variables:{comment_id:a.pk}})}},[a,l])}l.default=m}),98);
__d("PolarisCommentLikeButton.next.react",["BaseButton.react","CometRelay","IGDSBox.react","IGDSHeartFilledIcon.react","IGDSHeartPanoOutlineIcon.react","IGDSIconButton.react","IGDSText.react","PolarisBigNumber.react","PolarisCommentLikeButton_comment.graphql","PolarisInteractionsStrings","react","react-compiler-runtime","stylex","usePolarisCommentLike","usePolarisCommentUnlike"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(26),n=e.color,a=e.handleClick,i=e.isLiked,l=e.likeChangeCount,s=e.likeCount,u=e.onLikeCountClick,d=e.padding,m=e.shadow,p=e.size,_=n===void 0?"ig-primary-icon":n,f=m===void 0?!1:m,g;t[0]!==u?(g=function(){u!=null&&u()},t[0]=u,t[1]=g):g=t[1];var h=g,y;t[2]!==i||t[3]!==f||t[4]!==p?(y=i?null:c.jsx(r("IGDSHeartPanoOutlineIcon.react"),{alt:o("PolarisInteractionsStrings").LIKE_TEXT,color:"ig-secondary-icon",shadow:f,size:p}),t[2]=i,t[3]=f,t[4]=p,t[5]=y):y=t[5];var C;t[6]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x1ykxiw6 x4hg4is x3oybdh"},t[6]=C):C=t[6];var b;t[7]!==_||t[8]!==i||t[9]!==f||t[10]!==p?(b=i?c.jsx(r("IGDSHeartFilledIcon.react"),{alt:o("PolarisInteractionsStrings").UNLIKE_TEXT,color:"ig-badge",shadow:f,size:p}):c.jsx(r("IGDSHeartPanoOutlineIcon.react"),{alt:o("PolarisInteractionsStrings").LIKE_TEXT,color:_,shadow:f,size:p}),t[7]=_,t[8]=i,t[9]=f,t[10]=p,t[11]=b):b=t[11];var v;t[12]!==l||t[13]!==b?(v=c.createElement("span",babelHelpers.extends({},C,{key:l}),b),t[12]=l,t[13]=b,t[14]=v):v=t[14];var S;t[15]!==a||t[16]!==d||t[17]!==y||t[18]!==v?(S=c.jsx(r("IGDSIconButton.react"),{hover:y,onClick:a,padding:d,children:v}),t[15]=a,t[16]=d,t[17]=y,t[18]=v,t[19]=S):S=t[19];var R;t[20]!==h||t[21]!==s?(R=s!=null&&s>0?c.jsx(r("IGDSBox.react"),{alignItems:"center",marginTop:2,children:c.jsx(r("BaseButton.react"),{onClick:h,children:c.jsx(r("IGDSText.react"),{color:"secondaryText",size:"footnote",textAlign:"center",weight:"semibold",children:c.jsx(r("PolarisBigNumber.react"),{shortenNumber:!0,value:s})})})}):null,t[20]=h,t[21]=s,t[22]=R):R=t[22];var L;return t[23]!==S||t[24]!==R?(L=c.jsxs(r("IGDSBox.react"),{children:[S,R]}),t[23]=S,t[24]=R,t[25]=L):L=t[25],L}function m(t){var a=o("react-compiler-runtime").c(19),i=t.color,l=t.likeCount,u=t.onLikeCountClick,m=t.padding,p=t.queryReference,_=t.shadow,f=t.size,g=t.xstyle,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisCommentLikeButton_comment.graphql"),p),y=r("usePolarisCommentLike")(h),C=r("usePolarisCommentUnlike")(h),b=h.has_liked_comment||!1,v;a[0]!==b||a[1]!==y||a[2]!==C?(v=function(t){t.preventDefault(),b===!0?C():y()},a[0]=b,a[1]=y,a[2]=C,a[3]=v):v=a[3];var S=v,R;a[4]!==g?(R=(s||(s=r("stylex"))).props(g),a[4]=g,a[5]=R):R=a[5];var L;a[6]===Symbol.for("react.memo_cache_sentinel")?(L={className:"xjbqb8w x1ejq31n x18oe1m7 x1sy0etr xstzfhl x1ypdohk x15bjb6t x1a2a7pz xexx8yu xyri2b x18d9i69 x1c1uobl"},a[6]=L):L=a[6];var E=m!=null?m:0,k=f!=null?f:12,I;a[7]!==i||a[8]!==S||a[9]!==b||a[10]!==l||a[11]!==u||a[12]!==_||a[13]!==E||a[14]!==k?(I=c.jsx("div",babelHelpers.extends({},L,{children:c.jsx(d,{color:i,handleClick:S,isLiked:b,likeChangeCount:0,likeCount:l,onLikeCountClick:u,padding:E,shadow:_,size:k})})),a[7]=i,a[8]=S,a[9]=b,a[10]=l,a[11]=u,a[12]=_,a[13]=E,a[14]=k,a[15]=I):I=a[15];var T;return a[16]!==R||a[17]!==I?(T=c.jsx("span",babelHelpers.extends({},R,{children:I})),a[16]=R,a[17]=I,a[18]=T):T=a[18],T}l.default=m}),98);
__d("PolarisInlineLikeAndCommentGating",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return(e=r("qex")._("3089"))!=null?e:!1}function s(){var e;return(e=r("qex")._("3092"))!=null?e:!1}function u(){var e;return(e=r("qex")._("453"))!=null?e:!1}l.shouldShowInlineLikeCounts=e,l.shouldShowInlineCommentCounts=s,l.shouldRemoveAddComment=u}),98);
__d("PolarisPostLikedByListDialogQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24504422029176606"}),null);
__d("PolarisPostLikedByListDialogQuery$Parameters",["PolarisPostLikedByListDialogQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisPostLikedByListDialogQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_api__v1__likes__media_id__likers"]},name:"PolarisPostLikedByListDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisLikedByListDialogRoot.entrypoint",["JSResourceForInteraction","PolarisPostLikedByListDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{polarisPostLikedByListDialogQuery:{options:{},parameters:r("PolarisPostLikedByListDialogQuery$Parameters"),variables:{media_id:t.routeProps.mediaID}}}}},root:r("JSResourceForInteraction")("PolarisPostLikedByListDialogRoot.react").__setRef("PolarisLikedByListDialogRoot.entrypoint")};l.default=e}),98);
__d("PolarisMediaCoauthorInvitesOverlayFooterCTA_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"LOG"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaCoauthorInvitesOverlayFooterCTA_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e],storageKey:null},action:"LOG"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaCoauthorInvitesOverlayFooterCTA.react",["fbt","CometRelay","IGDSBox.react","IGDSTextVariants.react","PolarisConfig","PolarisInvitedCoauthorsCountWithSheet.react","PolarisMediaCoauthorInvitesOverlayFooterCTA_media.graphql","PolarisUserHoverCard.react","PolarisUserLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var a,i=o("react-compiler-runtime").c(17),l=t.fragmentKey,u=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaCoauthorInvitesOverlayFooterCTA_media.graphql"),l),d=u==null?void 0:u.invited_coauthor_producers,_=u==null?void 0:u.user,f=(a=u==null?void 0:u.pk)!=null?a:"",g=o("PolarisConfig").getViewerIdOrZero(),h=d!=null;if(!h||(_==null?void 0:_.pk)!==g)return null;var y;i[0]!==d?(y=d==null?void 0:d.map(p),i[0]=d,i[1]=y):y=i[1];var C=y,b;i[2]!==d?(b=(d!=null?d:[]).map(m),i[2]=d,i[3]=b):b=i[3];var v=b,S;i[4]!==C?(S=s._(/*BTDS*/"{invited_coauthor_username}\ub2d8\uc774 \uacf5\ub3d9 \uc791\uc5c5\uc790\ub85c \ucd08\ub300\ub418\uc5c8\uc73c\ub098 \uc544\uc9c1 \uc218\ub77d\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",[s._param("invited_coauthor_username",C!=null&&C[0])]),i[4]=C,i[5]=S):S=i[5];var R=S,L;i[6]!==C?(L=s._(/*BTDS*/"{invited_coauthor_username_1}\ub2d8\uacfc {invited_coauthor_username_2}\ub2d8\uc774 \uacf5\ub3d9 \uc791\uc5c5\uc790\ub85c \ucd08\ub300\ub418\uc5c8\uc73c\ub098 \uc544\uc9c1 \uc218\ub77d\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",[s._param("invited_coauthor_username_1",C!=null&&C[0]),s._param("invited_coauthor_username_2",C!=null&&C[1])]),i[6]=C,i[7]=L):L=i[7];var E=L,k;i[8]!==v||i[9]!==C||i[10]!==f?(k=s._(/*BTDS*/"{invited_coauthor_username_1}\ub2d8\uacfc {=m2}\ub2d8\uc774 \uacf5\ub3d9 \uc791\uc5c5\uc790\ub85c \ucd08\ub300\ub418\uc5c8\uc73c\ub098 \uc544\uc9c1 \uc218\ub77d\ud558\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.",[s._param("invited_coauthor_username_1",C!=null&&C[0]),s._implicitParam("=m2",c.jsx(r("PolarisInvitedCoauthorsCountWithSheet.react"),{analyticsContext:"post_invited_coauthors_overlay_footer_cta",coauthors:v,mediaId:f,children:s._(/*BTDS*/"")}))]),i[8]=v,i[9]=C,i[10]=f,i[11]=k):k=i[11];var I=k,T;return i[12]!==d||i[13]!==R||i[14]!==I||i[15]!==E?(T=d!=null&&d.length>0?c.jsx(r("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:c.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:d.length===1?R:d.length===2?E:d.length>2?I:null})})}):null,i[12]=d,i[13]=R,i[14]=I,i[15]=E,i[16]=T):T=i[16],T}function m(e){var t,n,r,o,a;return{user:{fullName:(t=e==null?void 0:e.full_name)!=null?t:"",id:(n=e==null?void 0:e.pk)!=null?n:"",isVerified:(r=e==null?void 0:e.is_verified)!=null?r:!1,profilePictureUrl:(o=e==null?void 0:e.profile_pic_url)!=null?o:"",username:(a=e==null?void 0:e.username)!=null?a:""}}}function p(e,t){var n,o,a;return c.jsx(r("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:!(e!=null&&e.is_unpublished),userId:(n=e==null?void 0:e.pk)!=null?n:"",username:(o=e==null?void 0:e.username)!=null?o:"",children:c.jsx(r("PolarisUserLink.react"),{username:(a=e==null?void 0:e.username)!=null?a:""})},t)}p.displayName=p.name+" [from "+i.id+"]",l.default=d}),226);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"LOG"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"LOG"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"LOG"}],storageKey:null},action:"LOG"},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"invited_coauthor_producers",plural:!0,selections:[e],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaCoauthorReviewOverlayFooterCTA.react",["fbt","CometRelay","FBLogger","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","JSResourceForInteraction","PolarisConfig","PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql","PolarisUserHoverCard.react","PolarisUserLink.react","err","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","useIGDSLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useCallback,m=r("JSResourceForInteraction")("PolarisCoauthorReviewDialog.react").__setRef("PolarisMediaCoauthorReviewOverlayFooterCTA.react");function p(t){var a,i,l,u=o("react-compiler-runtime").c(25),d=t.fragmentKey,p=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaCoauthorReviewOverlayFooterCTA_media.graphql"),d),_=(a=p==null?void 0:p.user.username)!=null?a:"",f=(i=p==null?void 0:p.pk)!=null?i:"",g=(l=p==null?void 0:p.code)!=null?l:"",h=p==null?void 0:p.invited_coauthor_producers,y=p==null?void 0:p.product_type,C=p==null?void 0:p.user,b=r("useIGDSLazyDialog")(m),v=b[0],S;u[0]!==f||u[1]!==g||u[2]!==y||u[3]!==v||u[4]!==_?(S=function(){v({mediaId:f,mediaShortcode:g,productType:y,username:_})},u[0]=f,u[1]=g,u[2]=y,u[3]=v,u[4]=_,u[5]=S):S=u[5];var R=S;if(C==null||_==null||!p){var L=r("err")("PolarisMediaCoauthorReviewOverlayFooterCTA requires a post user");return r("FBLogger")("ig_web").catching(L),null}var E=o("PolarisConfig").getViewerIdOrZero(),k=h!=null&&h.some(function(e){return(e==null?void 0:e.pk)===E});if(!k)return null;var I=!C.is_unpublished,T;u[6]!==_?(T=c.jsx(r("PolarisUserLink.react"),{username:_}),u[6]=_,u[7]=T):T=u[7];var D;u[8]!==I||u[9]!==T||u[10]!==C.pk||u[11]!==_?(D=c.jsx(r("PolarisUserHoverCard.react"),{display:"inline-block",isUserAvailable:I,userId:C.pk,username:_,children:T}),u[8]=I,u[9]=T,u[10]=C.pk,u[11]=_,u[12]=D):D=u[12];var x=D,$;u[13]!==x?($=s._(/*BTDS*/"{media_owner_username}\ub2d8\uc774 \ud68c\uc6d0\ub2d8\uc744 \uac8c\uc2dc\ubb3c\uc758 \uacf5\ub3d9 \uc791\uc5c5\uc790\ub85c \ucd08\ub300\ud588\uc2b5\ub2c8\ub2e4.",[s._param("media_owner_username",x)]),u[13]=x,u[14]=$):$=u[14];var P=$,N;u[15]!==x?(N=s._(/*BTDS*/"{media_owner_username}\ub2d8\uc774 \ud68c\uc6d0\ub2d8\uc744 \ub9b4\uc2a4\uc758 \uacf5\ub3d9 \uc791\uc5c5\uc790\ub85c \ucd08\ub300\ud588\uc2b5\ub2c8\ub2e4.",[s._param("media_owner_username",x)]),u[15]=x,u[16]=N):N=u[16];var M=N,w=y===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS?M:P,A;u[17]!==w?(A=c.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:5,marginStart:1,maxWidth:350,overflow:"auto",wrap:!0,children:c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{color:"primaryText",maxLines:3,zeroMargin:!0,children:w})}),u[17]=w,u[18]=A):A=u[18];var F;u[19]===Symbol.for("react.memo_cache_sentinel")?(F=s._(/*BTDS*/"\uac80\ud1a0"),u[19]=F):F=u[19];var O;u[20]!==R?(O=c.jsx(r("IGDSBox.react"),{flex:"shrink",marginEnd:1,children:c.jsx(r("IGDSButton.react"),{display:"inline",label:F,onClick:R,variant:"tertiary"})}),u[20]=R,u[21]=O):O=u[21];var B;return u[22]!==O||u[23]!==A?(B=c.jsxs(r("IGDSBox.react"),{alignItems:"center",color:"primaryBackground",direction:"row",justifyContent:"between",paddingX:3,paddingY:2,position:"relative",children:[A,O]}),u[22]=O,u[23]=A,u[24]=B):B=u[24],B}l.default=p}),226);
__d("PolarisMediaOverlayFooterCTAFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaOverlayFooterCTAFragment_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisMediaCoauthorReviewOverlayFooterCTA_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaCoauthorInvitesOverlayFooterCTA_media"},{args:null,kind:"FragmentSpread",name:"usePolarisShowFooterCTA_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMediaOverlayFooterCTA.react",["CometRelay","PolarisMediaCoauthorInvitesOverlayFooterCTA.react","PolarisMediaCoauthorReviewOverlayFooterCTA.react","PolarisMediaOverlayFooterCTAFragment_media.graphql","PolarisPostOverlayInfoFooterCTA.react","emptyFunction","react","react-compiler-runtime","stylex","usePolarisShowFooterCTA.next.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d={},m={};function p(t){var a=o("react-compiler-runtime").c(10),i=t.analyticsContext,l=t.currentSidecarIndex,u=t.queryReference,p=t.xstyle,_=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaOverlayFooterCTAFragment_media.graphql"),u),f=r("usePolarisShowFooterCTA.next.react")(_,l,d),g;a[0]!==_?(g=c.jsx(r("PolarisMediaCoauthorReviewOverlayFooterCTA.react"),{fragmentKey:_}),a[0]=_,a[1]=g):g=a[1];var h=g,y;a[2]!==_?(y=c.jsx(r("PolarisMediaCoauthorInvitesOverlayFooterCTA.react"),{fragmentKey:_}),a[2]=_,a[3]=y):y=a[3];var C=y,b;return a[4]!==i||a[5]!==h||a[6]!==f||a[7]!==C||a[8]!==p?(b=f!=null?c.jsxs("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(p),{children:[c.jsx(o("PolarisPostOverlayInfoFooterCTA.react").PolarisPostOverlayInfoFooterCTARenderer,babelHelpers.extends({analyticsContext:i,idsWithDisabledMediaOverlayInfoImpressionLogging:m,onLogOverlayImpression:r("emptyFunction")},f)),h,C]})):c.jsxs("div",{children:[h,C]}),a[4]=i,a[5]=h,a[6]=f,a[7]=C,a[8]=p,a[9]=b):b=a[9],b}l.default=p}),98);
__d("PolarisMedia_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMedia_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisCarouselMedia_ad"},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMedia_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMedia_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"open_carousel_submission_state",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaOverlayPayloadSchema",kind:"LinkedField",name:"media_overlay_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisMediaDimensionsFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaItemFragment_media"},{args:null,kind:"FragmentSpread",name:"PolarisCarouselMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSensitivityOverlayFragment_media"},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayFooterCTAFragment_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMedia.react",["CometRelay","PolarisCarouselMedia.react","PolarisDoubleTappable","PolarisFeedCardProvider.react","PolarisFeedContext.react","PolarisFeedPageConstants","PolarisIsLoggedIn","PolarisLikeAnimation.react","PolarisMediaConstants","PolarisMediaItem.react","PolarisMediaOverlayFooterCTA.react","PolarisMediaSensitivityOverlay.next.react","PolarisMedia_ad.graphql","PolarisMedia_media.graphql","PolarisPostContext.react","PolarisPostIdContext.react","clearTimeout","justknobx","react","setTimeout","usePartialViewImpression","usePolarisIsFeedMobileLayout","usePolarisLikeMedia","usePolarisMediaDimensions","usePolarisNavigateToLogin"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_=d.useState,f=2,g=5e3;function h(t){var a,i,l,u,d,h,y,C,b,v=t.adFragmentKey,S=t.analyticsContext,R=t.handleMediaSidecarChildIndexChange,L=t.initialCarouselIndex,E=t.mediaFragmentKey,k=t.onClick,I=t.renderAllSidecarChildren,T=t.renderThumbnailForVideoForSSR,D=p(o("PolarisFeedCardProvider.react").PolarisFeedCardContext),x=D.setIsCarouselCardVisible,$=null,P=r("usePartialViewImpression")({onImpressionEnd:function(){r("clearTimeout")($)},onImpressionStart:function(){$!==null&&r("clearTimeout")($),x(!0),$=r("setTimeout")(function(){x(!1)},g)}}),N=p(o("PolarisFeedContext.react").PolarisFeedContext),M=N.feedMediaWidth,w=p(o("PolarisPostContext.react").PolarisPostContext),A=w.shouldCapHeight,F=o("usePolarisIsFeedMobileLayout").usePolarisIsFeedMobileLayout(),O=M!=null?{width:F?M:"calc("+M+" - "+f+"px)"}:void 0,B=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMedia_media.graphql"),E),W=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisMedia_ad.graphql"),v),q=B.open_carousel_submission_state==="open_with_submission_eligible"||B.open_carousel_submission_state==="open_with_submission_ineligible"||B.open_carousel_submission_state==="former_opened",U=(a=(i=B.user)==null?void 0:i.username)!=null?a:"",V=(l=(u=B.user)==null?void 0:u.profile_pic_url)!=null?l:"",H=p(o("PolarisPostIdContext.react").PolarisPostIdContext),G=(d=H.postId)!=null?d:B.pk,z=(h=H.mediaIdUFI)!=null?h:B.pk,j=r("usePolarisMediaDimensions")({mediaQueryReference:B}),K=j==null?void 0:j.height,Q=j==null?void 0:j.width,X=r("usePolarisNavigateToLogin")((y=B==null?void 0:B.code)!=null?y:"",B==null||(C=B.user)==null?void 0:C.username),Y=X[0],J=X[1],Z=B.user,ee=_((B==null||(b=B.media_overlay_info)==null?void 0:b.title)!=null),te=ee[0],ne=ee[1],re=_(0),oe=re[0],ae=re[1],ie=r("usePolarisLikeMedia")({adFragmentKey:W,analyticsContext:S,mediaFragmentKey:B,sourceOfLike:"button"}),le=m(function(){if(B.media_type!==o("PolarisMediaConstants").MediaTypes.VIDEO){if(!o("PolarisIsLoggedIn").isLoggedIn()){Y("like");return}B.has_liked!==!0&&ie(z,!0),ae(oe+1)}},[B.media_type,B.has_liked,oe,Y,ie,z]),se=m(function(){B.media_type!==o("PolarisMediaConstants").MediaTypes.VIDEO&&!o("PolarisIsLoggedIn").isLoggedIn()&&J()},[B.media_type,J]),ue=1/o("PolarisMediaConstants").videoAspectRatioMin(),ce;if(Z!=null&&B!=null&&!r("justknobx")._("4228")&&te)ce=c.jsx("div",{className:"xi4djqw x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm",style:M!=null&&K!=null&&Q!=null?{maxHeight:(A?"min(calc(("+M+" * "+K+") / "+Q+"), calc("+M+" * "+ue+"))":"calc(("+M+" * "+K+") / "+Q+")")+"px"}:void 0,children:c.jsx(r("PolarisMediaSensitivityOverlay.next.react"),{analyticsContext:S,media:B,onShowPostClicked:function(){return ne(!1)}})});else if((W==null?void 0:W.media_type)===o("PolarisMediaConstants").MediaTypes.CAROUSEL_V2||B.media_type===o("PolarisMediaConstants").MediaTypes.CAROUSEL_V2)ce=c.jsx(r("PolarisCarouselMedia.react"),{adFragmentKey:W,analyticsContext:S,handleMediaSidecarChildIndexChange:R,initialCarouselIndex:L,initialMediaWidthGuess:T===!0?o("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH:M!=null?F?o("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH:o("PolarisFeedPageConstants").FAMILIAR_FEED_WIDTH-f:void 0,mediaFragmentKey:B,mediaWidthStyleOverride:O,renderAllSidecarChildren:I});else{var de;ce=c.jsx(r("PolarisMediaItem.react"),{isOpenCarousel:q,mediaType:(de=B.media_type)!=null?de:0,originalHeight:K,originalWidth:Q,ownerName:U,ownerProfilePic:V,postId:G,queryReference:B,renderThumbnailForVideoForSSR:T})}return c.jsx("div",{ref:P,children:c.jsxs(o("PolarisDoubleTappable").DoubleTappable,{ariaHidden:!0,onDoubleClick:le,onSingleClick:k,onTouchStart:se,role:"button",children:[r("justknobx")._("4228")?c.jsxs("div",{className:"x1n2onr6",style:O,children:[ce,Z!=null&&B!=null&&te&&c.jsx("div",{className:"xi4djqw x5yr21d x1o0tod x10l6tqk x13vifvy xh8yej3 x1vjfegm",children:c.jsx(r("PolarisMediaSensitivityOverlay.next.react"),{analyticsContext:S,media:B,onShowPostClicked:function(){return ne(!1)}})}),!te&&c.jsx(r("PolarisMediaOverlayFooterCTA.react"),{analyticsContext:S,currentSidecarIndex:L,queryReference:B})]}):c.jsxs("div",{className:"x1n2onr6",style:O,children:[ce,!te&&c.jsx(r("PolarisMediaOverlayFooterCTA.react"),{analyticsContext:S,currentSidecarIndex:L,queryReference:B})]}),c.jsx(r("PolarisLikeAnimation.react"),{likeEventCount:oe},oe)]})})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("PolarisMediaNoteBubbleGroupRelay_floatingContextItems.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},i={alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,r,o,a],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"PolarisMediaNoteBubbleGroupRelay_floatingContextItems",selections:[{alias:null,args:null,kind:"ScalarField",name:"floating_context_item_type",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaNoteResponse",kind:"LinkedField",name:"media_note",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"media_id",storageKey:null},t,n,{alias:null,args:null,kind:"ScalarField",name:"viewer_has_liked",storageKey:null},{alias:null,args:null,concreteType:"XDTNoteEmojiReactionInfo",kind:"LinkedField",name:"reactions",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[n,r,o,a],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"comment",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null},i],type:"XDTLazyFloatingContextItem",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMediaNoteBubbleGroupRelay.react",["CometRelay","PolarisMediaNoteBubbleGroup.react","PolarisMediaNoteBubbleGroupRelay_floatingContextItems.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=["REPOSTED_BY","LIKED_BY","COMMENTED_BY"];function d(t){var a=o("react-compiler-runtime").c(5),i=t.floatingContextItemsQueryRef,l=t.mediaId,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaNoteBubbleGroupRelay_floatingContextItems.graphql"),i),c;a[0]!==s?(c=s==null?void 0:s.filter(_).map(m).filter(Boolean),a[0]=s,a[1]=c):c=a[1];var d=c,p;return a[2]!==d||a[3]!==l?(p=u.jsx(r("PolarisMediaNoteBubbleGroup.react"),{floatingContextItems:d,mediaId:l}),a[2]=d,a[3]=l,a[4]=p):p=a[4],p}function m(e){var t,n,r,o,a,i,l,s,u,c,d,m,_,f,g=e.media_note,h=e.comment;return{comment:{pk:h==null?void 0:h.pk,text:(t=h==null?void 0:h.text)!=null?t:""},floating_context_item_type:e.floating_context_item_type,media_note:{id:g==null?void 0:g.id,media_id:g==null?void 0:g.media_id,reactions:g==null||(n=g.reactions)==null?void 0:n.map(p),text:g==null?void 0:g.text,user:(g==null?void 0:g.user)!=null?{full_name:(r=g.user.full_name)!=null?r:"",profile_pic_url:g.user.profile_pic_url,username:(o=g.user.username)!=null?o:""}:void 0,user_id:g==null?void 0:g.user_id,viewer_has_liked:g==null?void 0:g.viewer_has_liked},user:(g==null?void 0:g.user)!=null?{full_name:(a=g.user.full_name)!=null?a:"",profile_pic_url:g.user.profile_pic_url,user_id:(i=g.user.user_id)!=null?i:"",username:(l=g.user.username)!=null?l:""}:{full_name:(s=(u=e.user)==null?void 0:u.full_name)!=null?s:"",profile_pic_url:(c=e.user)==null?void 0:c.profile_pic_url,user_id:(d=(m=e.user)==null?void 0:m.id)!=null?d:"",username:(_=(f=e.user)==null?void 0:f.username)!=null?_:""}}}function p(e){var t,n;return{emoji:e.emoji,reaction_type:e.reaction_type,user:e.user!=null?{full_name:(t=e.user.full_name)!=null?t:"",id:e.user.id,profile_pic_url:e.user.profile_pic_url,username:(n=e.user.username)!=null?n:""}:void 0}}function _(e){return e.floating_context_item_type!=null&&c.includes(e.floating_context_item_type)}l.default=d}),98);
__d("PolarisMediaSaveButton_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButtonWithPopover_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMediaSaveButton_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMediaSaveButton_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSaveButton_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisSaveButtonImpl.next.react",["IGDSIconButton.react","IGDSSavePanoFilledIcon.react","IGDSSavePanoOutlineIcon.react","PolarisPostStrings","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=24;function c(e){var t=o("react-compiler-runtime").c(9),n=e["data-testid"],a=e.handleClick,i=e.iconColorOverride,l=e.isSaved,c=e.onHoverStart,d=e.shadow,m=d===void 0?!1:d,p;t[0]!==i||t[1]!==l||t[2]!==m?(p=l===!0?s.jsx(r("IGDSSavePanoFilledIcon.react"),{alt:o("PolarisPostStrings").UNSAVE_TEXT,color:i!=null?i:"ig-primary-icon",shadow:m,size:u}):s.jsx(r("IGDSSavePanoOutlineIcon.react"),{alt:o("PolarisPostStrings").SAVE_TEXT,color:i!=null?i:"ig-primary-icon",shadow:m,size:u}),t[0]=i,t[1]=l,t[2]=m,t[3]=p):p=t[3];var _;return t[4]!==n||t[5]!==a||t[6]!==c||t[7]!==p?(_=s.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:a,onHoverStart:c,padding:0,children:p}),t[4]=n,t[5]=a,t[6]=c,t[7]=p,t[8]=_):_=t[8],_}l.default=c}),98);
__d("PolarisSaveButton_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSaveButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisSaveButtonWithPopover_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisSaveButton.next.react",["CometRelay","PolarisIsLoggedIn","PolarisSaveButtonImpl.next.react","PolarisSaveButton_media.graphql","cr:5226","react","react-compiler-runtime","usePolarisNavigateToLogin"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l=o("react-compiler-runtime").c(15),s=t.ad,c=t["data-testid"],d=t.iconColor,m=t.media,p=t.onShowToast,_=t.shadow,f=_===void 0?!1:_,g=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisSaveButton_media.graphql"),m),h=r("usePolarisNavigateToLogin")((a=g==null?void 0:g.code)!=null?a:"",g==null||(i=g.user)==null?void 0:i.username),y=h[0],C=h[1];if(!o("PolarisIsLoggedIn").isLoggedIn()){var b;l[0]!==y?(b=function(){y("save")},l[0]=y,l[1]=b):b=l[1];var v;return l[2]!==c||l[3]!==d||l[4]!==C||l[5]!==f||l[6]!==b?(v=u.jsx(r("PolarisSaveButtonImpl.next.react"),{canEditCollections:!1,"data-testid":void 0,handleClick:b,iconColorOverride:d,isSaved:!1,onHoverStart:C,shadow:f}),l[2]=c,l[3]=d,l[4]=C,l[5]=f,l[6]=b,l[7]=v):v=l[7],v}var S;return l[8]!==s||l[9]!==c||l[10]!==d||l[11]!==g||l[12]!==p||l[13]!==f?(S=n("cr:5226")&&u.jsx(n("cr:5226"),{ad:s,"data-testid":void 0,iconColor:d,media:g,onShowToast:p,shadow:f}),l[8]=s,l[9]=c,l[10]=d,l[11]=g,l[12]=p,l[13]=f,l[14]=S):S=l[14],S}l.default=c}),98);
__d("PolarisMediaSaveButton.react",["CometRelay","PolarisMediaSaveButton_ad.graphql","PolarisMediaSaveButton_media.graphql","PolarisSaveButton.next.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(6),i=t.adFragmentKey,l=t.iconColor,u=t.mediaFragmentKey,d=t.onShowToast,m=t.shadow,p=m===void 0?!1:m,_=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMediaSaveButton_media.graphql"),u),f=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisMediaSaveButton_ad.graphql"),i),g;return a[0]!==f||a[1]!==l||a[2]!==_||a[3]!==d||a[4]!==p?(g=c.jsx(r("PolarisSaveButton.next.react"),{ad:f,"data-testid":void 0,iconColor:l,media:_,onShowToast:d,shadow:p}),a[0]=f,a[1]=l,a[2]=_,a[3]=d,a[4]=p,a[5]=g):g=a[5],g}l.default=d}),98);
__d("PolarisMobilePostCaptionFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMobilePostCaptionFragment",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},e,{alias:null,args:null,kind:"ScalarField",name:"is_unpublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"caption",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},e,{args:null,kind:"FragmentSpread",name:"PolarisMediaOverlayCommunityNote_media"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisSEORenderingUtils",["InstagramSEOCrawlBot"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){return n&&e==null&&r("InstagramSEOCrawlBot").is_allowlisted_crawl_bot&&r("InstagramSEOCrawlBot").should_render_caption_as_title&&t!=null?t:e}function s(e,t){if(!r("InstagramSEOCrawlBot").is_google_crawl_bot)return t;var n=[r("InstagramSEOCrawlBot").post_translated_text_media_id,r("InstagramSEOCrawlBot").post_translated_text],o=n[0],a=n[1];if(o===e&&a!=null&&a.length!==0)return a;var i=[r("InstagramSEOCrawlBot").post_translation_artifacts_media_id,r("InstagramSEOCrawlBot").post_translation_artifacts],l=i[0],s=i[1];return l===e&&s!=null&&s.length?[t].concat(s.map(function(e){return e.caption_translation}).filter(Boolean)).join("\n"):t}l.getCaptionTextForCrawlers=e,l.getTranslatedCaptionTextForCrawlers=s}),98);
__d("PolarisMobilePostCaption.next.react",["CometRelay","PolarisMediaOverlayCommunityNote","PolarisMobilePostCaptionFragment.graphql","PolarisPostFastCommentPrimitive.react","PolarisPostFastCrawlerComment.react","PolarisSEORenderingUtils","react","react-compiler-runtime","usePolarisPageTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l,s,c,d=o("react-compiler-runtime").c(18),m=t.isCrawler,p=t.isMainPostOfPage,_=t.queryReference,f=m===void 0?!1:m,g=p===void 0?!1:p,h=r("usePolarisPageTitle.react")(),y=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMobilePostCaptionFragment.graphql"),_),C=(a=y.user)==null?void 0:a.pk,b=(i=y.user)==null?void 0:i.is_unpublished,v=((l=y.user)==null?void 0:l.is_verified)===!0,S=(s=y.user)==null?void 0:s.username,R;if(d[0]!==f||d[1]!==g||d[2]!==((c=y.caption)==null?void 0:c.text)||d[3]!==h){var L,E,k;R=f?o("PolarisSEORenderingUtils").getCaptionTextForCrawlers((L=y.caption)==null?void 0:L.text,h,g):(E=y.caption)==null?void 0:E.text,d[0]=f,d[1]=g,d[2]=(k=y.caption)==null?void 0:k.text,d[3]=h,d[4]=R}else R=d[4];var I=R;if(S==null||C==null||I==null||b==null)return null;var T;d[5]!==y.pk||d[6]!==I?(T=o("PolarisSEORenderingUtils").getTranslatedCaptionTextForCrawlers(y.pk,I),d[5]=y.pk,d[6]=I,d[7]=T):T=d[7];var D=T,x;d[8]===Symbol.for("react.memo_cache_sentinel")?(x={className:"x12nagc"},d[8]=x):x=d[8];var $;return d[9]!==f||d[10]!==b||d[11]!==v||d[12]!==y||d[13]!==I||d[14]!==D||d[15]!==C||d[16]!==S?($=u.jsx("div",babelHelpers.extends({},x,{children:f?u.jsx(r("PolarisPostFastCrawlerComment.react"),{isAuthorUnpublished:b,isAuthorVerified:v,text:D,userId:C,username:S}):u.jsxs("div",{children:[u.jsx(r("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:v,isCaption:!0,text:I,userId:C,username:S}),u.jsx(r("PolarisMediaOverlayCommunityNote"),{queryReference:y})]})})),d[9]=f,d[10]=b,d[11]=v,d[12]=y,d[13]=I,d[14]=D,d[15]=C,d[16]=S,d[17]=$):$=d[17],$}l.default=c}),98);
__d("PolarisMobilePostDetailsSectionFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMobilePostDetailsSectionFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"taken_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"preview_comments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostUFI_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFastViewAllComments_media"},{args:null,kind:"FragmentSpread",name:"PolarisMobilePostCaptionFragment"},{args:null,kind:"FragmentSpread",name:"PolarisMobilePostPreviewCommentsFragment"},{args:null,kind:"FragmentSpread",name:"PolarisPostFooterFragment_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisMobilePostPreviewCommentsFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMobilePostPreviewCommentsFragment",selections:[e,{alias:null,args:null,concreteType:"XDTCommentDict",kind:"LinkedField",name:"preview_comments",plural:!0,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisMobilePostPreviewComments.next.react",["CometRelay","IGDSBox.react","PolarisCommentLikeButton.next.react","PolarisIsLoggedIn","PolarisMobilePostPreviewCommentsFragment.graphql","PolarisPostFastCommentPrimitive.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(2),i=t.queryReference,l=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMobilePostPreviewCommentsFragment.graphql"),i);if(l.preview_comments==null||l.preview_comments.length===0)return null;var s;return a[0]!==l.preview_comments?(s=u.jsx(r("IGDSBox.react"),{children:l.preview_comments.map(d)}),a[0]=l.preview_comments,a[1]=s):s=a[1],s}function d(e){return e.user!=null&&e.text!=null&&u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",marginBottom:1,children:[u.jsx(r("PolarisPostFastCommentPrimitive.react"),{isAuthorVerified:e.user.is_verified===!0,text:e.text,userId:e.user.pk,username:e.user.username}),o("PolarisIsLoggedIn").isLoggedIn()?u.jsx(r("PolarisCommentLikeButton.next.react"),{queryReference:e}):null]},e.pk)}l.default=c}),98);
__d("PolarisPostFastViewAllComments_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFastViewAllComments_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carousel_media_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("PolarisPostFastViewAllComments.next.react",["fbt","CometRelay","CometRouteURL","IGDSText.react","PolarisBigNumber.react","PolarisFastLink.react","PolarisInteractionsLogger","PolarisIsLoggedIn","PolarisMediaConstants","PolarisPostFastViewAllComments_media.graphql","PolarisPostIdContext.react","PolarisScrollPositionHistory","PolarisSponsoredPostContext.react","PolarisTrackingConstants","PolarisUA","URI","XPolarisMobileAllCommentsControllerRouteBuilder","react","react-compiler-runtime","usePolarisFeedAnalyticsContext","usePolarisNavigateToLogin"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f={root:{display:"x78zum5",$$css:!0}};function g(t){var a,i,l,c,m,p=o("react-compiler-runtime").c(28),g=t.fragmentKey,h=t.onClick,y=t.onMouseEnter,C=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostFastViewAllComments_media.graphql"),g),b=_(o("PolarisPostIdContext.react").PolarisPostIdContext),v=_(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),S=v.canUserSeePersistentCta,R=(a=C.comment_count)!=null?a:0,L=(i=C.user)==null?void 0:i.pk,E=(l=b.postId)!=null?l:C.pk,k;p[0]!==C.carousel_media_count||p[1]!==C.media_type?(k=1,C.media_type===o("PolarisMediaConstants").MediaTypes.VIDEO&&(k=2),C.carousel_media_count!=null&&C.carousel_media_count>0&&(k=8),p[0]=C.carousel_media_count,p[1]=C.media_type,p[2]=k):k=p[2];var I=r("usePolarisFeedAnalyticsContext")(),T;p[3]===Symbol.for("react.memo_cache_sentinel")?(T=o("PolarisIsLoggedIn").isLoggedIn(),p[3]=T):T=p[3];var D=r("usePolarisNavigateToLogin")((c=C==null?void 0:C.code)!=null?c:"",C==null||(m=C.user)==null?void 0:m.username,!T),x=D[0],$=D[1],P=o("CometRouteURL").useRouteURL(),N;if(p[4]!==S||p[5]!==C.code){var M,w;N=r("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL((w={},w[o("PolarisTrackingConstants").ENABLE_PERSISTENT_CTA]=S||void 0,w.shortcode=(M=C.code)!=null?M:"",w)),p[4]=S,p[5]=C.code,p[6]=N}else N=p[6];var A=N,F;p[7]!==I||p[8]!==P||p[9]!==x||p[10]!==h||p[11]!==L||p[12]!==E||p[13]!==k?(F=function(t){if(o("PolarisIsLoggedIn").isLoggedIn()){o("PolarisInteractionsLogger").logInteractionAction({containerModule:I,eventName:"instagram_organic_comment_view_all",mediaAuthorId:L!=null?L:"",mediaId:E,mediaType:k}),o("PolarisUA").isDesktop()&&t.preventDefault();var e=new(u||(u=r("URI")))(P);o("PolarisScrollPositionHistory").saveScrollPosition({hash:e.getFragment(),pathname:e.getPath(),search:e.getQueryString()}),h()}else x("comment")},p[7]=I,p[8]=P,p[9]=x,p[10]=h,p[11]=L,p[12]=E,p[13]=k,p[14]=F):F=p[14];var O=F,B;p[15]!==$||p[16]!==y?(B=function(){y==null||y(),o("PolarisIsLoggedIn").isLoggedIn()||$()},p[15]=$,p[16]=y,p[17]=B):B=p[17];var W=B,q;p[18]!==A?(q=o("PolarisIsLoggedIn").isLoggedIn()?A:null,p[18]=A,p[19]=q):q=p[19];var U;p[20]===Symbol.for("react.memo_cache_sentinel")?(U=o("PolarisUA").isDesktop(),p[20]=U):U=p[20];var V;p[21]!==R?(V=d.jsx(r("IGDSText.react"),{color:"secondaryText",zeroMargin:!0,children:R===1?s._(/*BTDS*/"\ub313\uae00 1\uac1c \ubcf4\uae30"):s._(/*BTDS*/"\ub313\uae00 {count}\uac1c \ubaa8\ub450 \ubcf4\uae30",[s._param("count",d.jsx(r("PolarisBigNumber.react"),{value:R}))])}),p[21]=R,p[22]=V):V=p[22];var H;return p[23]!==O||p[24]!==W||p[25]!==q||p[26]!==V?(H=d.jsx(r("PolarisFastLink.react"),{"data-testid":void 0,href:q,onClick:O,onMouseEnter:W,shouldOpenModal:U,xstyle:f.root,children:V}),p[23]=O,p[24]=W,p[25]=q,p[26]=V,p[27]=H):H=p[27],H}l.default=g}),226);
__d("PolarisPostFooterFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFooterFragment_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"boosted_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boost_unavailable_identifier",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boost_unavailable_reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisInsightsInfoFragment_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisInsightsInfoFragment_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisInsightsInfoFragment_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_insights_as_brand",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisInsightsInfo",["CometRelay","PolarisInsightsUtils","polarisGetPostFromGraphMediaInterface","react-compiler-runtime","usePolarisInsightsInfoFragment_media.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r,a){var i,l,s=o("react-compiler-runtime").c(8),u=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisInsightsInfoFragment_media.graphql"),t);if(r==null||u.user==null){var c;return s[0]===Symbol.for("react.memo_cache_sentinel")?(c={bloksAppId:"",hasViewInsights:!1},s[0]=c):c=s[0],c}var d=(i=u.can_see_insights_as_brand)!=null?i:!1;if(String(r.id)===String((l=u.user)==null?void 0:l.pk)&&(r==null?void 0:r.canSeeOrganicInsights)===!0||d){if(u.product_type===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_CLIPS){var m;return s[1]!==a?(m=o("PolarisInsightsUtils").getViewInsightsForClip(a),s[1]=a,s[2]=m):m=s[2],m}if(u.product_type===o("polarisGetPostFromGraphMediaInterface").PRODUCT_TYPE_IGTV){var p;return s[3]!==a?(p=o("PolarisInsightsUtils").getViewInsightsForIGTV(a),s[3]=a,s[4]=p):p=s[4],p}var _;return s[5]!==a?(_=o("PolarisInsightsUtils").getViewInsightsForPost(a),s[5]=a,s[6]=_):_=s[6],_}var f;return s[7]===Symbol.for("react.memo_cache_sentinel")?(f={bloksAppId:"",hasViewInsights:!1},s[7]=f):f=s[7],f}l.default=s}),98);
__d("PolarisPostFooter.next.react",["CometRelay","IGDSBox.react","IGDSDivider.react","PolarisBoostMultiBoostUtils.react","PolarisBoostUtils","PolarisPostAboveFooterSection.react","PolarisPostBoostButton.react","PolarisPostFooterFragment_media.graphql","PolarisPostViewInsights.react","react","react-compiler-runtime","usePolarisInsightsInfo","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i,l,s=o("react-compiler-runtime").c(33),c=t.analyticsContext,d=t.immersiveViewer,m=t.queryReference,p=d===void 0?!1:d,_=r("usePolarisViewer")(),f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostFooterFragment_media.graphql"),m),g=r("usePolarisInsightsInfo")(f,_,f.boosted_status),h=g.bloksAppId,y=g.hasViewInsights,C=o("PolarisBoostUtils").useIsEligibleForBoost(f.boosted_status!=null&&(_==null?void 0:_.id)!=null);if(!y&&!C)return null;var b;s[0]!==f.boost_unavailable_identifier||s[1]!==f.boosted_status?(b=o("PolarisBoostMultiBoostUtils.react").isEligibleForMultiBoostWebWithinBoostFlow(f.boosted_status,f.boost_unavailable_identifier),s[0]=f.boost_unavailable_identifier,s[1]=f.boosted_status,s[2]=b):b=s[2];var v=b,S=(a=(i=f.user)==null?void 0:i.id)!=null?a:"",R=(l=f.boosted_status)!=null?l:"",L=y?"between":"end",E=p?0:4,k;s[3]!==h||s[4]!==f.pk||s[5]!==y?(k=y&&u.jsx(r("PolarisPostViewInsights.react"),{bloksAppId:h,mediaId:f.pk}),s[3]=h,s[4]=f.pk,s[5]=y,s[6]=k):k=s[6];var I;s[7]!==c||s[8]!==R||s[9]!==f.boost_unavailable_identifier||s[10]!==f.boost_unavailable_reason||s[11]!==f.pk||s[12]!==f.product_type||s[13]!==S||s[14]!==C||s[15]!==(_==null?void 0:_.id)?(I=C&&(_==null?void 0:_.id)!=null&&f.product_type!=null&&f.product_type!=="ad"&&u.jsx(r("PolarisPostBoostButton.react"),{analyticsContext:c,boostedStatus:R,boostUnavailableIdentifier:f.boost_unavailable_identifier,boostUnavailableReason:f.boost_unavailable_reason,mediaId:f.pk,mediaOwnerIGID:S,productType:f.product_type}),s[7]=c,s[8]=R,s[9]=f.boost_unavailable_identifier,s[10]=f.boost_unavailable_reason,s[11]=f.pk,s[12]=f.product_type,s[13]=S,s[14]=C,s[15]=_==null?void 0:_.id,s[16]=I):I=s[16];var T;s[17]!==L||s[18]!==E||s[19]!==k||s[20]!==I?(T=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:L,paddingX:E,paddingY:3,position:"relative",width:"100%",children:[k,I]}),s[17]=L,s[18]=E,s[19]=k,s[20]=I,s[21]=T):T=s[21];var D=T,x;s[22]!==v||s[23]!==p?(x={0:{className:"xvbhtw8 x78zum5 xh8yej3 x1xp8e9x x13fuv20 x178xt8z x11bm2kl x15k2jg5 x1dg0hrn"},2:{className:"xvbhtw8 xh8yej3 x1xp8e9x x13fuv20 x178xt8z x11bm2kl x15k2jg5 x1dg0hrn"},1:{className:"xvbhtw8 x78zum5 xh8yej3 xh05dso x1q0q8m5 xso031l"},3:{className:"xvbhtw8 xh8yej3 xh05dso x1q0q8m5 xso031l"}}[!!v<<1|!!p<<0],s[22]=v,s[23]=p,s[24]=x):x=s[24];var $;s[25]!==c||s[26]!==R||s[27]!==v||s[28]!==D?($=v?u.jsxs(r("IGDSBox.react"),{children:[u.jsx(r("PolarisPostAboveFooterSection.react"),{analyticsContext:c,boostedStatus:R}),u.jsx(r("IGDSBox.react"),{marginStart:4,width:"90%",children:u.jsx(r("IGDSDivider.react"),{})}),D]}):D,s[25]=c,s[26]=R,s[27]=v,s[28]=D,s[29]=$):$=s[29];var P;return s[30]!==x||s[31]!==$?(P=u.jsx("section",babelHelpers.extends({},x,{children:$})),s[30]=x,s[31]=$,s[32]=P):P=s[32],P}l.default=c}),98);
__d("PolarisPostFeedbackControls_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFeedbackControls_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"direct_share",storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_ad"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSaveButton_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostFeedbackControls_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFeedbackControls_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"enable_media_notes_production",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_repost_count",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,concreteType:"XDTLazyFloatingContextItem",kind:"LinkedField",name:"floating_context_items",plural:!0,selections:[{alias:null,args:null,concreteType:"XDTMediaNoteResponse",kind:"LinkedField",name:"media_note",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePolarisLikeMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisMediaSaveButton_media"},{args:null,kind:"FragmentSpread",name:"PolarisShareMediaButton_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisShareMediaButtonFragment_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisShareMediaButtonFragment_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],type:"XDTAdMediaItem",abstractKey:null};a.exports=e}),null);
__d("PolarisShareMediaButton_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisShareMediaButton_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_reshare",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logging_info_token",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inventory_source",storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,concreteType:"XDTSharingFrictionInfo",kind:"LinkedField",name:"sharing_friction_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"should_have_sharing_friction",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bloks_app_url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_private",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisShareSheetV3EntrypointConstants.entrypoint",[],(function(t,n,r,o,a,i){"use strict";var e=20,l={input:{count_per_page:e,is_private_share:!1,views:["RESHARE_SHARE_SHEET"]}};i.DEFAULT_NULL_STATE_INPUT=l}),66);
__d("PolarisShareSheetV3NullStateQuery$Parameters",["PolarisShareSheetV3NullStateQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisShareSheetV3NullStateQuery_instagramRelayOperation"),metadata:{},name:"PolarisShareSheetV3NullStateQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisShareSheetV3ContactSearch.entrypoint",["JSResourceForInteraction","PolarisShareSheetV3EntrypointConstants.entrypoint","PolarisShareSheetV3NullStateQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{nullStateQueryRef:{parameters:r("PolarisShareSheetV3NullStateQuery$Parameters"),variables:o("PolarisShareSheetV3EntrypointConstants.entrypoint").DEFAULT_NULL_STATE_INPUT}}}},root:r("JSResourceForInteraction")("PolarisShareSheetV3ContactSearchRoot.react").__setRef("PolarisShareSheetV3ContactSearch.entrypoint")};l.default=e}),98);
__d("PolarisShareSheetV3PostShareBarQuery$Parameters",["PolarisShareSheetV3PostShareBarQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("PolarisShareSheetV3PostShareBarQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["fetch__XDTMediaDict"]},name:"PolarisShareSheetV3PostShareBarQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("PolarisShareSheetV3PostShareBar.entrypoint",["JSResourceForInteraction","PolarisShareSheetV3PostShareBarQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.adInfo,n=t.mediaId;return{extraProps:{adInfo:e},queries:{postShareBarMediaQueryRef:{parameters:r("PolarisShareSheetV3PostShareBarQuery$Parameters"),variables:{media_id:n}}}}},root:r("JSResourceForInteraction")("PolarisShareSheetV3PostShareBarRoot.react").__setRef("PolarisShareSheetV3PostShareBar.entrypoint")};l.default=e}),98);
__d("PolarisShareSheetV3.entrypoint",["JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","PolarisShareSheetV3ContactSearch.entrypoint","PolarisShareSheetV3PostShareBar.entrypoint"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.routeProps;return{entryPoints:{contactSearchEntryPoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("PolarisShareSheetV3ContactSearch.entrypoint"),entryPointParams:{}}),postShareBarEntryPoint:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("PolarisShareSheetV3PostShareBar.entrypoint"),entryPointParams:{adInfo:e.adInfo,mediaId:e.mediaId}})}}},root:r("JSResourceForInteraction")("PolarisShareSheetV3Root.react").__setRef("PolarisShareSheetV3.entrypoint")};l.default=e}),98);
__d("PolarisShareMediaButton.react",["fbt","CometPlaceholder.react","CometPressable.react","CometRelay","DirectReshareButtonTapFalcoEvent","IGDContactSearchDialogType.flow","IGDSMessagesOutlineIcon.react","IGNavChain","PolarisContainerModuleUtils","PolarisIsLoggedIn","PolarisPostModalContext.react","PolarisShareMediaButtonFragment_ad.graphql","PolarisShareMediaButton_media.graphql","PolarisShareSheetV3.entrypoint","QPLUserFlow","deferredLoadComponent","emptyFunction","getPolarisPostType.next.react","gkx","polarisLogAction","qpl","react","react-compiler-runtime","requireDeferredForDisplay","useIGDSEntryPointDialog","useIGDSecureShareSheetInteractionLogger","usePolarisAnalyticsContext","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useMemo,f=m.useState,g=r("deferredLoadComponent")(r("requireDeferredForDisplay")("IGWebBloksApp").__setRef("PolarisShareMediaButton.react")),h={primaryIconButtonRefresh:{transition:"x1epzrsm",":active_transform":"xpzwpp9",":hover_transform":"xus2keu",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(4),n=e.color,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"\uacf5\uc720\ud558\uae30"),t[0]=a):a=t[0];var i=n==="ig-stroke-on-media",l;return t[1]!==n||t[2]!==i?(l=d.jsx(r("IGDSMessagesOutlineIcon.react"),{alt:a,color:n,shadow:i,size:24}),t[1]=n,t[2]=i,t[3]=l):l=t[3],l}function C(t){var a,l=o("react-compiler-runtime").c(59),s=t.adFragmentKey,c=t.color,m=t.media,p=t.xstyle,_=c===void 0?"ig-primary-icon":c,C=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisShareMediaButton_media.graphql"),m),b=o("CometRelay").useFragment(u!==void 0?u:u=n("PolarisShareMediaButtonFragment_ad.graphql"),s),v=r("usePolarisAnalyticsContext")(),S=o("useIGDSecureShareSheetInteractionLogger").useLogShareSheetInteraction(),R=o("PolarisPostModalContext.react").useSetPostModal(),L=f(!1),E=L[0],k=L[1],I=C.sharing_friction_info,T=I==null?void 0:I.bloks_app_url,D=T!=null&&(I==null?void 0:I.should_have_sharing_friction)===!0,x;l[0]!==v||l[1]!==S?(x=function(t){S("igd_sharesheet_open",{flowInstanceId:t,shareType:o("IGDContactSearchDialogType.flow").IGDContactSearchDialogType.SHARESHEET,source:v})},l[0]=v,l[1]=S,l[2]=x):x=l[2];var $=x,P;l[3]!==v||l[4]!==C.id||l[5]!==C.inventory_source||l[6]!==C.logging_info_token||l[7]!==C.media_type||l[8]!==$||l[9]!==R||l[10]!==D?(P=function(t){var e;if(r("polarisLogAction")("shareClick",{source:v,type:o("getPolarisPostType.next.react").getPolarisPostType((e=C.media_type)!=null?e:0)}),r("QPLUserFlow").start(r("qpl")._(379205139,"1723"),{annotations:{bool:{is_graphql:!0},string:{source:v}}}),D)k(!0);else if(!o("PolarisIsLoggedIn").isLoggedIn())R("share");else{var n=r("uuidv4")();$(n),t(n),r("DirectReshareButtonTapFalcoEvent").log(function(){var e;return{inventory_source:C.inventory_source,m_pk:C.id,nav_chain:(e=r("IGNavChain").getInstance())==null?void 0:e.getNavChainForSend(),pigeon_reserved_keyword_module:o("PolarisContainerModuleUtils").getContainerModule(v),ranking_info_token:C.logging_info_token,share_sheet_session_id:n}})}},l[3]=v,l[4]=C.id,l[5]=C.inventory_source,l[6]=C.logging_info_token,l[7]=C.media_type,l[8]=$,l[9]=R,l[10]=D,l[11]=P):P=l[11];var N=P,M;l[12]!==v||l[13]!==C.pk?(M={media_id:C.pk,module:v},l[12]=v,l[13]=C.pk,l[14]=M):M=l[14];var w=M,A=b==null?void 0:b.ad_id,F=b==null?void 0:b.tracking_token,O;l[15]!==A||l[16]!==F?(O={ad_id:A,tracking_token:F},l[15]=A,l[16]=F,l[17]=O):O=l[17];var B;l[18]!==C.pk||l[19]!==O?(B={routeProps:{adInfo:O,mediaId:C.pk}},l[18]=C.pk,l[19]=O,l[20]=B):B=l[20];var W=r("useIGDSEntryPointDialog")(r("PolarisShareSheetV3.entrypoint"),B),q=W[0],U=W[4],V;l[21]!==U?(V=function(){return U(!0)},l[21]=U,l[22]=V):V=l[22];var H=V,G;l[23]!==q?(G=function(t){q({flowInstanceId:t})},l[23]=q,l[24]=G):G=l[24];var z=G,j;l[25]!==$||l[26]!==z?(j=function(t){k(!1);var e=r("uuidv4")();$(e),z(e)},l[25]=$,l[26]=z,l[27]=j):j=l[27];var K=j,Q;l[28]===Symbol.for("react.memo_cache_sentinel")?(Q=function(t){k(!1)},l[28]=Q):Q=l[28];var X=Q,Y;l[29]!==K?(Y={"ig.action.navigation.OpenShareSheet":K,"ig.action.navigation.ResumeStoryPlayback":X},l[29]=K,l[30]=Y):Y=l[30];var J=Y,Z=(C==null||(a=C.user)==null?void 0:a.is_private)!==!0&&C.can_viewer_reshare===!0;if(Z===!1)return null;var ee=_==="ig-primary-icon"&&h.primaryIconButtonRefresh,te;l[31]!==ee||l[32]!==p?(te=[ee,p],l[31]=ee,l[32]=p,l[33]=te):te=l[33];var ne=te,re;l[34]!==J||l[35]!==T||l[36]!==w||l[37]!==C.pk||l[38]!==D||l[39]!==E?(re=D&&E&&T!=null&&d.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:d.jsx(g,{actionOverrides:J,appId:T,params:w},C.pk)}),l[34]=J,l[35]=T,l[36]=w,l[37]=C.pk,l[38]=D,l[39]=E,l[40]=re):re=l[40];var oe=re,ae;l[41]!==T||l[42]!==N||l[43]!==z?(ae=function(){N(z),T!=null},l[41]=T,l[42]=N,l[43]=z,l[44]=ae):ae=l[44];var ie=ae,le=r("gkx")("5268"),se;l[45]!==ie||l[46]!==N||l[47]!==z?(se=le?ie:function(){return N(z)},l[45]=ie,l[46]=N,l[47]=z,l[48]=se):se=l[48];var ue=se,ce=r("gkx")("6408")?H:r("emptyFunction"),de;l[49]!==_?(de=d.jsx(y,{color:_}),l[49]=_,l[50]=de):de=l[50];var me;l[51]!==ue||l[52]!==ne||l[53]!==ce||l[54]!==de?(me=d.jsx(r("CometPressable.react"),{hideFocusOverlay:!0,hideHoverOverlay:!0,onHoverIn:ce,onPress:ue,overlayPressedStyle:null,xstyle:ne,children:de}),l[51]=ue,l[52]=ne,l[53]=ce,l[54]=de,l[55]=me):me=l[55];var pe=le?null:oe,_e;return l[56]!==me||l[57]!==pe?(_e=d.jsxs(d.Fragment,{children:[me,pe]}),l[56]=me,l[57]=pe,l[58]=_e):_e=l[58],_e}l.default=C}),226);
__d("PolarisPostFeedbackControls.react",["CometRelay","CometVisualCompletionAttributes","PolarisCommentButton.react","PolarisInlineLikeAndCommentGating","PolarisIsLoggedIn","PolarisLikeButton.react","PolarisLikedByListActions","PolarisLikedByListContainerLazy.react","PolarisLikedByListVariant","PolarisMediaConstants","PolarisMediaSaveButton.react","PolarisPostContext.react","PolarisPostFeedbackControls_ad.graphql","PolarisPostFeedbackControls_media.graphql","PolarisPostIdContext.react","PolarisReactRedux.react","PolarisRepostButton.react","PolarisShareMediaButton.react","intlSummarizeNumber","maybeGetViewerRepostId","polarisLogAction","qex","react","react-compiler-runtime","stylex","usePolarisLikeMedia","usePolarisNavigateToLogin","usePolarisPostShowSavedToastHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useState,g={repostButton:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},root:{alignItems:"x6s0dn4",display:"xrvj5dj",gridTemplateColumns:"x1o61qjw",$$css:!0},supershareButton:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function h(t){var a,i,l,c,m,p=o("react-compiler-runtime").c(78),h=t.adFragmentKey,v=t.likeButtonStaticStyles,S=t.mediaFragmentKey,R=t.onCommentButtonClick,L=t.onCommentButtonMouseEnter,E=t.xstyle,k=_(o("PolarisPostContext.react").PolarisPostContext),I=k.analyticsContext,T=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostFeedbackControls_media.graphql"),S),D=T.floating_context_items,x;p[0]!==D?(x=r("maybeGetViewerRepostId")(D==null?void 0:D.map(b).filter(Boolean).map(C)),p[0]=D,p[1]=x):x=p[1];var $=x,P=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisPostFeedbackControls_ad.graphql"),h),N=_(o("PolarisPostIdContext.react").PolarisPostIdContext),M=(a=N.mediaIdUFI)!=null?a:T.pk,w=f(!1),A=w[0],F=w[1],O=o("PolarisReactRedux.react").useDispatch(),B;p[2]!==P||p[3]!==I||p[4]!==T?(B={adFragmentKey:P,analyticsContext:I,mediaFragmentKey:T,sourceOfLike:"button"},p[2]=P,p[3]=I,p[4]=T,p[5]=B):B=p[5];var W=r("usePolarisLikeMedia")(B),q=r("usePolarisPostShowSavedToastHandler")(),U;p[6]!==T.enable_media_notes_production?(U=T.enable_media_notes_production===!0&&r("qex")._("3830")===!0,p[6]=T.enable_media_notes_production,p[7]=U):U=p[7];var V=U,H=(T==null||(i=T.user)==null?void 0:i.is_private)!==!0&&(T.can_reshare===!0||T.can_viewer_reshare===!0||(P==null?void 0:P.direct_share)===!0),G=r("usePolarisNavigateToLogin")((l=T==null?void 0:T.code)!=null?l:"",T==null||(c=T.user)==null?void 0:c.username),z=G[0],j=G[1],K;p[8]!==I||p[9]!==T.media_type||p[10]!==z||p[11]!==R?(K=function(t){r("polarisLogAction")("commentButtonClicked",{isLoggedIn:o("PolarisIsLoggedIn").isLoggedIn(),source:I,type:T.media_type===o("PolarisMediaConstants").MediaTypes.VIDEO?"video":"photo"}),o("PolarisIsLoggedIn").isLoggedIn()?R==null||R(t):z("comment")},p[8]=I,p[9]=T.media_type,p[10]=z,p[11]=R,p[12]=K):K=p[12];var Q=K,X;p[13]!==L||p[14]!==j?(X=function(){L==null||L(),o("PolarisIsLoggedIn").isLoggedIn()||j()},p[13]=L,p[14]=j,p[15]=X):X=p[15];var Y=X,J;p[16]!==O||p[17]!==M||p[18]!==z?(J=function(t){t.preventDefault(),r("polarisLogAction")("likeCountClick"),o("PolarisIsLoggedIn").isLoggedIn()?(O(o("PolarisLikedByListActions").requestNativeLikedByList(M)),F(!0)):z("like")},p[16]=O,p[17]=M,p[18]=z,p[19]=J):J=p[19];var Z=J,ee;p[20]===Symbol.for("react.memo_cache_sentinel")?(ee=function(){F(!1)},p[20]=ee):ee=p[20];var te=ee,ne=y,re;p[21]!==E?(re=(u||(u=r("stylex"))).props(g.root,E),p[21]=E,p[22]=re):re=p[22];var oe;p[23]===Symbol.for("react.memo_cache_sentinel")?(oe={className:"x6s0dn4 x78zum5"},p[23]=oe):oe=p[23];var ae;p[24]!==v?(ae=(u||(u=r("stylex")))(v),p[24]=v,p[25]=ae):ae=p[25];var ie=(m=T.has_liked)!=null?m:!1,le;p[26]!==W||p[27]!==M||p[28]!==z?(le=function(t){o("PolarisIsLoggedIn").isLoggedIn()?W(M,t):z("like")},p[26]=W,p[27]=M,p[28]=z,p[29]=le):le=p[29];var se;p[30]!==Y||p[31]!==ae||p[32]!==ie||p[33]!==le?(se=d.jsx(r("PolarisLikeButton.react"),{className:ae,"data-testid":void 0,isLiked:ie,onChange:le,onMouseEnter:Y}),p[30]=Y,p[31]=ae,p[32]=ie,p[33]=le,p[34]=se):se=p[34];var ue;p[35]!==Z||p[36]!==T.like_count?(ue=o("PolarisInlineLikeAndCommentGating").shouldShowInlineLikeCounts()&&ne(T.like_count)!=null&&d.jsx("span",{className:"x1ypdohk x1s688f x2fvf9 xe9ewy2",onClick:Z,role:"button",tabIndex:0,children:ne(T.like_count)}),p[35]=Z,p[36]=T.like_count,p[37]=ue):ue=p[37];var ce;p[38]!==Q||p[39]!==Y||p[40]!==T.comments_disabled?(ce=T.comments_disabled!==!0&&d.jsx(r("PolarisCommentButton.react"),{"data-testid":void 0,onClick:Q,onHoverStart:Y}),p[38]=Q,p[39]=Y,p[40]=T.comments_disabled,p[41]=ce):ce=p[41];var de;p[42]!==Q||p[43]!==T.comment_count?(de=o("PolarisInlineLikeAndCommentGating").shouldShowInlineCommentCounts()&&ne(T.comment_count)!=null&&d.jsx("span",{className:"x1ypdohk x1s688f x2fvf9 xe9ewy2",onClick:Q,role:"button",tabIndex:0,children:ne(T.comment_count)}),p[42]=Q,p[43]=T.comment_count,p[44]=de):de=p[44];var me;p[45]!==Z||p[46]!==T.media_repost_count||p[47]!==T.pk||p[48]!==V||p[49]!==$?(me=V&&d.jsxs(d.Fragment,{children:[d.jsx(r("PolarisRepostButton.react"),{mediaId:T.pk,viewerRepostId:$,xstyle:g.repostButton}),ne(T.media_repost_count)!=null&&d.jsx("span",{className:"x1ypdohk x1s688f x2fvf9 xe9ewy2",onClick:Z,role:"button",tabIndex:0,children:ne(T.media_repost_count)})]}),p[45]=Z,p[46]=T.media_repost_count,p[47]=T.pk,p[48]=V,p[49]=$,p[50]=me):me=p[50];var pe;p[51]!==T||p[52]!==H?(pe=H&&d.jsx(r("PolarisShareMediaButton.react"),{media:T,xstyle:g.supershareButton}),p[51]=T,p[52]=H,p[53]=pe):pe=p[53];var _e;p[54]!==se||p[55]!==ue||p[56]!==ce||p[57]!==de||p[58]!==me||p[59]!==pe?(_e=d.jsxs("div",babelHelpers.extends({},oe,{children:[se,ue,ce,de,me,pe]})),p[54]=se,p[55]=ue,p[56]=ce,p[57]=de,p[58]=me,p[59]=pe,p[60]=_e):_e=p[60];var fe;p[61]===Symbol.for("react.memo_cache_sentinel")?(fe={className:"x14z9mp xvc5jky"},p[61]=fe):fe=p[61];var ge;p[62]!==P||p[63]!==q||p[64]!==T?(ge=d.jsx("div",babelHelpers.extends({},fe,r("CometVisualCompletionAttributes").IGNORE_DYNAMIC,{children:d.jsx(r("PolarisMediaSaveButton.react"),{adFragmentKey:P,mediaFragmentKey:T,onShowToast:q})})),p[62]=P,p[63]=q,p[64]=T,p[65]=ge):ge=p[65];var he;p[66]!==_e||p[67]!==ge||p[68]!==re?(he=d.jsxs("section",babelHelpers.extends({},re,{children:[_e,ge]})),p[66]=_e,p[67]=ge,p[68]=re,p[69]=he):he=p[69];var ye;if(p[70]!==T.code||p[71]!==T.like_count||p[72]!==T.pk||p[73]!==A){var Ce;ye=A&&d.jsx(r("PolarisLikedByListContainerLazy.react"),{display:r("PolarisLikedByListVariant").Modal,likeCount:T.like_count||0,mediaId:T.pk,onClose:te,shortcode:(Ce=T.code)!=null?Ce:""}),p[70]=T.code,p[71]=T.like_count,p[72]=T.pk,p[73]=A,p[74]=ye}else ye=p[74];var be;return p[75]!==he||p[76]!==ye?(be=d.jsxs(d.Fragment,{children:[he,ye]}),p[75]=he,p[76]=ye,p[77]=be):be=p[77],be}function y(e){return e==null||e===0?null:r("intlSummarizeNumber")(e,null,"SHORT","ROUND")}function C(e){return{id:e.id,user_id:e.user_id}}function b(e){return e.media_note}l.default=h}),98);
__d("PolarisPostLikers_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostLikers_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"top_likers",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"facepile_top_likers",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hidden_likes_string_variant",storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostLikers.next.react",["CometRelay","IGDSBox.react","IGDSText.react","PolarisFacepile.next.react","PolarisIsLoggedIn","PolarisLikedByListActions","PolarisLikedByListButton.react","PolarisLikedByText.react","PolarisLikerStringEnum","PolarisLinkBuilder","PolarisPostIdContext.react","PolarisPostLikers_media.graphql","PolarisPostModalRenderingContext.react","PolarisReactRedux.react","PolarisUA","polarisLogAction","react","react-compiler-runtime","usePolarisLoggedOutBlockingEntryPointDialog","usePolarisLoggedOutIntentAction","usePolarisLoggedOutIntentEntryPointDialog","usePolarisLoggedOutPostIntentTapBehavior","usePolarisLoggedOutShowIncreasedFeatureWalls"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext;function p(t){var a,i,l=o("react-compiler-runtime").c(48),s=t.facepileSize,c=t.hideCounts,d=t.onLike,p=t.onLikeCountClick,g=t.queryReference,h=t.viewerId,y=s===void 0?"extraSmall":s,C=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostLikers_media.graphql"),g),b=m(o("PolarisPostIdContext.react").PolarisPostIdContext),v=f,S=o("PolarisPostModalRenderingContext.react").usePolarisPostModalRenderingContext(),R=S.isInModal,L=o("PolarisReactRedux.react").useDispatch(),E;l[0]!==C.hidden_likes_string_variant?(E=o("PolarisLikerStringEnum").getLikerStringEnum(C.hidden_likes_string_variant),l[0]=C.hidden_likes_string_variant,l[1]=E):E=l[1];var k=E,I=(a=C.code)!=null?a:"",T=r("usePolarisLoggedOutBlockingEntryPointDialog")(),D=T[0],x=T[1],$=r("usePolarisLoggedOutIntentEntryPointDialog")(),P=$[0],N=$[1],M=r("usePolarisLoggedOutIntentAction")(),w=o("usePolarisLoggedOutPostIntentTapBehavior").usePolarisLoggedOutPostIntentTapBehavior(),A=r("usePolarisLoggedOutShowIncreasedFeatureWalls")(),F;l[2]!==x||l[3]!==N||l[4]!==A?(F=function(t){t&&!A()?x==null||x(!0):N==null||N(!0)},l[2]=x,l[3]=N,l[4]=A,l[5]=F):F=l[5];var O=F,B;l[6]!==I||l[7]!==L||l[8]!==b.mediaIdUFI||l[9]!==C.pk||l[10]!==D||l[11]!==M||l[12]!==P||l[13]!==w||l[14]!==A?(B=function(t){var e;if(!o("PolarisIsLoggedIn").isLoggedIn()){var n=o("PolarisLinkBuilder").buildMediaLink(I),r=w();if(r!=null)return M({source:"post_likers"});var a={contentReportingLink:n,nextUrl:n,source:"post_likers"};return t&&!A()?D==null?void 0:D(a):P==null?void 0:P(a)}return L(o("PolarisLikedByListActions").requestNativeLikedByList((e=b.mediaIdUFI)!=null?e:C.pk))},l[6]=I,l[7]=L,l[8]=b.mediaIdUFI,l[9]=C.pk,l[10]=D,l[11]=M,l[12]=P,l[13]=w,l[14]=A,l[15]=B):B=l[15];var W=B,q;l[16]!==W||l[17]!==p||l[18]!==h?(q=function(t){v(),(o("PolarisUA").isDesktop()||!o("PolarisIsLoggedIn").isLoggedIn())&&(t.preventDefault(),W(!o("PolarisUA").isDesktop()),h!=null&&p(t))},l[16]=W,l[17]=p,l[18]=h,l[19]=q):q=l[19];var U=q,V;l[20]!==O?(V=function(){if(!o("PolarisIsLoggedIn").isLoggedIn())return O(!o("PolarisUA").isDesktop())},l[20]=O,l[21]=V):V=l[21];var H=V,G;if(l[22]!==C.facepile_top_likers){var z;G=((z=C.facepile_top_likers)!=null?z:[]).map(_).filter(Boolean),l[22]=C.facepile_top_likers,l[23]=G}else G=l[23];var j=G,K=h!=null&&j.length>0,Q;l[24]!==I||l[25]!==y||l[26]!==R||l[27]!==U||l[28]!==H||l[29]!==K||l[30]!==j?(Q=K&&u.jsx(r("IGDSBox.react"),{alignItems:"start",direction:"column",justifyContent:"start",marginEnd:1,position:"relative",children:u.jsx(r("PolarisLikedByListButton.react"),{code:I,inModal:R,onClick:U,onMouseEnter:H,children:u.jsx(r("PolarisFacepile.next.react"),{avatarSize:y,userProfilePicUrls:j})})}),l[24]=I,l[25]=y,l[26]=R,l[27]=U,l[28]=H,l[29]=K,l[30]=j,l[31]=Q):Q=l[31];var X;if(l[32]!==C.top_likers){var Y;X=[].concat((Y=C.top_likers)!=null?Y:[]),l[32]=C.top_likers,l[33]=X}else X=l[33];var J=(i=C.like_count)!=null?i:0,Z;l[34]===Symbol.for("react.memo_cache_sentinel")?(Z=[],l[34]=Z):Z=l[34];var ee;l[35]!==I||l[36]!==c||l[37]!==R||l[38]!==k||l[39]!==U||l[40]!==d||l[41]!==H||l[42]!==J||l[43]!==X?(ee=u.jsx(r("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",margin:"auto",position:"relative",wrap:!0,children:u.jsx(r("IGDSText.react"),{testid:void 0,zeroMargin:!0,children:u.jsx(r("PolarisLikedByText.react"),{code:I,hideCounts:c,inModal:R,onClick:U,onLike:d,onMouseEnter:H,relayLikerStringEnum:k,topLikers:X,totalCount:J,users:Z})})}),l[35]=I,l[36]=c,l[37]=R,l[38]=k,l[39]=U,l[40]=d,l[41]=H,l[42]=J,l[43]=X,l[44]=ee):ee=l[44];var te;return l[45]!==ee||l[46]!==Q?(te=u.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",position:"relative",children:[Q,ee]}),l[45]=ee,l[46]=Q,l[47]=te):te=l[47],te}function _(e){var t=e.profile_pic_url;return t}function f(){r("polarisLogAction")("likeCountClick")}l.default=p}),98);
__d("PolarisPostLikersOrSocialContext_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostLikersOrSocialContext_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisSponsoredSocialContext_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostLikersOrSocialContext_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostLikersOrSocialContext_media",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostLikers_media"},{args:null,kind:"FragmentSpread",name:"usePolarisPostLikedByDialog_media"},{args:null,kind:"FragmentSpread",name:"PolarisSponsoredSocialContext_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostSocialContextTextNext_user.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostSocialContextTextNext_user",selections:[{kind:"RequiredField",field:{alias:"userID",args:null,kind:"ScalarField",name:"pk_id",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},action:"THROW"}],type:"XDTUserDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostSocialContextText.next.react",["fbt","CometRelay","IGDSBox.react","IGDSButton.react","IGDSTextVariants.react","PolarisBigNumber.react","PolarisPostSocialContextTextNext_user.graphql","PolarisUserLinkWithHoverCard.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={socialContextText:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0}};function m(t){var a=o("react-compiler-runtime").c(12),i=t.followersCount,l=t.onClick,u=t.user$key,m=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostSocialContextTextNext_user.graphql"),u),p;if(a[0]!==m.userID||a[1]!==m.username||a[2]!==i){var _,f;a[4]!==m.userID||a[5]!==m.username?(f=c.jsx(r("PolarisUserLinkWithHoverCard.react"),{userId:m.userID,username:m.username}),a[4]=m.userID,a[5]=m.username,a[6]=f):f=a[6];var g=i-1,h;a[7]!==g?(h=c.jsx(r("PolarisBigNumber.react"),{shortenNumber:!0,value:g}),a[7]=g,a[8]=h):h=a[8],p=(_=s._plural(i-1),s._(/*BTDS*/"_j{\"*\":\"{=m0}\"}",[_,s._implicitParam("=m0",c.jsx(o("IGDSTextVariants.react").IGDSTextBody,{children:s._(/*BTDS*/"_j{\"*\":\"{username}\\ub2d8 {=m3}\\uc774 \\ud314\\ub85c\\uc6b0\\ud569\\ub2c8\\ub2e4\"}",[_,s._param("username",f),s._implicitParam("=m3",c.jsx(o("IGDSTextVariants.react").IGDSTextBodyEmphasized,{children:s._(/*BTDS*/"_j{\"*\":\"\\uc678 {number of other followers account owner has}\\uba85\"}",[_,s._param("number of other followers account owner has",h)])}))])}))])),a[0]=m.userID,a[1]=m.username,a[2]=i,a[3]=p}else p=a[3];var y=p,C;return a[9]!==l||a[10]!==y?(C=c.jsx(r("IGDSBox.react"),{alignItems:"start",direction:"column",flex:"grow",marginStart:1,children:c.jsx(r("IGDSButton.react"),{display:"inline",fullWidth:!0,label:y,onClick:l,variant:"secondary_link",xstyle:d.socialContextText})}),a[9]=l,a[10]=y,a[11]=C):C=a[11],C}l.default=m}),226);
__d("PolarisSponsoredSocialContext_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredSocialContext_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisSponsoredSocialContext_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisSponsoredSocialContext_media",selections:[e,{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{kind:"RequiredField",field:e,action:"THROW"}],storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"social_context_type",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"social_context_users_count",storageKey:null},action:"THROW"},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"social_context_facepile_users",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisPostSocialContextTextNext_user"}],storageKey:null},action:"THROW"}],storageKey:null},action:"THROW"}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("XPolarisMobileFollowerListControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/p/{shortcode}/followers/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("PolarisSponsoredSocialContext.next.react",["CometRelay","IGDSBox.react","InstagramWebAdEventsAuditFalcoEvent","PolarisFacepile.next.react","PolarisNavigationUtils","PolarisPostSocialContextText.next.react","PolarisSponsoredSocialContext_ad.graphql","PolarisSponsoredSocialContext_media.graphql","XPolarisMobileFollowerListControllerRouteBuilder","filterNulls","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(19),i=t.ad$key,l=t.facepileSize,u=t.media$key,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisSponsoredSocialContext_media.graphql"),u),_=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisSponsoredSocialContext_ad.graphql"),i),f;a[0]!==(d==null?void 0:d.social_context)?(f=d==null?void 0:d.social_context.find(p),a[0]=d==null?void 0:d.social_context,a[1]=f):f=a[1];var g=f;if(g==null){var h;return a[2]===Symbol.for("react.memo_cache_sentinel")?(h=c.jsx(c.Fragment,{}),a[2]=h):h=a[2],h}var y;a[3]!==g.social_context_facepile_users?(y=r("filterNulls")(g.social_context_facepile_users.map(m)),a[3]=g.social_context_facepile_users,a[4]=y):y=a[4];var C=y,b=g.social_context_facepile_users[0],v;a[5]!==(_==null?void 0:_.tracking_token)||a[6]!==(d==null?void 0:d.user.pk)?(v=function(){r("InstagramWebAdEventsAuditFalcoEvent").log(function(){return{client_token:_==null?void 0:_.tracking_token,event:"social_context_text_click"}}),o("PolarisNavigationUtils").openURL(r("XPolarisMobileFollowerListControllerRouteBuilder").buildURL({shortcode:r("nullthrows")(d==null?void 0:d.user.pk)}))},a[5]=_==null?void 0:_.tracking_token,a[6]=d==null?void 0:d.user.pk,a[7]=v):v=a[7];var S=v,R;a[8]!==l||a[9]!==S||a[10]!==C?(R=c.jsx(r("IGDSBox.react"),{children:c.jsx(r("PolarisFacepile.next.react"),{avatarSize:l,onClick:S,userProfilePicUrls:C})}),a[8]=l,a[9]=S,a[10]=C,a[11]=R):R=a[11];var L;a[12]!==g.social_context_users_count||a[13]!==S||a[14]!==b?(L=c.jsx(r("PolarisPostSocialContextText.next.react"),{followersCount:g.social_context_users_count,onClick:S,user$key:b}),a[12]=g.social_context_users_count,a[13]=S,a[14]=b,a[15]=L):L=a[15];var E;return a[16]!==R||a[17]!==L?(E=c.jsxs(r("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"start",marginBottom:1,children:[R,L]}),a[16]=R,a[17]=L,a[18]=E):E=a[18],E}function m(e){return e.profile_pic_url}function p(e){return e.social_context_type==="followed_by"?e:null}l.default=d}),98);
__d("usePolarisPostLikedByDialog_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisPostLikedByDialog_media",selections:[{kind:"RequiredField",field:e,action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fb_like_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_and_view_counts_disabled",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTCrosspostMetadataDict",kind:"LinkedField",name:"crosspost_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feedback_aggregated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_feed_feedback_aggregated",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTClipsMetadataDict",kind:"LinkedField",name:"clips_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_shared_to_fb",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null}})();a.exports=e}),null);
__d("usePolarisPostLikedByDialog",["CometRelay","PolarisLikedByListDialogPlaceholder.react","PolarisLikedByListDialogRoot.entrypoint","PolarisPostIdContext.react","PolarisShouldHideLikeCountsWithControls","react","react-compiler-runtime","useIGDSEntryPointDialog","usePolarisPostLikedByDialog_media.graphql","usePolarisViewer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext;function p(t){var a,i=o("react-compiler-runtime").c(23),l=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisPostLikedByDialog_media.graphql"),t),s=l.clips_metadata,u=l.crosspost_metadata,c=l.fb_like_count,d=l.like_and_view_counts_disabled,p=l.like_count,f=l.pk,g=l.product_type,h=l.user,y=l.view_count,C=m(o("PolarisPostIdContext.react").PolarisPostIdContext),b=(a=C.postId)!=null?a:f,v=r("usePolarisViewer")(),S=(v==null?void 0:v.id)===(h==null?void 0:h.pk),R;i[0]===Symbol.for("react.memo_cache_sentinel")?(R={},i[0]=R):R=i[0];var L;i[1]!==b?(L={routeParams:R,routeProps:{mediaID:b}},i[1]=b,i[2]=L):L=i[2];var E=r("useIGDSEntryPointDialog")(r("PolarisLikedByListDialogRoot.entrypoint"),L,"button",_),k=E[0],I;i[3]!==(s==null?void 0:s.is_shared_to_fb)||i[4]!==(u==null?void 0:u.is_feed_feedback_aggregated)||i[5]!==(u==null?void 0:u.is_feedback_aggregated)||i[6]!==c||i[7]!==d||i[8]!==p||i[9]!==f||i[10]!==g||i[11]!==k||i[12]!==(h==null?void 0:h.username)||i[13]!==y||i[14]!==S?(I=function(){k({fbLikeCount:c!=null?c:void 0,isFeedbackAggregated:(u==null?void 0:u.is_feedback_aggregated)===!0,isFeedFeedbackAggregated:(u==null?void 0:u.is_feed_feedback_aggregated)===!0,isOwnerTheViewer:S,isSharedToFb:(s==null?void 0:s.is_shared_to_fb)===!0,likeAndViewCountsDisabled:d,likeCount:p!=null?p:void 0,mediaId:f,ownerUsername:h==null?void 0:h.username,productType:g!=null?g:void 0,viewCount:y!=null?y:0})},i[3]=s==null?void 0:s.is_shared_to_fb,i[4]=u==null?void 0:u.is_feed_feedback_aggregated,i[5]=u==null?void 0:u.is_feedback_aggregated,i[6]=c,i[7]=d,i[8]=p,i[9]=f,i[10]=g,i[11]=k,i[12]=h==null?void 0:h.username,i[13]=y,i[14]=S,i[15]=I):I=i[15];var T=I,D=v==null?void 0:v.hideLikeAndViewCounts,x;i[16]!==d||i[17]!==D||i[18]!==S?(x=o("PolarisShouldHideLikeCountsWithControls").shouldHideLikeCountsWithControls(D,d,S),i[16]=d,i[17]=D,i[18]=S,i[19]=x):x=i[19];var $=x,P;return i[20]!==T||i[21]!==$?(P={onTriggerOpenModal:T,shouldHideCounts:$},i[20]=T,i[21]=$,i[22]=P):P=i[22],P}function _(e){return u.jsx(r("PolarisLikedByListDialogPlaceholder.react"),{onClose:e})}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),98);
__d("PolarisPostLikersOrSocialContext.next.react",["CometErrorBoundary.react","CometRelay","InstagramODS","PolarisPostLikers.next.react","PolarisPostLikersOrSocialContext_ad.graphql","PolarisPostLikersOrSocialContext_media.graphql","PolarisSponsoredSocialContext.next.react","emptyFunction","react","react-compiler-runtime","usePolarisPostLikedByDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var a=o("react-compiler-runtime").c(12),i=t.ad,l=t.facepileSize,u=t.media,d=t.shouldHideCounts,m=t.showSocialContext,f=t.viewerId,g=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostLikersOrSocialContext_media.graphql"),u),h=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisPostLikersOrSocialContext_ad.graphql"),i),y=r("usePolarisPostLikedByDialog")(g),C=y.onTriggerOpenModal,b;a[0]!==C?(b=function(){C()},a[0]=C,a[1]=b):b=a[1];var v=b,S;a[2]!==v?(S=function(t){v()},a[2]=v,a[3]=S):S=a[3];var R=S,L=_,E;return a[4]!==h||a[5]!==g||a[6]!==l||a[7]!==R||a[8]!==d||a[9]!==m||a[10]!==f?(E=m?c.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction").thatReturnsNull,onError:L,children:c.jsx(r("PolarisSponsoredSocialContext.next.react"),{ad$key:h,facepileSize:l,media$key:g})}):c.jsx(r("PolarisPostLikers.next.react"),{facepileSize:l,hideCounts:d,onLike:p,onLikeCountClick:R,queryReference:g,viewerId:f}),a[4]=h,a[5]=g,a[6]=l,a[7]=R,a[8]=d,a[9]=m,a[10]=f,a[11]=E):E=a[11],E}function p(){}function _(){r("InstagramODS").incr("web.ads.feed.social_context.error")}l.default=m}),98);
__d("PolarisPostSocialProof_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostSocialProof_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostLikersOrSocialContext_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostSocialProof_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostSocialProof_media",selections:[{alias:null,args:null,kind:"ScalarField",name:"view_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"like_count",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostLikersOrSocialContext_media"},{args:null,kind:"FragmentSpread",name:"usePolarisPostLikedByDialog_media"},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostSocialProof.next.react",["CometRelay","PolarisPostDetailsSectionProvider.react","PolarisPostLikersOrSocialContext.next.react","PolarisPostSocialProof_ad.graphql","PolarisPostSocialProof_media.graphql","PolarisPostViews.react","PolarisUA","polarisGetPostFromGraphMediaInterface","react","react-compiler-runtime","stylex","usePolarisPostLikedByDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m={root:{marginBottom:"x12nagc",$$css:!0}};function p(t){var a,i,l=o("react-compiler-runtime").c(23),c=t.adFragmentKey,p=t.facepileSize,_=t.isAd,f=t.queryReference,g=t.viewerId,h=t.xstyle,y=_===void 0?!1:_,C=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostSocialProof_media.graphql"),f),b=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisPostSocialProof_ad.graphql"),c),v=o("PolarisPostDetailsSectionProvider.react").usePolarisPostDetailsSectionProvider(),S=r("usePolarisPostLikedByDialog")(C),R=S.shouldHideCounts,L=(a=C.view_count)!=null?a:0,E=L>0,k;l[0]!==C.product_type||l[1]!==E||l[2]!==R?(k=E&&!R&&!o("polarisGetPostFromGraphMediaInterface").isClipsProductType(C.product_type),l[0]=C.product_type,l[1]=E,l[2]=R,l[3]=k):k=l[3];var I=k,T=(i=C.like_count)!=null?i:0,D;l[4]!==C.social_context||l[5]!==y?(D=y&&o("PolarisUA").isMobile()&&C.social_context!=null,l[4]=C.social_context,l[5]=y,l[6]=D):D=l[6];var x=D,$=T!==0,P=$||E||x;if(!P)return null;var N;l[7]!==h?(N=(u||(u=r("stylex"))).props(m.root,h),l[7]=h,l[8]=N):N=l[8];var M;l[9]!==b||l[10]!==v||l[11]!==C||l[12]!==p||l[13]!==T||l[14]!==R||l[15]!==x||l[16]!==I||l[17]!==L||l[18]!==g?(M=I&&!x?d.jsx(r("PolarisPostViews.react"),{analyticsContext:v,likeCount:T,viewCount:L}):d.jsx(r("PolarisPostLikersOrSocialContext.next.react"),{ad:b,facepileSize:p,media:C,shouldHideCounts:R,showSocialContext:x,viewerId:g}),l[9]=b,l[10]=v,l[11]=C,l[12]=p,l[13]=T,l[14]=R,l[15]=x,l[16]=I,l[17]=L,l[18]=g,l[19]=M):M=l[19];var w;return l[20]!==N||l[21]!==M?(w=d.jsx("section",babelHelpers.extends({},N,{children:M})),l[20]=N,l[21]=M,l[22]=w):w=l[22],w}l.default=p}),98);
__d("PolarisPostUFI_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostUFI_ad",selections:[{args:null,kind:"FragmentSpread",name:"PolarisPostFeedbackControls_ad"},{args:null,kind:"FragmentSpread",name:"PolarisPostSocialProof_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostUFI_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostUFI_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"code",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisPostSocialProof_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostFeedbackControls_media"},{alias:null,args:null,concreteType:"XDTSocialContextInfo",kind:"LinkedField",name:"social_context",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostUFI.next.react",["CometRelay","PolarisInlineLikeAndCommentGating","PolarisPostFeedbackControls.react","PolarisPostSocialProof.next.react","PolarisPostUFI_ad.graphql","PolarisPostUFI_media.graphql","PolarisUA","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var a=o("react-compiler-runtime").c(24),i=t.adQueryReference,l=t.facepileSize,u=t.feedbackControlsStaticStyles,d=t.likeButtonStaticStyles,m=t.mediaQueryReference,p=t.onCommentButtonClick,_=t.onCommentButtonMouseEnter,f=t.socialProofStaticStyles,g=t.viewer,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostUFI_media.graphql"),m),y=o("CometRelay").useFragment(s!==void 0?s:s=n("PolarisPostUFI_ad.graphql"),i),C=y!=null,b;a[0]!==C||a[1]!==h.social_context?(b=C&&o("PolarisUA").isMobile()&&h.social_context!=null,a[0]=C,a[1]=h.social_context,a[2]=b):b=a[2];var v=b,S;a[3]!==h.code||a[4]!==v?(S=h.code!=null&&(!o("PolarisInlineLikeAndCommentGating").shouldShowInlineLikeCounts()||v),a[3]=h.code,a[4]=v,a[5]=S):S=a[5];var R=S,L;a[6]!==y||a[7]!==u||a[8]!==d||a[9]!==h||a[10]!==p||a[11]!==_?(L=c.jsx(r("PolarisPostFeedbackControls.react"),{adFragmentKey:y,likeButtonStaticStyles:d,mediaFragmentKey:h,onCommentButtonClick:p,onCommentButtonMouseEnter:_,xstyle:u}),a[6]=y,a[7]=u,a[8]=d,a[9]=h,a[10]=p,a[11]=_,a[12]=L):L=a[12];var E;a[13]!==y||a[14]!==l||a[15]!==C||a[16]!==h||a[17]!==R||a[18]!==f||a[19]!==(g==null?void 0:g.id)?(E=R&&c.jsx(r("PolarisPostSocialProof.next.react"),{adFragmentKey:y,facepileSize:l,isAd:C,queryReference:h,viewerId:g==null?void 0:g.id,xstyle:f}),a[13]=y,a[14]=l,a[15]=C,a[16]=h,a[17]=R,a[18]=f,a[19]=g==null?void 0:g.id,a[20]=E):E=a[20];var k;return a[21]!==L||a[22]!==E?(k=c.jsxs(c.Fragment,{children:[L,E]}),a[21]=L,a[22]=E,a[23]=k):k=a[23],k}l.default=d}),98);
__d("PolarisMobilePostDetailsSection.next.react",["fbt","CometRelay","IGDSBox.react","PolarisCrawlerPhotoTextualContentGating","PolarisCrawlerReelTranscriptGating","PolarisMobilePostCaption.next.react","PolarisMobilePostDetailsSectionFragment.graphql","PolarisMobilePostPreviewComments.next.react","PolarisPostFastViewAllComments.next.react","PolarisPostFooter.next.react","PolarisPostTimestamp.react","PolarisPostUFI.next.react","PolarisSponsoredPostContext.react","PolarisUserText.react","XPolarisMobileAllCommentsControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher","usePolarisViewer"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useContext,_={likeButton:{marginInlineStart:"x1qfufaz",$$css:!0},socialProof:{marginBottom:"x1e56ztr",marginTop:"x1xmf6yo",$$css:!0}};function f(t){var a,i=o("react-compiler-runtime").c(50),l=t.isCrawler,u=t.isMainPostOfPage,d=t.queryReference,m=l===void 0?!1:l,f=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMobilePostDetailsSectionFragment.graphql"),d),g=r("usePolarisViewer")(),h=p(o("PolarisSponsoredPostContext.react").PolarisSponsoredPostContext),y=h.canUserSeePersistentCta,C=r("useCometRouterDispatcher")(),b;i[0]!==y||i[1]!==C||i[2]!==f.code?(b=function(){var e=r("XPolarisMobileAllCommentsControllerRouteBuilder").buildURL({enable_persistent_cta:y,shortcode:f.code});C==null||C.go(e,{})},i[0]=y,i[1]=C,i[2]=f.code,i[3]=b):b=i[3];var v=b,S=Number(f.taken_at),R=f.comment_count!=null&&f.preview_comments!=null&&f.comment_count>f.preview_comments.length,L;i[4]!==f?(L=c.jsx(r("PolarisPostFooter.next.react"),{analyticsContext:"postPage",queryReference:f}),i[4]=f,i[5]=L):L=i[5];var E,k;i[6]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x78zum5 xdt5ytf x1yrsyyn xv54qhq x1l90r2v xf7dkkf"},k={className:"x1gslohp"},i[6]=E,i[7]=k):(E=i[6],k=i[7]);var I;i[8]!==f||i[9]!==v||i[10]!==g?(I=c.jsx("div",babelHelpers.extends({},k,{children:c.jsx(r("PolarisPostUFI.next.react"),{adQueryReference:null,likeButtonStaticStyles:_.likeButton,mediaQueryReference:f,onCommentButtonClick:v,socialProofStaticStyles:_.socialProof,viewer:g})})),i[8]=f,i[9]=v,i[10]=g,i[11]=I):I=i[11];var T;i[12]!==m||i[13]!==u||i[14]!==f?(T=c.jsx(r("PolarisMobilePostCaption.next.react"),{isCrawler:m,isMainPostOfPage:u,queryReference:f}),i[12]=m,i[13]=u,i[14]=f,i[15]=T):T=i[15];var D;i[16]!==R||i[17]!==f||i[18]!==v?(D=R&&c.jsx(r("PolarisPostFastViewAllComments.next.react"),{fragmentKey:f,onClick:v}),i[16]=R,i[17]=f,i[18]=v,i[19]=D):D=i[19];var x;i[20]!==D?(x=c.jsx(r("IGDSBox.react"),{marginBottom:1,children:D}),i[20]=D,i[21]=x):x=i[21];var $;i[22]!==f?($=c.jsx(r("PolarisMobilePostPreviewComments.next.react"),{queryReference:f}),i[22]=f,i[23]=$):$=i[23];var P;if(i[24]!==f.code||i[25]!==f.product_type||i[26]!==((a=f.user)==null?void 0:a.username)||i[27]!==S){var N,M;P=!isNaN(S)&&c.jsx(r("IGDSBox.react"),{alignItems:"center",direction:"row",marginTop:1,children:c.jsx(r("PolarisPostTimestamp.react"),{code:f.code,postedAt:S,productType:f.product_type,username:f==null||(N=f.user)==null?void 0:N.username})}),i[24]=f.code,i[25]=f.product_type,i[26]=(M=f.user)==null?void 0:M.username,i[27]=S,i[28]=P}else P=i[28];var w;i[29]!==m||i[30]!==u?(w=m&&u&&r("PolarisCrawlerReelTranscriptGating").transcript!=null&&c.jsxs("div",{children:[s._(/*BTDS*/"\ud14d\uc2a4\ud2b8 \uae30\ub85d"),c.jsx(r("PolarisUserText.react"),{value:r("PolarisCrawlerReelTranscriptGating").transcript})]}),i[29]=m,i[30]=u,i[31]=w):w=i[31];var A;i[32]!==m||i[33]!==u?(A=m&&u&&r("PolarisCrawlerReelTranscriptGating").ocr!=null&&c.jsxs("div",{children:[s._(/*BTDS*/"OCR"),c.jsx(r("PolarisUserText.react"),{value:r("PolarisCrawlerReelTranscriptGating").ocr})]}),i[32]=m,i[33]=u,i[34]=A):A=i[34];var F;i[35]!==m||i[36]!==u?(F=m&&u&&r("PolarisCrawlerPhotoTextualContentGating").ocr!=null&&c.jsxs("div",{children:[s._(/*BTDS*/"OCR"),c.jsx(r("PolarisUserText.react"),{value:r("PolarisCrawlerPhotoTextualContentGating").ocr})]}),i[35]=m,i[36]=u,i[37]=F):F=i[37];var O;i[38]!==$||i[39]!==P||i[40]!==w||i[41]!==A||i[42]!==F||i[43]!==I||i[44]!==T||i[45]!==x?(O=c.jsxs("div",babelHelpers.extends({},E,{children:[I,T,x,$,P,w,A,F]})),i[38]=$,i[39]=P,i[40]=w,i[41]=A,i[42]=F,i[43]=I,i[44]=T,i[45]=x,i[46]=O):O=i[46];var B;return i[47]!==O||i[48]!==L?(B=c.jsxs("div",{children:[L,O]}),i[47]=O,i[48]=L,i[49]=B):B=i[49],B}l.default=f}),226);
__d("PolarisMobilePostFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisMobilePostFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"XDTLazyFloatingContextItem",kind:"LinkedField",name:"floating_context_items",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"PolarisMediaNoteBubbleGroupRelay_floatingContextItems"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisMedia_media"},{args:null,kind:"FragmentSpread",name:"PolarisMobilePostDetailsSectionFragment"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeaderLegacyContainer_media"},{args:null,kind:"FragmentSpread",name:"usePolarisPostCarouselIndex"},{args:null,kind:"FragmentSpread",name:"usePolarisPostViewpointLogging"},{args:null,kind:"FragmentSpread",name:"PolarisPostContextFragment"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostFastOptionsButton_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFastOptionsButton_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tracking_token",storageKey:null}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostFastOptionsButton_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostFastOptionsButton_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostFastOptionsButton.next.react",["fbt","CometRelay","IGDSBox.react","IGDSIconButton.react","IGDSMoreHorizontalPanoOutlineIcon.react","IGDSMoreVerticalPanoOutline24Icon.react","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisMediaConstants","PolarisPostFastOptionsButton_ad.graphql","PolarisPostFastOptionsButton_media.graphql","PolarisPostModalContext.react","PolarisViewpointActionUtils","polarisLogAction","react","react-compiler-runtime","usePolarisAnalyticsContext","usePolarisViewer"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=s._(/*BTDS*/"\uc635\uc158 \ub354 \ubcf4\uae30");function p(t){var a,i=o("react-compiler-runtime").c(16),l=t.adFragmentKey,s=t.isOverMedia,c=t.mediaKey,p=t.orientation,_=t.padding,f=t.xstyle,g=p===void 0?"horizontal":p,h=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostFastOptionsButton_ad.graphql"),l),y=o("CometRelay").useFragment(u!==void 0?u:u=n("PolarisPostFastOptionsButton_media.graphql"),c),C=y.media_type,b=y.pk,v=y.user,S=o("PolarisPostModalContext.react").useSetPostModal(),R=r("usePolarisAnalyticsContext")(),L=C===o("PolarisMediaConstants").MediaTypes.VIDEO,E=(a=r("usePolarisViewer")())==null?void 0:a.id,k;i[0]!==h||i[1]!==R||i[2]!==L||i[3]!==b||i[4]!==S||i[5]!==(v==null?void 0:v.id)||i[6]!==E?(k=function(){if(r("polarisLogAction")("postOptionsClick",{mediaId:b,source:R,type:L?"video":"photo"}),h!=null&&E!=null){var e=h.ad_id,t=h.tracking_token,n=o("PolarisContainerModuleUtils").getContainerModule(R);r("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:e,m_pk:o("PolarisViewpointActionUtils").getMPKForFeedMediaDict(b,v==null?void 0:v.id),pigeon_reserved_keyword_module:n,pk:E,source_of_action:n,tracking_token:t}})}S("optionsV2")},i[0]=h,i[1]=R,i[2]=L,i[3]=b,i[4]=S,i[5]=v==null?void 0:v.id,i[6]=E,i[7]=k):k=i[7];var I=k,T=r(g==="horizontal"?"IGDSMoreHorizontalPanoOutlineIcon.react":"IGDSMoreVerticalPanoOutline24Icon.react"),D=s?"ig-text-on-media":"ig-primary-text",x;i[8]!==T||i[9]!==D?(x=d.jsx(r("IGDSBox.react"),{alignItems:"center",height:24,justifyContent:"center",position:"relative",width:24,children:d.jsx(T,{alt:m,color:D})}),i[8]=T,i[9]=D,i[10]=x):x=i[10];var $;return i[11]!==I||i[12]!==_||i[13]!==x||i[14]!==f?($=d.jsx(r("IGDSIconButton.react"),{"data-testid":void 0,onClick:I,padding:_,xstyle:f,children:x}),i[11]=I,i[12]=_,i[13]=x,i[14]=f,i[15]=$):$=i[15],$}var _=d.memo(p);l.default=_}),226);
__d("PolarisPostHeaderFavoritedIconButton_items.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostHeaderFavoritedIconButton_items",selections:[{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_feed_favorite",storageKey:null}],storageKey:null}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostHeaderFavoritedIconButton.next.react",["CometRelay","IGDSBox.react","IGDSIconButton.react","IGDSStarPanoFilledGradientIcon.react","PolarisFavoritesStrings","PolarisPostHeaderFavoritedIconButton_items.graphql","PolarisPostModalContext.react","polarisLogAction","react","react-compiler-runtime","usePolarisIsOnFeedPage","usePolarisIsOnReelsPage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(5),l=t.fragmentKey,s=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostHeaderFavoritedIconButton_items.graphql"),l),c=(a=s.user)==null||(a=a.friendship_status)==null?void 0:a.is_feed_favorite,d=o("PolarisPostModalContext.react").useSetPostModal(),m=r("usePolarisIsOnFeedPage")(),p=r("usePolarisIsOnReelsPage")();if(c===!0&&(m||p)){var _;i[0]!==d?(_=function(){r("polarisLogAction")("favoriteIconInPostHeaderClick"),d("favorites")},i[0]=d,i[1]=_):_=i[1];var f;i[2]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(r("IGDSBox.react"),{padding:1,children:u.jsx(r("IGDSStarPanoFilledGradientIcon.react"),{alt:o("PolarisFavoritesStrings").FAVORITED_ICON_ALT,size:16})}),i[2]=f):f=i[2];var g;return i[3]!==_?(g=u.jsx(r("IGDSIconButton.react"),{onClick:_,padding:0,children:f}),i[3]=_,i[4]=g):g=i[4],g}return null}l.default=c}),98);
__d("PolarisPostHeaderLegacyContainer_ad.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostHeaderLegacyContainer_ad",selections:[{alias:null,args:null,kind:"ScalarField",name:"ad_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_fb_page_name",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsButton_ad"}],type:"XDTAdInsertionItemClientDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostHeaderLegacyContainer_media.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostHeaderLegacyContainer_media",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{alias:null,args:null,kind:"ScalarField",name:"is_paid_partnership",storageKey:null},{alias:null,args:null,concreteType:"XDTAffiliateInfo",kind:"LinkedField",name:"affiliate_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"disclosure_tag",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisPostFastOptionsButton_media"},{args:null,kind:"FragmentSpread",name:"PolarisPostHeaderFavoritedIconButton_items"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostHeaderLegacyContainer.next.react",["invariant","CometRelay","IGDSConstants","PolarisIsLoggedIn","PolarisPostFastOptionsButton.next.react","PolarisPostHeader.react","PolarisPostHeaderFavoritedIconButton.next.react","PolarisPostHeaderLegacyContainer_ad.graphql","PolarisPostHeaderLegacyContainer_media.graphql","PolarisReactRedux.react","polarisPostSelectors","react","react-compiler-runtime","usePolarisViewer"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m={optionsButton:{display:"x78zum5",justifyContent:"xl56j7k",paddingInlineEnd:null,$$css:!0}};function p(t){var a=o("react-compiler-runtime").c(32),i=t.ad,l=t.media,c=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostHeaderLegacyContainer_media.graphql"),l),p=c.affiliate_info,_=c.is_paid_partnership,f=c.pk,g=o("CometRelay").useFragment(u!==void 0?u:u=n("PolarisPostHeaderLegacyContainer_ad.graphql"),i),h;a[0]!==f?(h=function(t){return o("polarisPostSelectors").getPostById(t,f)},a[0]=f,a[1]=h):h=a[1];var y=o("PolarisReactRedux.react").useSelector(h),C;a[2]!==y?(C=function(t){return o("polarisPostSelectors").maybeGetOwnerByPost(t,y)},a[2]=y,a[3]=C):C=a[3];var b=o("PolarisReactRedux.react").useSelector(C);b!=null||s(0,67416);var v=r("usePolarisViewer")(),S=(v==null?void 0:v.id)===b.id,R;a[4]!==y.coauthorProducers?(R=!o("PolarisIsLoggedIn").isLoggedIn()&&y.coauthorProducers&&y.coauthorProducers.length!==0?y.coauthorProducers:void 0,a[4]=y.coauthorProducers,a[5]=R):R=a[5];var L=R,E=!S&&L==null,k;a[6]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x6s0dn4 x78zum5 x1q0g3np"},a[6]=k):k=a[6];var I=g==null?void 0:g.ad_title,T=g==null?void 0:g.display_fb_page_name,D=(p==null?void 0:p.disclosure_tag)!=null,x=_===!0,$=y.isSharedFromBasel===!0,P=y.audience==="MediaAudience.BESTIES",N;a[7]!==L||a[8]!==f||a[9]!==y.clipsAttributionInfo||a[10]!==y.clipsMusicAttributionInfo||a[11]!==y.location||a[12]!==y.owner||a[13]!==y.sponsors||a[14]!==b||a[15]!==E||a[16]!==P||a[17]!==I||a[18]!==T||a[19]!==D||a[20]!==x||a[21]!==$?(N=d.jsx(r("PolarisPostHeader.react"),{adTitle:I,analyticsContext:"postPage",clipsAttributionInfo:y.clipsAttributionInfo,clipsAudioAttributionInfo:y.clipsMusicAttributionInfo,coauthorProducers:L,displayFBPageName:T,headerAvatarSize:r("IGDSConstants").AVATAR_SIZES.small,inModal:!1,isAffiliate:D,isPaidPartnership:x,isSharedFromEdits:$,isSharedToCloseFriends:P,isSponsored:!1,location:y.location,mediaId:f,owner:b,shouldShowFollowButton:E,showVerifiedBadge:!0,sidebarVariantOptionsButton:!0,sponsors:y.sponsors,transparencyLabelOwner:y.owner}),a[7]=L,a[8]=f,a[9]=y.clipsAttributionInfo,a[10]=y.clipsMusicAttributionInfo,a[11]=y.location,a[12]=y.owner,a[13]=y.sponsors,a[14]=b,a[15]=E,a[16]=P,a[17]=I,a[18]=T,a[19]=D,a[20]=x,a[21]=$,a[22]=N):N=a[22];var M;a[23]!==c?(M=d.jsx(r("PolarisPostHeaderFavoritedIconButton.next.react"),{fragmentKey:c}),a[23]=c,a[24]=M):M=a[24];var w;a[25]!==g||a[26]!==c?(w=d.jsx(r("PolarisPostFastOptionsButton.next.react"),{adFragmentKey:g,isOverMedia:!1,mediaKey:c,xstyle:m.optionsButton}),a[25]=g,a[26]=c,a[27]=w):w=a[27];var A;return a[28]!==N||a[29]!==M||a[30]!==w?(A=d.jsxs("div",babelHelpers.extends({},k,{children:[N,M,w]})),a[28]=N,a[29]=M,a[30]=w,a[31]=A):A=a[31],A}l.default=p}),98);
__d("useHasCarouselIndexingFix",["PolarisIsLoggedIn","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("PolarisIsLoggedIn").isLoggedIn()?!0:r("gkx")("15969")===!0}l.default=e}),98);
__d("usePolarisMediaInitialCarouselIndex.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisMediaInitialCarouselIndex",selections:[{alias:null,args:null,kind:"ScalarField",name:"main_feed_carousel_starting_media_id",storageKey:null},{alias:null,args:null,concreteType:"XDTMediaDict",kind:"LinkedField",name:"carousel_media",plural:!0,selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],storageKey:null}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisMediaInitialCarouselIndex",["CometRelay","react-compiler-runtime","usePolarisMediaInitialCarouselIndex.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var r=o("react-compiler-runtime").c(3),a=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisMediaInitialCarouselIndex.graphql"),t),i;if(r[0]!==a.carousel_media||r[1]!==a.main_feed_carousel_starting_media_id){var l;i=(l=a.carousel_media)==null?void 0:l.findIndex(function(e){var t=e.pk;return t===a.main_feed_carousel_starting_media_id}),r[0]=a.carousel_media,r[1]=a.main_feed_carousel_starting_media_id,r[2]=i}else i=r[2];var s=i;return s==null||s===-1?0:s}l.default=s}),98);
__d("usePolarisPostCarouselIndex.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisPostCarouselIndex",selections:[{args:null,kind:"FragmentSpread",name:"usePolarisMediaInitialCarouselIndex"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisPostCarouselIndex",["CometRelay","CometRouteParams","useHasCarouselIndexingFix","usePolarisMediaInitialCarouselIndex","usePolarisPostCarouselIndex.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var a=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisPostCarouselIndex.graphql"),t),i=o("CometRouteParams").useRouteParams(),l=r("useHasCarouselIndexingFix")(),s=r("usePolarisMediaInitialCarouselIndex")(a),u=l?i.img_index:i.img_index_query_param,c=isNaN(u)?l?null:0:u;return c!=null?parseInt(c,10)-1:s!=null?s:l?0:s}l.default=s}),98);
__d("usePolarisPostViewpointLogging.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePolarisPostViewpointLogging",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"},{args:null,kind:"FragmentSpread",name:"PolarisOrganicImpressionAction_media"},{args:null,kind:"FragmentSpread",name:"PolarisVpvdImpressionActionForPost_media"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("usePolarisPostViewpointLogging",["CometRelay","PolarisOrganicImpressionAction.next.react","PolarisViewpointReact.react","PolarisVpvdImpressionAction.next.react","react-compiler-runtime","usePolarisPostViewpointLogging.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r){var a=o("react-compiler-runtime").c(6),i=o("CometRelay").useFragment(e!==void 0?e:e=n("usePolarisPostViewpointLogging.graphql"),t),l=o("PolarisOrganicImpressionAction.next.react").usePostImpressionAction(i,r),s=o("PolarisVpvdImpressionAction.next.react").usePostVpvdImpressionAction(i,r),u;a[0]!==l||a[1]!==s?(u=[l,s],a[0]=l,a[1]=s,a[2]=u):u=a[2];var c;return a[3]!==i.pk||a[4]!==u?(c={action:u,id:i.pk},a[3]=i.pk,a[4]=u,a[5]=c):c=a[5],o("PolarisViewpointReact.react").useViewpoint(c)}l.default=s}),98);
__d("PolarisMobilePost.next.react",["CometRelay","PolarisMedia.react","PolarisMediaNoteBubbleGroupRelay.react","PolarisMobilePostDetailsSection.next.react","PolarisMobilePostFragment.graphql","PolarisPostContext.react","PolarisPostHeaderLegacyContainer.next.react","react","react-compiler-runtime","usePolarisPostCarouselIndex","usePolarisPostSetURLSidecarIndex","usePolarisPostViewpointLogging"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState;function d(t){var a=o("react-compiler-runtime").c(30),i=t.isCrawler,l=t.isMainPostOfPage,s=t.queryReference,d=t.renderAllSidecarChildren,m=i===void 0?!1:i,p=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisMobilePostFragment.graphql"),s),_=r("usePolarisPostCarouselIndex")(p),f=c(_),g=f[0],h=f[1],y=r("usePolarisPostViewpointLogging")(p,"postPage"),C=r("usePolarisPostSetURLSidecarIndex")(),b;a[0]===Symbol.for("react.memo_cache_sentinel")?(b=function(t){h(t)},a[0]=b):b=a[0];var v=b,S;a[1]!==C?(S=function(t,n,r){C(n+1),v(n)},a[1]=C,a[2]=S):S=a[2];var R=S,L;a[3]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x78zum5 xdt5ytf"},a[3]=L):L=a[3];var E;a[4]!==p?(E=u.jsx(r("PolarisPostHeaderLegacyContainer.next.react"),{media:p}),a[4]=p,a[5]=E):E=a[5];var k;a[6]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x1n2onr6"},a[6]=k):k=a[6];var I;a[7]!==g||a[8]!==R||a[9]!==p||a[10]!==d?(I=u.jsx(r("PolarisMedia.react"),{analyticsContext:"postPage",handleMediaSidecarChildIndexChange:R,initialCarouselIndex:g,mediaFragmentKey:p,renderAllSidecarChildren:d}),a[7]=g,a[8]=R,a[9]=p,a[10]=d,a[11]=I):I=a[11];var T;a[12]!==p.floating_context_items||a[13]!==p.id?(T=p.floating_context_items!=null&&p.floating_context_items.length>0&&u.jsx("div",{className:"x874rk5 xzwoauc x10l6tqk x1vjfegm",children:u.jsx(r("PolarisMediaNoteBubbleGroupRelay.react"),{floatingContextItemsQueryRef:p.floating_context_items,mediaId:p.id})}),a[12]=p.floating_context_items,a[13]=p.id,a[14]=T):T=a[14];var D;a[15]!==I||a[16]!==T?(D=u.jsxs("div",babelHelpers.extends({},k,{children:[I,T]})),a[15]=I,a[16]=T,a[17]=D):D=a[17];var x;a[18]!==m||a[19]!==l||a[20]!==p?(x=u.jsx(r("PolarisMobilePostDetailsSection.next.react"),{isCrawler:m,isMainPostOfPage:l,queryReference:p}),a[18]=m,a[19]=l,a[20]=p,a[21]=x):x=a[21];var $;a[22]!==p||a[23]!==x||a[24]!==E||a[25]!==D?($=u.jsxs(o("PolarisPostContext.react").PolarisPostContextProvider,{analyticsContext:"postPage",queryReference:p,children:[E,D,x]}),a[22]=p,a[23]=x,a[24]=E,a[25]=D,a[26]=$):$=a[26];var P;return a[27]!==$||a[28]!==y?(P=u.jsx("article",babelHelpers.extends({},L,{"data-testid":void 0,ref:y,children:$})),a[27]=$,a[28]=y,a[29]=P):P=a[29],P}l.default=d}),98);
__d("PolarisPostPageGatedContentAPIReasonFallback.react",["PolarisHttpGatedContentPage.react","PolarisHttpGatedContentPageWithShell.react","react","react-compiler-runtime","useGatedContentInfo","usePolarisGetQuery"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.cannesStatedQuery,a=e.error,i=e.fullpage,l=e.postId,u=i===void 0?!0:i,c;t[0]!==l?(c={query:{content_type:"MEDIA",target_id:l}},t[0]=l,t[1]=c):c=t[1];var d=r("usePolarisGetQuery")("/api/v1/web/get_ruling_for_content/",c),m=o("useGatedContentInfo").useGatedContentInfo(d);if(m==null)throw a;var p=r(u?"PolarisHttpGatedContentPageWithShell.react":"PolarisHttpGatedContentPage.react"),_;return t[2]!==p||t[3]!==n||t[4]!==m||t[5]!==l?(_=s.jsx(p,{cannesStatedQuery:n,entityId:l,gatedContentInfo:m}),t[2]=p,t[3]=n,t[4]=m,t[5]=l,t[6]=_):_=t[6],_}l.default=u}),98);
__d("PolarisPostPageWrapperFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostPageWrapperFragment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW"}],type:"XDTMediaDict",abstractKey:null};a.exports=e}),null);
__d("PolarisPostPageWrapper.react",["CometRelay","IGDSDialogBackwardsCompatibilityWrapper.react","PolarisEntityQRModalLazy.react","PolarisPostPageWrapperFragment.graphql","react","react-compiler-runtime","useCurrentRoute"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState;function d(t){var a,i=o("react-compiler-runtime").c(6),l=t.children,s=t.queryReference,d=o("CometRelay").useFragment(e!==void 0?e:e=n("PolarisPostPageWrapperFragment.graphql"),s),m=r("useCurrentRoute")(),p=c((m==null||(a=m.rootView.props)==null?void 0:a.qr)===!0),_=p[0],f=p[1],g;i[0]!==d||i[1]!==_?(g=_===!0&&u.jsx(r("IGDSDialogBackwardsCompatibilityWrapper.react"),{children:u.jsx(r("PolarisEntityQRModalLazy.react"),{entityID:d.pk,onClose:function(){return f(!1)},source:"DIRECT_NAVIGATION"})}),i[0]=d,i[1]=_,i[2]=g):g=i[2];var h;return i[3]!==l||i[4]!==g?(h=u.jsxs(u.Fragment,{children:[l,g]}),i[3]=l,i[4]=g,i[5]=h):h=i[5],h}l.default=d}),98);
__d("PolarisRulingForMediaContentLoggedOutQuery.graphql",["PolarisRulingForMediaContentLoggedOutQuery_instagramRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"media_id"},t={defaultValue:null,kind:"LocalArgument",name:"owner_id"},r=[{kind:"Variable",name:"media_id",variableName:"media_id"},{kind:"Variable",name:"owner_id",variableName:"owner_id"}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"PolarisRulingForMediaContentLoggedOutQuery",selections:[{alias:null,args:r,concreteType:"XDTGatingDict",kind:"LinkedField",name:"xdt_async_get_ruling_for_media_content_logged_out_v2",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"useGatedContentInfoFromDict_gating"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"PolarisRulingForMediaContentLoggedOutQuery",selections:[{alias:null,args:r,concreteType:"XDTGatingDict",kind:"LinkedField",name:"xdt_async_get_ruling_for_media_content_logged_out_v2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocks_logging_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gating_type_thrift",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}]},params:{id:n("PolarisRulingForMediaContentLoggedOutQuery_instagramRelayOperation"),metadata:{is_distillery:!0,root_field_name:["xdt_async_get_ruling_for_media_content_logged_out_v2"]},name:"PolarisRulingForMediaContentLoggedOutQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("PolarisRulingForMediaContentLoggedOut.next.react",["CometRelay","ODS","PolarisHttpGatedContentPage.react","PolarisRulingForMediaContentLoggedOutQuery.graphql","react","react-compiler-runtime","useGatedContentInfo"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react"));function d(t){var a=o("react-compiler-runtime").c(3),i=t.children,l=t.polarisRulingForMediaContentLoggedOutQuery,s=t.postId,d=o("CometRelay").usePreloadedQuery(e!==void 0?e:e=n("PolarisRulingForMediaContentLoggedOutQuery.graphql"),l),m=d.xdt_async_get_ruling_for_media_content_logged_out_v2,p=o("useGatedContentInfo").useGatedContentInfoFromDict(m);if(p!=null){(u||(u=o("ODS"))).bumpEntityKey(4452,"ig_seo","restricted_media_content");var _;return a[0]!==p||a[1]!==s?(_=c.jsx(r("PolarisHttpGatedContentPage.react"),{cannesStatedQuery:null,entityId:s,gatedContentInfo:p}),a[0]=p,a[1]=s,a[2]=_):_=a[2],_}return i}l.default=d}),98);
__d("usePolarisCommentsSortOrder",["PolarisSortCommentsUtil","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState;function u(){return s(o("PolarisSortCommentsUtil").CommentsOptionValues.TOP)}l.default=u}),98);